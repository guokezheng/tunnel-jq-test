<template>
  <div class="app-container">
    <div class="my-back">
      <!-- :style="{ height: 'calc(100vh - (' + navigationHeight + 'px))' }" -->
      <div class="header workbench-header">
        <el-row
          class="menu-b"
          style="display: flex; align-items: center; z-index: 8"
          :style="isManagementStation ? 'padding-left:100px;' : ''"
        >
          <el-cascader
            v-model="tunnelQueryParams.deptId"
            :options="siteList"
            :props="siteProps"
            @visible-change="cascaderHandleChange"
            @expand-change="cascaderHandleChange"
            :show-all-levels="false"
            @change="changeSite"
            placeholder="请选择"
            size="mini"
            :class="manageStation == '1' ? 'siteClassDisabled' : 'siteClass'"
            popper-class="popper-class-site"
            v-show="!isManagementStation"
          />
          <el-button-group
            class="menu-button-group"
            style="margin-left: 3px"
            :style="isManagementStation ? 'display: flex;' : ''"
          >
            <el-tooltip
              class="item"
              popper-class="wb-tip"
              v-for="(item, index) in tunnelList"
              :key="item.tunnelId"
              effect="dark"
              placement="top-start"
            >
              <div slot="content" v-html="splitData(item.tunnelLength)"></div>
              <el-button
                type="info"
                size="mini"
                @click="setTunnel(item, index)"
                :class="index == buttonIndex ? 'tunnelBtnStyle' : ''"
                style="
                  display: flex;
                  justify-content: center;
                  height: 100%;
                  line-height: 3.1vh;
                  font-size: 0.75vw;
                  padding: 0 1vw;
                "
              >
                <div>{{ item.tunnelName }}</div>
              </el-button>
            </el-tooltip>
          </el-button-group>
        </el-row>
        <div class="flex-row buttonsBox">
          <!-- <div class="display-box zoomClass">
              <p
                class="zoom-title"
                style="font-size: 0.75vw; margin-right: 0.5vw"
              >
                {{ srollSwitch ? "滚动" : "滚动" }}
              </p>
              <el-switch
                v-model="srollSwitch"
                class="switchStyle"
                @change="srollSwitchChange"
              ></el-switch>
            </div>
            <div class="display-box zoomClass">
              <p
                class="zoom-title"
                style="font-size: 0.75vw; margin-right: 0.5vw"
              >
                {{ carShow ? "实时车辆" : "实时车辆" }}
              </p>
              <el-switch
                v-model="carShow"
                class="switchStyle"
                @change="carShowChange"
              ></el-switch>
            </div> -->
          <div class="display-box zoomClass" ref="treeBox">
            <el-input
              placeholder="请输入内容"
              v-model="screenEqName"
              class="input-with-select"
              clearable
              @click.native="treeClick()"
              @keyup.enter.native="screenEqNameButton()"
              @clear="treeClear"
            >
              <el-button
                slot="append"
                icon="el-icon-search"
                @click="screenEqNameButton()"
              ></el-button>
            </el-input>
            <!-- 搜索栏树状结构 -->
            <div
              class="treeBox"
              ref="treeBox"
              v-show="treeShow"
              :style="dragFlag ? '47%' : '54.5%'"
            >
              <el-tree
                :show-checkbox="false"
                :data="treeData"
                :props="defaultProps"
                @node-click="handleNodeClick"
                :filter-node-method="filterNode"
                accordion
                ref="tree"
                node-key="id"
              ></el-tree>
            </div>
          </div>
          <div class="display-box zoomClass">
            <!-- <p class="zoom-title" style="font-size: 0.75vw">缩放：</p> -->
            <el-input-number
              v-model="zoom"
              :step="10"
              :min="60"
              :max="140"
              step-strictly
              @change="zoomChange"
            >
              {{ zoom + "%" }}
            </el-input-number>
          </div>
          <!-- <div class="display-box zoomClass">
              <p
                class="zoom-title"
                style="font-size: 0.75vw; margin-right: 0.5vw"
              >
                {{ zoomSwitch == 0 ? "缩放" : "缩放" }}
              </p>
              <el-switch
                v-model="zoomSwitch"
                class="switchStyle"
                @change="zoomSwitchChange"
              ></el-switch>
            </div> -->
          <el-button
            v-if="resetCanvasFlag"
            class="flex-row"
            type="primary"
            size="mini"
            icon="el-icon-map-location"
            @click="resetCanvas"
          >
            地图复位
          </el-button>
          <el-button
            class="buttons"
            type="primary"
            size="mini"
            @click="strategyPage"
          >
            <img src="../../../assets/icons/kzcl.png" />
            <span>控制策略</span>
          </el-button>
          <!--          <el-button-->
          <!--            class="buttons"-->
          <!--            type="primary"-->
          <!--            size="mini"-->
          <!--            @click="strategyPage1"-->
          <!--          >-->
          <!--            <img src="../../../assets/icons/kzcl.png" />-->
          <!--            <span>控制策略1</span>-->
          <!--          </el-button>-->
          <el-button
            class="buttons"
            type="primary"
            size="mini"
            @click="strategyPage2"
          >
            <img src="../../../assets/icons/kzcl.png" />
            <span>智慧调光</span>
          </el-button>
          <!--          <el-button-->
          <!--            class="buttons"-->
          <!--            type="primary"-->
          <!--            size="mini"-->
          <!--            @click="iconLighting"-->
          <!--          >-->
          <!--            <img src="../../../assets/icons/zmpz.png" />-->
          <!--            <span>照明配置</span>-->
          <!--          </el-button>-->
          <el-button
            class="buttons"
            type="primary"
            size="mini"
            @click="batchManage"
            v-if="batchManageType == 1"
          >
            <img src="../../../assets/icons/plcz.png" />
            <span>批量操作</span>
          </el-button>
          <div v-if="batchManageType == 2" class="batchManageButton">
            <div @click="closeBatchManageDialog">取消</div>
            <div @click="implementBatchManage">执行</div>
          </div>
          <el-button
            class="buttons"
            type="primary"
            size="mini"
            @click="iconExplain"
          >
            <img src="../../../assets/icons/tbhy.png" />
            <span>图标含义</span>
          </el-button>
          <el-button
            class="buttons"
            type="primary"
            size="mini"
            @click="operationLogPage"
          >
            <img src="../../../assets/icons/czrz.png" />
            <span>操作日志</span>
          </el-button>
        </div>
      </div>
      <div class="buttonsDeawer" @click="isDrawer()">
        <img
          src="../../../assets/icons/deawer.png"
          :style="{
            transform: buttonsDeawer ? 'rotate(180deg)' : '',
          }"
        />
      </div>
      <el-drawer
        title="一键控制"
        :visible.sync="buttonsDeawer"
        :modal="false"
        :append-to-body="true"
        class="drawerBox"
      >
        <el-row>
          <el-col :span="12">
            <div class="drawerItem zoomClass">
              <p
                class="zoom-title"
                style="font-size: 0.7vw; margin-right: 0.5vw"
              >
                {{ srollSwitch ? "底图滚动关" : "底图滚动开" }}
              </p>
              <el-switch
                v-model="srollSwitch"
                class="switchStyle"
                @change="srollSwitchChange"
              ></el-switch>
            </div>
          </el-col>
          <el-col :span="12">
            <div class="drawerItem zoomClass">
              <p
                class="zoom-title"
                style="font-size: 0.7vw; margin-right: 0.5vw"
              >
                {{ carShow ? "实时车辆关" : "实时车辆开" }}
              </p>
              <el-switch
                v-model="carShow"
                class="switchStyle"
                @change="carShowChange"
              ></el-switch>
            </div>
          </el-col>
          <el-col :span="12">
            <div class="drawerItem zoomClass">
              <p
                class="zoom-title"
                style="font-size: 0.7vw; margin-right: 0.5vw"
              >
                {{ zoomSwitch == 0 ? "缩放比例开" : "缩放比例关" }}
              </p>
              <el-switch
                v-model="zoomSwitch"
                class="switchStyle"
                @change="zoomSwitchChange"
              ></el-switch>
            </div>
          </el-col>
        </el-row>
      </el-drawer>
      <div
        class="vehicleLane"
        @mouseover="mouseoversImage"
        @mouseleave="mouseleaveImage"
      >
        <div
          class="content"
          ref="divRoller"
          @wheel.prevent="handleTableWheel"
          @mousewheel.prevent="mouseSrollAuto"
          @contextmenu.prevent
          @mousedown="dragImg"
        >
          <!-- 右键拖拽 勿删 -->
          <!-- <div
            class="workbench-content"
            @mousedown="dragImg"
            ref="dragImgDom"
            @contextmenu.prevent
          > -->
          <div class="workbench-content" ref="dragImgDom">
            <!--画布区域-->
            <div>
              <el-row
                class="config-img-area"
                id="config-img-id"
                :style="{ width: currentTunnel.lane.width + 'px' }"
              >
                <el-image
                  class="back-img"
                  :src="currentTunnel.lane.url"
                  :style="{ width: currentTunnel.lane.width + 'px' }"
                ></el-image>
                <div class="wrapper" id="eq-wrapper" ref="eqWrapper">
                  <!-- <div
                  class="wrapper"
                  id="eq-wrapper"
                  @mousedown="dian"
                  @mousemove="yi"
                  @mouseup="li"
                  @mouseover="mouseoversImage"
                  @mouseleave="mouseleaveImage"
                > -->
                  <!-- 鼠标移动时产生的蓝框 -->
                  <div
                    id="container"
                    v-if="move == true"
                    :style="{
                      backgroundColor: back,
                      height: h + 'px',
                      width: w + 'px',
                      position: 'absolute',
                      left: left - 48 + 'px',
                      top: top - 30 + 'px',
                      opacity: 0.5,
                      border: len + 'px dashed #176CBF',
                      'z-index': '1000',
                      'pointer-events': 'none',
                    }"
                  ></div>
                  <!-- 测控执行器 -->
                  <div
                    class="actuatorCK"
                    v-show="
                      selectBigType.index == 0 &&
                      selectedIconList.length > 0 &&
                      currentTunnel.id == 'JQ-JiNan-WenZuBei-MJY'
                    "
                    @click="openStateSwitch(actuatorCKItem)"
                    @mousemove="openTooltip2()"
                    @mouseleave="closeTooltip2()"
                  >
                    <img
                      src="../../../assets/logo/equipment_log/测控执行器-离线.png"
                    />
                  </div>
                  <div class="actuatorCKTooltipBox" v-if="actuatorTooltip">
                    <span>名称：{{ actuatorCKItem.eqName }}</span
                    ><br />
                    <span>方向：{{ actuatorCKItem.eqDirection }}</span>
                  </div>

                  <!-- <template>
                    <div
                      style="
                        width: 1950px;
                        height: 15px;
                        border-bottom: 4px #ccc solid;
                        position: relative;
                        top: 242px;
                        left: 214px;
                      "
                      v-show="robotShow"
                      @click="clickRobot"
                    >
                      <img
                        src="../../../assets/logo/equipment_log/机器人-在线.png"
                        class="robotAnimation"
                      />
                    </div>
                  </template> -->
                  <!--      爆炸效果图       :style="{ top:10 +'px',left:value[key].left+ +'px',right:value[key].right+ +'px',width: 48+'px',height:48+'px' }"   -->
                  <div
                    class="accident"
                    v-for="(itme, index) in carActionExplodeList"
                    :key="index"
                  >
                    <!--                  <svg :style="{-->
                    <!--                      right: itme.right,-->
                    <!--                      left: itme.left,-->
                    <!--                      top: itme.top,-->
                    <!--                    }" t="1682579470267" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1520" width="48" height="48"><path d="M363.3 318.7c1.2 3.7 48.7 146.2-89.4 186.5 143.2 27.9 92.6 179.5 80.3 192.4 26.4-11.2 128.9-97.2 206.6 65.5 21.8-128 118.1-89.1 120.5-88.2-1.1-2.4-43.6-94.4 83.6-159.8-111.4-21.5-88.7-144.6-61.5-166-148.4 49.2-130.9-74.5-130.9-74.5s-111.3 205.3-209.2 44.1z m480.1 196.4s-200.9 64.6-53.1 233.1c-218.3-52.5-226.1 90.7-226.1 90.7s-87.5-206-272.1-33.7c67.9-180.8-8.4-249.5-67-274.4-28.1-12-54.2-13.2-54.2-13.2s22.2-4.8 52.7-22.1c56.4-32 133.4-104.6 98.9-253.9 0 0 125.7 193.1 261.1-45.4 9.7 136.1 86.8 136.7 166.5 124.4-105.7 142.5 93.3 194.5 93.3 194.5z" fill="#FF2B3F" p-id="1521"></path><path d="M436.1 442.3c7.4 22.1-0.5 58-36.5 88.2 55.1 14.9 44.7 88.1 44.7 88.1 90.1-14.9 110.2 42.1 110.2 42.1 5.8-35.6 54.4-41.4 89.4-38.9-5.2-11-22.7-71.9 27.8-118.6-79.9-8.6-99.7-123.7-99.7-123.7-50.5 82.1-134.1 62.2-134.1 62.2l-1.8 0.6z m267.3-93.2c-27.2 21.4-49.9 144.4 61.5 166-127.2 65.4-84.7 157.5-83.6 159.8-2.3-0.9-98.7-39.8-120.5 88.2-77.7-162.6-180.2-76.7-206.6-65.5 12.3-12.9 62.8-164.5-80.3-192.4 138.1-40.3 90.7-182.8 89.4-186.5 97.8 161.2 209.2-44.1 209.2-44.1S555 398.3 703.4 349.1z" fill="#FFEB00" p-id="1522"></path><path d="M671.7 503.3c-50.5 46.6-33 107.6-27.8 118.6-35-2.6-83.6 3.3-89.4 38.9 0 0-20.1-57-110.2-42.1 0 0 10.4-73.2-44.7-88.1 36-30.2 43.9-66.1 36.5-88.2l1.7-0.6s83.6 19.9 134.1-62.2c0-0.1 19.8 115.1 99.8 123.7z" fill="#FFFFFF" p-id="1523"></path><path d="M568.7 865.1l-10.1-23.8c-0.3-0.8-35.5-81.6-105.6-96.4-47.3-10-100.1 11.8-156.9 64.8L277.4 827l9-23.9c29.5-78.6 34.2-142.9 14-191.3-17.8-42.7-52.1-64.6-77.7-75.5-26.7-11.4-51.9-12.7-52.1-12.7l-45.7-2.2 44.7-9.6c0.2 0 21.8-4.9 51-21.4 24.8-14.1 59.1-39.5 81.2-80.6 24.7-46 29.7-102.1 14.8-166.8l-7.6-33.1 18.5 28.4c0.5 0.7 48.4 73.1 114.5 71 47.6-1.5 93.5-40.5 136.4-116.1l9.8-17.2 1.4 19.8c3.7 51.4 17.1 85.6 41 104.7 30.1 24 74.8 21 118.6 14.2l14.4-2.2-8.7 11.7c-27.2 36.8-35.8 70.3-25.5 99.7 21.2 60.2 114.5 85.2 115.4 85.4l19.9 5.2-19.6 6.3c-0.8 0.3-82.9 27.4-100 89.6-10.8 39 5.9 84 49.6 133.8l12.5 14.2-18.4-4.4c-79.6-19.1-139.5-14.3-178 14.3-38 28.3-40.7 70.5-40.7 70.9l-1.4 25.9zM430.2 730.4c8.6 0 17.1 0.9 25.4 2.7 31.7 6.7 61.4 26.8 86.1 58 8.6 10.9 15.2 21.3 19.8 29.4 4.7-16.8 15.8-42.1 42.2-61.8 38.5-28.7 95.9-35.5 170.6-20.2-37.9-47.8-51.6-91.9-40.7-131.3 7.9-28.5 29.1-54.4 61.4-75.1 11.4-7.3 22.2-12.7 30.5-16.4-9.6-3.4-22.6-8.7-36.3-16-36.8-19.5-61.4-44.3-71.1-71.9-10.6-30.2-4.2-63.5 19.1-99.4-42 5.5-83.8 5.5-114.2-18.7-23.6-18.8-37.9-49.9-43.6-94.8-42.6 69.1-88.6 104.8-137.1 106.3-30.3 0.9-61.5-12.1-90.3-37.6-7.4-6.5-13.7-13.1-18.8-18.9 9.1 57.4 2.2 107.9-20.7 150.5-23.5 43.6-59.7 70.5-85.9 85.3-11.4 6.5-21.6 11.2-30.1 14.7 9.1 2 19.9 5.2 31 9.9 27.7 11.8 64.7 35.5 84.1 82 19.5 46.6 17.4 106.5-6.1 178.2 43.6-36.5 85.5-54.9 124.7-54.9z" fill="#91000A" p-id="1524"></path><path d="M476.1 467.2c-5.4 17.2-14 33.3-19.4 50.5-1.6 5 5.6 7.7 8.2 3.5 11.2-17.5 20.2-36.7 34.3-52.2-2.5-1.5-5-2.9-7.5-4.4-5.8 19.3-20.5 35.9-19.6 56.9 0.2 3.9 4.8 5.9 7.7 3.2 14.5-13.4 23.3-32 33.1-48.8-2.7-1.2-5.5-2.3-8.2-3.5-6.6 19.1-20.3 35.4-23.3 55.7-0.6 3.8 2.9 7 6.6 5.1 10.7-5.6 17.7-16.5 23.6-26.6 6.4-11.1 11.7-23 19.5-33.3l-7.8-4.5c-12.7 25.4-24.9 52.4-25.2 81.3-0.1 5.8 8.9 5.8 9 0 0.3-27.2 12.1-52.9 24-76.8 2.6-5.3-4.3-9.1-7.8-4.5-7.2 9.5-12.2 20.5-18.1 30.9-5.5 9.6-11.6 20.5-21.8 25.8l6.6 5.1c3-20.2 16.8-36.7 23.3-55.7 1.7-4.9-5.7-7.8-8.2-3.5-9.4 16.2-17.7 34.1-31.7 47 2.6 1.1 5.1 2.1 7.7 3.2-0.9-19.8 13.8-36.3 19.3-54.5 1.3-4.2-4.5-7.7-7.5-4.4-14.6 16.2-24.1 35.8-35.7 54 2.7 1.2 5.5 2.3 8.2 3.5 5.4-17.2 14-33.3 19.4-50.5 1.8-5.6-6.9-8-8.7-2.5zM491.6 582.8c11.3-2.3 22.8-1.3 34.2-1.2-0.5-1.9-1-3.7-1.5-5.6-10.8 7.8-24.5 11.7-33 22.5-1.8 2.2-0.2 5.9 2.9 5 10-2.7 19.6-8.6 30.3-7.7-0.9-1.5-1.7-3-2.6-4.5-5 7.2-12.2 12.2-19 17.5-1.7 1.3-0.8 4.7 1.3 5 8.1 1.4 15.9-0.2 23-4.2-1.2-1.6-2.4-3.1-3.6-4.7-5.7 7-11.9 13.5-15 22.1-0.8 2.2 1.6 4.2 3.7 3.7 7.7-1.9 13.9-7 19.5-12.4 2.8-2.7-1.5-6.9-4.2-4.2-4.8 4.7-10.1 9.2-16.8 10.9l3.7 3.7c2.8-7.5 8.5-13.3 13.5-19.4 2.1-2.5-0.5-6.5-3.6-4.7-5.6 3.2-12 4.7-18.4 3.6 0.4 1.7 0.9 3.3 1.3 5 7.3-5.7 14.5-11.1 19.9-18.7 1.4-2-0.5-4.3-2.6-4.5-11.3-1-21.3 5-31.9 7.9 1 1.7 1.9 3.3 2.9 5 8.2-10.3 21.4-14 31.8-21.6 2.3-1.7 1.7-5.6-1.5-5.6-12-0.1-23.9-1-35.8 1.4-3.8 0.7-2.2 6.4 1.5 5.7zM590.7 512.9c8.6 1.2 17.3 2.6 25.9 3.9-0.7-2.5-1.3-5-2-7.5-7.8 7.4-18.8 10.1-27.6 16.1-4 2.8-1.7 9.7 3.5 8.2 9.2-2.7 18.9-7.2 28.7-5.2 5.6 1.2 8.1-7.5 2.4-8.7-11.7-2.5-22.5 1.9-33.5 5.2 1.2 2.7 2.3 5.5 3.5 8.2 9.5-6.5 20.9-9.5 29.4-17.5 2.2-2.1 1.4-7-2-7.5-8.6-1.2-17.3-2.6-25.9-3.9-5.7-0.7-8.1 7.9-2.4 8.7zM596.6 549.1c6.4-2.4 13.1-3.7 19.9-3.8 3.9-0.1 3.9-6.1 0-6-7.4 0.1-14.7 1.4-21.5 4-3.6 1.4-2 7.2 1.6 5.8z" fill="#91000A" p-id="1525"></path><path d="M607 563.9c0.5-0.5 1.1-1 1.6-1.5 0.2-0.1 0.1-0.1-0.1 0.1 0.1-0.1 0.3-0.2 0.4-0.3 0.3-0.2 0.3-0.1-0.1 0 0.3-0.1 0.3-0.1-0.2 0 1.6-0.1 3.1-1.3 3-3-0.1-1.6-1.3-3.1-3-3-2.5 0.1-4.3 1.8-6 3.5-1.1 1.1-1.2 3.1 0 4.2 1.3 1.1 3.2 1.2 4.4 0z" fill="#6E080B" p-id="1526"></path><path d="M546.6 524.4c1.9 0 1.9-3 0-3-2 0-2 3 0 3z" fill="#7A3E1A" p-id="1527"></path><path d="M571.2 579c3.9 0 3.9-6 0-6s-3.9 6 0 6zM467.5 566c2.5-0.1 4.3-1.8 6-3.5 1.1-1.1 1.2-3.1 0-4.2s-3.1-1.2-4.2 0c-0.5 0.5-1.1 1-1.6 1.5-0.2 0.1-0.1 0.1 0.1-0.1-0.1 0.1-0.3 0.2-0.4 0.3-0.3 0.2-0.3 0.1 0.1 0-0.3 0.1-0.3 0.1 0.1 0-1.6 0.1-3.1 1.3-3 3 0 1.6 1.2 3.1 2.9 3zM555.6 463.7c3.9 0 3.9-6 0-6-3.8 0-3.8 6 0 6zM562.1 507.7c3.9 0 3.9-6 0-6s-3.9 6 0 6zM541.4 490.9h1.3c1.6 0 3.1-1.4 3-3-0.1-1.6-1.3-3-3-3h-1.3c-1.6 0-3.1 1.4-3 3 0 1.6 1.3 3 3 3zM577.7 477.9c3.9 0 3.9-6 0-6s-3.9 6 0 6zM545.7 548.8v-1.3c0-1.6-1.4-3.1-3-3-1.6 0.1-3 1.3-3 3v1.3c0 1.6 1.4 3.1 3 3 1.6-0.1 3-1.3 3-3zM632.1 611.4c3.9 0 3.9-6 0-6s-3.9 6 0 6zM607.9 657.6v-3.9c0-1.6-1.4-3.1-3-3-1.6 0.1-3 1.3-3 3v3.9c0 1.6 1.4 3.1 3 3 1.6-0.1 3-1.3 3-3zM578.1 599.3v-0.8c0 0.3-0.1 0.5 0 0.8-0.1-0.1-0.1-0.1 0-0.2-0.1 0.2-0.2 0.5-0.3 0.7 0.1-0.2 0-0.1-0.4 0.5-0.6 0.4-0.7 0.5-0.5 0.4-0.2 0.1-0.5 0.2-0.7 0.3h0.2c-0.3 0-0.5 0.1-0.8 0.1h0.8c1.6 0 3.1-1.4 3-3-0.1-1.6-1.3-3-3-3-1.2 0-2.4 0.2-3.3 1-0.9 0.9-1 2.1-1 3.2 0 1.6 1.4 3.1 3 3 1.6-0.1 3-1.3 3-3zM512 393.3v-2.6c0-1.6-1.4-3.1-3-3-1.6 0.1-3 1.3-3 3v2.6c0 1.6 1.4 3.1 3 3 1.6-0.1 3-1.3 3-3z" fill="#6E080B" p-id="1528"></path><path d="M458.4 446.7c-11.7 24.8-22 50.3-33.7 75.2-2.5 5.2 5.3 9.8 7.8 4.5 11.7-24.8 22-50.3 33.7-75.2 2.5-5.1-5.3-9.7-7.8-4.5zM474.2 602.4c16-4.9 32.5-8 48.6-12.6 5.6-1.6 3.2-10.3-2.4-8.7-16.1 4.7-32.6 7.7-48.6 12.6-5.5 1.7-3.1 10.4 2.4 8.7zM493.3 615.7c11.7-4.3 23.7-7.4 35.7-10.3 5.6-1.3 3.2-10-2.4-8.7-12.1 2.9-24.1 5.9-35.7 10.3-5.4 2.1-3.1 10.8 2.4 8.7zM483.1 633c12.9-9.5 30.2-8.3 45.3-10.1 5.7-0.7 5.7-9.7 0-9-16.7 2-35.6 0.9-49.9 11.3-4.6 3.4-0.1 11.2 4.6 7.8z" fill="#91000A" p-id="1529"></path><path d="M401.4 599.7c6.2-0.2 11.9-2.9 15.6-8 2.2-3.1-3-6.1-5.2-3-2.4 3.3-6.4 4.9-10.4 5-3.8 0.1-3.8 6.1 0 6zM403.5 625.5c3.7-1.2 7.5-2.5 11.1-4.2 3.5-1.7 0.4-6.9-3-5.2-3.1 1.5-6.4 2.5-9.6 3.6-3.7 1.3-2.2 7 1.5 5.8zM367.3 495.7c0.1 3.2 1.3 6.3 3.5 8.6 1.9 2 4.9 0.3 5.1-2.1 0 0.3 0.3-0.2 0.4-0.4 0.4-0.5 0.9-1 1.4-1.4 2.7-2.7-1.5-7-4.2-4.2-1.7 1.8-3.2 3.5-3.5 6l5.1-2.1c-1-1-1.7-2.8-1.7-4.4-0.2-3.9-6.2-3.9-6.1 0zM388.3 441.2c8.6 3.9 14.4 11.6 22 16.9 2.4 1.7 4.7-1.1 4.4-3.4-0.3-2.1-2.3-3.3-2.6-5.2-0.6-3.8-6.3-2.2-5.8 1.6 0.3 2.1 2.3 3.3 2.6 5.2 1.5-1.1 2.9-2.3 4.4-3.4-7.7-5.3-13.4-12.9-22-16.9-3.5-1.6-6.6 3.6-3 5.2zM388.3 472.3c4.5 2.8 9.9 3.3 14-0.5 2.9-2.6-1.4-6.8-4.2-4.2-2.1 1.9-4.6 0.8-6.7-0.5-3.4-2-6.4 3.2-3.1 5.2zM577.2 359.6c0 2.6 0.3 5.3 2.2 7.3 1.1 1.2 3.1 1.1 4.2 0 1.2-1.2 1.1-3 0-4.2l-0.2-0.2c0.2 0.2 0.2 0.3 0.1 0.1-0.1-0.2-0.1-0.1 0 0 0.1 0.2 0.1 0.2 0 0s-0.1-0.4-0.2-0.6c0-0.1-0.2-0.8-0.1-0.4s0-0.2 0-0.3v-0.6-1.1c0-1.6-1.4-3-3-3s-3 1.4-3 3zM633.4 414.4c2.3 0 4.3-0.6 6-2.2 1.1-1.1 1.2-3.2 0-4.2-1.2-1.1-3-1.2-4.2 0-0.3 0.2-0.3 0.3 0 0.1-0.1 0.1-0.3 0.2-0.4 0.3 0.6-0.4-0.1 0-0.3 0h0.3-1.3c-1.6 0-3.1 1.4-3 3-0.1 1.7 1.2 3 2.9 3zM689.9 524.5c4.2-1.6 8.5-2.7 12.8-3.8 2.1-0.5 5.9-0.8 7.2-2.8 1.3-2.1-0.5-4.3-2.6-4.5h-0.1c-3.8-0.4-3.8 5.6 0 6h0.1c-0.9-1.5-1.7-3-2.6-4.5 0.6-0.5 1.2-0.9 1.8-1.4-2.2 0.9-4.8 1.2-7.1 1.8-3.8 1-7.5 2-11.1 3.3-3.6 1.4-2 7.2 1.6 5.9zM683.9 544c3.7-0.1 7.3-1.4 10.6-3 3.5-1.7 0.4-6.9-3-5.2-2.3 1.1-5 2.1-7.5 2.2-3.9 0.1-4 6.1-0.1 6zM645.5 644.2c1.7 1.7 4.2 3.1 6.5 1.6 2.1-1.3 2.5-4.1 2.5-6.3 0-1.6-1.4-3.1-3-3-1.6 0.1-3 1.3-3 3v1.1c0 0.6-0.1 0 0-0.1 0 0-0.1 0.3-0.1 0.4 0 0.1-0.1 0.3-0.1 0.4-0.1 0.4-0.3 0.1 0.1-0.2-0.1 0.1-0.1 0.2-0.1 0.2-0.2 0.4 0.5-0.5 0.2-0.3-0.2 0.2 0.6-0.4 0.4-0.3 0.1-0.1 0.8-0.3 1.1-0.3-0.4 0 0.5 0.1 0.5 0.1-0.1 0-0.5-0.2 0 0 0.6 0.3-0.3-0.2-0.3-0.2 0.1 0 0.5 0.4 0.2 0.1l-0.5-0.5c-1.1-1.1-3.1-1.2-4.2 0-1.3 1.2-1.4 3.1-0.2 4.3zM545.3 674.9h1c-0.3 0-0.5-0.1-0.8-0.1 0.2 0 0.3 0.1 0.5 0.1 0.3 0.1-0.8-0.4-0.5-0.2 0.3 0.2-0.6-0.6-0.3-0.3s-0.4-0.7-0.3-0.4c0 0.1 0.1 0.2 0.1 0.2-0.4-0.5-0.3-0.7-0.1-0.3 0 0.1 0.1 0.3 0.1 0.4 0-0.3-0.1-0.5-0.1-0.8 0 0.3 0 0.5 0.1 0.8 0 1.6 1.4 3.1 3 3 1.6-0.1 3-1.3 3-3 0-1.9-0.6-3.7-2.2-4.8-1-0.7-2.2-0.8-3.4-0.8-1.6 0-3.1 1.4-3 3-0.1 1.8 1.2 3.2 2.9 3.2zM498.2 658.9v1.3c0 1.6 1.4 3.1 3 3 1.6-0.1 3-1.3 3-3v-1.3c0-1.6-1.4-3.1-3-3-1.6 0.1-3 1.3-3 3zM445.9 408.8v-0.9 0.9c-0.1-0.1-0.1-0.2 0-0.2 0.1-0.3-0.3 0.5-0.2 0.5l0.1-0.1c0.2-0.3-0.5 0.6-0.3 0.3l0.9-0.9c1.1-1.1 1.2-3.1 0-4.2s-3.1-1.2-4.2 0c-0.6 0.6-1.2 1.2-1.6 1.9-0.5 0.9-0.6 1.8-0.6 2.8 0 1.6 1.4 3.1 3 3 1.5-0.1 2.9-1.4 2.9-3.1z" fill="#FFFFFF" p-id="1530"></path><path d="M375.7 722.4c3.2-1.7 5.8-4.4 8.4-6.9 2.7-2.7-1.5-7-4.2-4.2-2.2 2.2-4.4 4.5-7.2 6-3.4 1.7-0.4 6.9 3 5.1zM436.1 699.9c1.4 6.7 5.7 13.6 13.3 13.9 3.9 0.1 3.9-5.9 0-6-4.6-0.2-6.7-5.7-7.5-9.5-0.8-3.8-6.6-2.2-5.8 1.6zM470.6 727.1c0.6 0.6 1.3 1.1 2 1.5 0.1 0.1 0.2 0.1 0.3 0.2 0.3 0.2 0.1 0.3-0.2-0.2l0.1 0.1-0.3-0.3c-0.1-0.2-0.1-0.3-0.2-0.5 0 0.1 0 0.2 0.1 0.2 0-0.3-0.1-0.5-0.1-0.8v0.3c0.1 1.6 1.3 3.1 3 3 1.6-0.1 3.1-1.3 3-3-0.1-1.6-0.8-2.8-2-3.7-0.3-0.2-0.5-0.3-0.8-0.5-0.2-0.1-0.4-0.3-0.5-0.4 0.4 0.3 0.4 0.3 0.2 0.1l-0.3-0.3c-1.1-1.1-3.1-1.2-4.2 0-1.2 1.3-1.3 3.2-0.1 4.3zM685.2 699.5c2.3 0 4.3-0.6 6-2.2 1.1-1.1 1.2-3.2 0-4.2-1.2-1.1-3-1.2-4.2 0-0.3 0.2-0.3 0.3 0 0.1-0.1 0.1-0.3 0.2-0.4 0.3 0.4-0.1 0.4-0.1 0.1 0-0.1 0-0.2 0.1-0.3 0.1h0.3-1.3c-1.6 0-3.1 1.4-3 3-0.1 1.5 1.1 2.9 2.8 2.9zM715.4 666.7v-5.2c0-1.6-1.4-3-3-3s-3 1.4-3 3v5.2c0 1.6 1.4 3 3 3s3-1.4 3-3zM717.6 620.4c3.9 0 3.9-6 0-6s-3.9 6 0 6zM477.5 329.8v1.3c0 1.6 1.4 3.1 3 3 1.6-0.1 3-1.3 3-3v-1.3c0-1.6-1.4-3.1-3-3-1.7 0.1-3 1.3-3 3z" fill="#FFE63C" p-id="1531"></path><path d="M470.1 350.1h-5.2c-1.6 0-3 1.4-3 3s1.4 3 3 3h5.2c1.6 0 3-1.4 3-3s-1.4-3-3-3z" fill="#FFE63C" p-id="1532"></path><path d="M313.8 449.5l-0.4 0.4c-1.1 1.1-1.2 3.1 0 4.2s3 1.2 4.2 0c0.6-0.5 1.1-1.1 1.7-1.7 1.1-1.1 1.2-3.1 0-4.2s-3.1-1.2-4.2 0l-1.7 1.7 4.2 4.2 0.4-0.4c1.1-1.1 1.2-3.1 0-4.2s-3-1.2-4.2 0z" fill="#FFE63C" p-id="1533"></path><path d="M344.4 431.3c3.9 0 3.9-6 0-6-3.8 0-3.8 6 0 6z" fill="#FFE63C" p-id="1534"></path><path d="M662.6 231.9l36.3-36.3c-3.3-1.9-6.7-3.9-10-5.8-5.5 15.8-11 31.6-16.6 47.4-2.1 6 5.9 9.6 10 5.8 13-11.9 25.9-23.8 38.9-35.8-3.1-2.4-6.3-4.8-9.4-7.3-8.2 15.9-16.5 31.8-24.7 47.7-3 5.8 4.5 12.4 9.4 7.3 15.6-16.3 31.2-32.7 46.7-49 5.3-5.6-3.1-14.1-8.5-8.5-15.6 16.3-31.2 32.7-46.7 49 3.1 2.4 6.3 4.8 9.4 7.3 8.2-15.9 16.5-31.8 24.7-47.7 3.1-6-4.3-12-9.4-7.3-13 11.9-25.9 23.8-38.9 35.8 3.3 1.9 6.7 3.9 10 5.8 5.5-15.8 11-31.6 16.6-47.4 2-5.8-6-9.9-10-5.8l-36.3 36.3c-5.5 5.5 3 14 8.5 8.5zM825.2 400.1c-3.6 1.7-7.2 3.3-10.8 5 2 3.5 4 6.9 6.1 10.4 9.9-7 21.7-9.3 33.4-6.1-0.5-3.7-1-7.3-1.4-11-13.2 5.6-25.2 13.4-35.9 22.8-4.6 4 0.3 11.6 5.8 10 12-3.4 23.9-6.7 35.9-10.1-1.9-3.3-3.9-6.7-5.8-10l-28.2 28.8c-4 4.1-0.7 9.6 4.2 10.2 18.6 2.4 37.7-2.7 52.6-14 6.1-4.6 0.1-15-6.1-10.4-13.5 10.2-29.8 14.5-46.6 12.3l4.2 10.2 28.2-28.8c4.2-4.2 0-11.7-5.8-10-12 3.4-23.9 6.7-35.9 10.1 1.9 3.3 3.9 6.7 5.8 10 10-8.8 21.3-15.7 33.5-21 5-2.1 3.1-9.7-1.4-11-14.6-4-30.3-1.5-42.7 7.3-6.3 4.5-1 13.6 6.1 10.4 3.6-1.7 7.2-3.3 10.8-5 7.1-3 1-13.3-6-10.1zM692.2 812.8c5.6 15.7 13.8 30 24.4 42.9 3.6 4.4 9.9 0.4 10.2-4.2 1.6-20.6 0.6-41.2-2.7-61.6-0.5-2.9-3.9-4.7-6.6-4.3-3.2 0.4-4.8 2.9-5.2 5.9-2.1 16.7 3.2 33.1 13.8 46 3 3.7 8.8 1.3 10-2.6 3.2-10.8 4.4-22 3.5-33.3l-10.2 4.2c8.3 9.6 16.7 19.3 25 28.9 4 4.6 11.6-0.3 10-5.8-4.5-16.1-14-29.6-27.2-39.8-2.6-2-6.7-0.4-8.2 2.2-1.8 3.1-0.4 6.2 2.2 8.2 10.6 8.2 18.1 19.8 21.7 32.6 3.3-1.9 6.7-3.9 10-5.8-8.3-9.6-16.7-19.3-25-28.9-3.3-3.8-10.7-0.9-10.2 4.2 0.9 10.3-0.1 20.2-3 30.1 3.3-0.9 6.7-1.8 10-2.6-8.6-10.6-12-24.1-10.3-37.5-3.9 0.5-7.9 1.1-11.8 1.6 3.1 19.3 3.8 38.9 2.2 58.4l10.2-4.2c-9.2-11.2-16.4-23.9-21.3-37.6-2.6-7.4-14.2-4.3-11.5 3zM390.2 846.6c-4.3 10.5-8.5 21-12.8 31.6-2.5 6.3 7.9 10.7 11 4.6 6.6-13.1 14.4-25.6 23.6-37l-10.2-4.2c-1.5 12.1-5 24.1-10.2 35.2-3.2 7 5.9 12.5 10.4 6.1 5.6-8.1 11.2-16.1 16.8-24.2-3.7-1.5-7.3-3.1-11-4.6-1.2 7.7-2.4 15.3-3.6 23-0.6 4 2.6 9.2 7.4 7.4 14.3-5.6 23-22.4 16.8-37.1-2.9-6.9-14-4.4-11.6 3.2 2.6 8.1 5.3 16.2 7.7 24.4 2.2 7.4 13.8 4.2 11.6-3.2-2.4-8.2-5.2-16.3-7.7-24.4-3.9 1.1-7.7 2.1-11.6 3.2 3.4 8.2 0.3 18.9-8.5 22.4l7.4 7.4c1.2-7.7 2.4-15.3 3.6-23 1-6.7-6.9-10.4-11-4.6-5.6 8.1-11.2 16.1-16.8 24.2 3.5 2 6.9 4 10.4 6.1 6.1-13.2 10-26.8 11.8-41.2 0.6-5-7.1-8.1-10.2-4.2-9.9 12.2-18.5 25.3-25.5 39.4 3.7 1.5 7.3 3.1 11 4.6 4.3-10.5 8.5-21 12.8-31.6 2.9-7.5-8.7-10.6-11.6-3.5zM151.9 622.3c17.5-10.2 37.4-14.8 57.6-13.9-1-3.7-2-7.5-3-11.2-13.3 6.5-26.7 13.1-40 19.6-6.7 3.3-1.5 11.8 4.6 11 14.8-2 29.4-4.9 43.8-8.7-1.5-3.7-3.1-7.3-4.6-11l-34.8 16.5c-5.6 2.7-2.6 11.1 3 11.2 13.1 0.1 26.1-3.6 36.6-11.5 6-4.5 0.7-14.4-6.1-10.4-12.7 7.6-25.4 15.2-38 22.8-6.3 3.7-1.8 11.9 4.6 11 11.7-1.6 22.8-5.8 32.5-12.6 6.3-4.4 0.3-14.8-6.1-10.4-9 6.2-18.9 9.8-29.6 11.3 1.5 3.7 3.1 7.3 4.6 11 12.7-7.6 25.4-15.2 38-22.8-2-3.5-4-6.9-6.1-10.4-8.9 6.7-19.3 10-30.5 9.8 1 3.7 2 7.5 3 11.2l34.8-16.5c6.3-3 1.8-12.6-4.6-11-14.4 3.8-29.1 6.7-43.8 8.7 1.5 3.7 3.1 7.3 4.6 11 13.3-6.5 26.7-13.1 40-19.6 5.7-2.8 2.5-10.9-3-11.2-22.2-1-44.4 4.3-63.6 15.5-6.6 4.1-0.5 14.5 6.1 10.6zM160.2 408.9c14.9 9.2 31.7 14.3 49.2 15 5.8 0.2 8.3-8.5 3-11.2-12.6-6.4-23.7-14.9-33.2-25.4l-4.2 10.2c10.5 0.2 20.6 2.3 30.3 6.2 4.2 1.7 8.7-3.3 7.4-7.4-4.6-14.1-15.6-24.9-29.9-29.1-6.9-2-9.9 7.2-4.6 11 8.5 6.1 17 12.3 25.5 18.4 4.6 3.3 9.7-2.2 8.8-6.8-1.2-6.2-2.5-12.4-3.7-18.7-1.5-7.6-13.1-4.4-11.6 3.2 1.2 6.2 2.5 12.4 3.7 18.7 2.9-2.3 5.9-4.5 8.8-6.8-8.5-6.1-17-12.3-25.5-18.4-1.5 3.7-3.1 7.3-4.6 11 10.1 3 18.2 10.6 21.5 20.7l7.4-7.4c-10.7-4.3-22-6.4-33.5-6.6-5.4-0.1-7.6 6.5-4.2 10.2 10.1 11.2 22.2 20.4 35.6 27.2 1-3.7 2-7.5 3-11.2-15.4-0.6-30-5.2-43.1-13.3-6.6-4-12.6 6.4-6.1 10.5zM387 183.3c13.6 6.8 24.4 18.3 29.7 32.6 2 5.3 9.9 6.1 11.6 0 4.7-17.2 6.3-35 4.4-52.7-3.7 1-7.5 2-11.2 3 4 8 9.7 15 16.7 20.5 2.1 1.6 4.9 2.5 7.3 0.9 14.7-9.6 26.6-22.9 34.1-38.9 2-4.2-0.4-8.8-5.2-9-5.7-0.3-10.7 1.8-14.7 5.7-5.6 5.4 2.9 13.8 8.5 8.5 1.9-1.8 3.7-2.3 6.2-2.2-1.7-3-3.5-6-5.2-9-6.7 14.1-16.7 26-29.8 34.6 2.4 0.3 4.8 0.6 7.3 0.9-6.4-4.9-11.3-10.8-14.9-18-2.6-5.1-11.8-2.9-11.2 3 1.8 16.7 0.5 33.3-3.9 49.5h11.6c-6.4-17.2-18.7-31.5-35.2-39.8-6.9-3.4-13 6.9-6.1 10.4z" fill="#91000A" p-id="1535"></path></svg><svg t="1682579470267" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1520" width="48" height="48"><path d="M363.3 318.7c1.2 3.7 48.7 146.2-89.4 186.5 143.2 27.9 92.6 179.5 80.3 192.4 26.4-11.2 128.9-97.2 206.6 65.5 21.8-128 118.1-89.1 120.5-88.2-1.1-2.4-43.6-94.4 83.6-159.8-111.4-21.5-88.7-144.6-61.5-166-148.4 49.2-130.9-74.5-130.9-74.5s-111.3 205.3-209.2 44.1z m480.1 196.4s-200.9 64.6-53.1 233.1c-218.3-52.5-226.1 90.7-226.1 90.7s-87.5-206-272.1-33.7c67.9-180.8-8.4-249.5-67-274.4-28.1-12-54.2-13.2-54.2-13.2s22.2-4.8 52.7-22.1c56.4-32 133.4-104.6 98.9-253.9 0 0 125.7 193.1 261.1-45.4 9.7 136.1 86.8 136.7 166.5 124.4-105.7 142.5 93.3 194.5 93.3 194.5z" fill="#FF2B3F" p-id="1521"></path><path d="M436.1 442.3c7.4 22.1-0.5 58-36.5 88.2 55.1 14.9 44.7 88.1 44.7 88.1 90.1-14.9 110.2 42.1 110.2 42.1 5.8-35.6 54.4-41.4 89.4-38.9-5.2-11-22.7-71.9 27.8-118.6-79.9-8.6-99.7-123.7-99.7-123.7-50.5 82.1-134.1 62.2-134.1 62.2l-1.8 0.6z m267.3-93.2c-27.2 21.4-49.9 144.4 61.5 166-127.2 65.4-84.7 157.5-83.6 159.8-2.3-0.9-98.7-39.8-120.5 88.2-77.7-162.6-180.2-76.7-206.6-65.5 12.3-12.9 62.8-164.5-80.3-192.4 138.1-40.3 90.7-182.8 89.4-186.5 97.8 161.2 209.2-44.1 209.2-44.1S555 398.3 703.4 349.1z" fill="#FFEB00" p-id="1522"></path><path d="M671.7 503.3c-50.5 46.6-33 107.6-27.8 118.6-35-2.6-83.6 3.3-89.4 38.9 0 0-20.1-57-110.2-42.1 0 0 10.4-73.2-44.7-88.1 36-30.2 43.9-66.1 36.5-88.2l1.7-0.6s83.6 19.9 134.1-62.2c0-0.1 19.8 115.1 99.8 123.7z" fill="#FFFFFF" p-id="1523"></path><path d="M568.7 865.1l-10.1-23.8c-0.3-0.8-35.5-81.6-105.6-96.4-47.3-10-100.1 11.8-156.9 64.8L277.4 827l9-23.9c29.5-78.6 34.2-142.9 14-191.3-17.8-42.7-52.1-64.6-77.7-75.5-26.7-11.4-51.9-12.7-52.1-12.7l-45.7-2.2 44.7-9.6c0.2 0 21.8-4.9 51-21.4 24.8-14.1 59.1-39.5 81.2-80.6 24.7-46 29.7-102.1 14.8-166.8l-7.6-33.1 18.5 28.4c0.5 0.7 48.4 73.1 114.5 71 47.6-1.5 93.5-40.5 136.4-116.1l9.8-17.2 1.4 19.8c3.7 51.4 17.1 85.6 41 104.7 30.1 24 74.8 21 118.6 14.2l14.4-2.2-8.7 11.7c-27.2 36.8-35.8 70.3-25.5 99.7 21.2 60.2 114.5 85.2 115.4 85.4l19.9 5.2-19.6 6.3c-0.8 0.3-82.9 27.4-100 89.6-10.8 39 5.9 84 49.6 133.8l12.5 14.2-18.4-4.4c-79.6-19.1-139.5-14.3-178 14.3-38 28.3-40.7 70.5-40.7 70.9l-1.4 25.9zM430.2 730.4c8.6 0 17.1 0.9 25.4 2.7 31.7 6.7 61.4 26.8 86.1 58 8.6 10.9 15.2 21.3 19.8 29.4 4.7-16.8 15.8-42.1 42.2-61.8 38.5-28.7 95.9-35.5 170.6-20.2-37.9-47.8-51.6-91.9-40.7-131.3 7.9-28.5 29.1-54.4 61.4-75.1 11.4-7.3 22.2-12.7 30.5-16.4-9.6-3.4-22.6-8.7-36.3-16-36.8-19.5-61.4-44.3-71.1-71.9-10.6-30.2-4.2-63.5 19.1-99.4-42 5.5-83.8 5.5-114.2-18.7-23.6-18.8-37.9-49.9-43.6-94.8-42.6 69.1-88.6 104.8-137.1 106.3-30.3 0.9-61.5-12.1-90.3-37.6-7.4-6.5-13.7-13.1-18.8-18.9 9.1 57.4 2.2 107.9-20.7 150.5-23.5 43.6-59.7 70.5-85.9 85.3-11.4 6.5-21.6 11.2-30.1 14.7 9.1 2 19.9 5.2 31 9.9 27.7 11.8 64.7 35.5 84.1 82 19.5 46.6 17.4 106.5-6.1 178.2 43.6-36.5 85.5-54.9 124.7-54.9z" fill="#91000A" p-id="1524"></path><path d="M476.1 467.2c-5.4 17.2-14 33.3-19.4 50.5-1.6 5 5.6 7.7 8.2 3.5 11.2-17.5 20.2-36.7 34.3-52.2-2.5-1.5-5-2.9-7.5-4.4-5.8 19.3-20.5 35.9-19.6 56.9 0.2 3.9 4.8 5.9 7.7 3.2 14.5-13.4 23.3-32 33.1-48.8-2.7-1.2-5.5-2.3-8.2-3.5-6.6 19.1-20.3 35.4-23.3 55.7-0.6 3.8 2.9 7 6.6 5.1 10.7-5.6 17.7-16.5 23.6-26.6 6.4-11.1 11.7-23 19.5-33.3l-7.8-4.5c-12.7 25.4-24.9 52.4-25.2 81.3-0.1 5.8 8.9 5.8 9 0 0.3-27.2 12.1-52.9 24-76.8 2.6-5.3-4.3-9.1-7.8-4.5-7.2 9.5-12.2 20.5-18.1 30.9-5.5 9.6-11.6 20.5-21.8 25.8l6.6 5.1c3-20.2 16.8-36.7 23.3-55.7 1.7-4.9-5.7-7.8-8.2-3.5-9.4 16.2-17.7 34.1-31.7 47 2.6 1.1 5.1 2.1 7.7 3.2-0.9-19.8 13.8-36.3 19.3-54.5 1.3-4.2-4.5-7.7-7.5-4.4-14.6 16.2-24.1 35.8-35.7 54 2.7 1.2 5.5 2.3 8.2 3.5 5.4-17.2 14-33.3 19.4-50.5 1.8-5.6-6.9-8-8.7-2.5zM491.6 582.8c11.3-2.3 22.8-1.3 34.2-1.2-0.5-1.9-1-3.7-1.5-5.6-10.8 7.8-24.5 11.7-33 22.5-1.8 2.2-0.2 5.9 2.9 5 10-2.7 19.6-8.6 30.3-7.7-0.9-1.5-1.7-3-2.6-4.5-5 7.2-12.2 12.2-19 17.5-1.7 1.3-0.8 4.7 1.3 5 8.1 1.4 15.9-0.2 23-4.2-1.2-1.6-2.4-3.1-3.6-4.7-5.7 7-11.9 13.5-15 22.1-0.8 2.2 1.6 4.2 3.7 3.7 7.7-1.9 13.9-7 19.5-12.4 2.8-2.7-1.5-6.9-4.2-4.2-4.8 4.7-10.1 9.2-16.8 10.9l3.7 3.7c2.8-7.5 8.5-13.3 13.5-19.4 2.1-2.5-0.5-6.5-3.6-4.7-5.6 3.2-12 4.7-18.4 3.6 0.4 1.7 0.9 3.3 1.3 5 7.3-5.7 14.5-11.1 19.9-18.7 1.4-2-0.5-4.3-2.6-4.5-11.3-1-21.3 5-31.9 7.9 1 1.7 1.9 3.3 2.9 5 8.2-10.3 21.4-14 31.8-21.6 2.3-1.7 1.7-5.6-1.5-5.6-12-0.1-23.9-1-35.8 1.4-3.8 0.7-2.2 6.4 1.5 5.7zM590.7 512.9c8.6 1.2 17.3 2.6 25.9 3.9-0.7-2.5-1.3-5-2-7.5-7.8 7.4-18.8 10.1-27.6 16.1-4 2.8-1.7 9.7 3.5 8.2 9.2-2.7 18.9-7.2 28.7-5.2 5.6 1.2 8.1-7.5 2.4-8.7-11.7-2.5-22.5 1.9-33.5 5.2 1.2 2.7 2.3 5.5 3.5 8.2 9.5-6.5 20.9-9.5 29.4-17.5 2.2-2.1 1.4-7-2-7.5-8.6-1.2-17.3-2.6-25.9-3.9-5.7-0.7-8.1 7.9-2.4 8.7zM596.6 549.1c6.4-2.4 13.1-3.7 19.9-3.8 3.9-0.1 3.9-6.1 0-6-7.4 0.1-14.7 1.4-21.5 4-3.6 1.4-2 7.2 1.6 5.8z" fill="#91000A" p-id="1525"></path><path d="M607 563.9c0.5-0.5 1.1-1 1.6-1.5 0.2-0.1 0.1-0.1-0.1 0.1 0.1-0.1 0.3-0.2 0.4-0.3 0.3-0.2 0.3-0.1-0.1 0 0.3-0.1 0.3-0.1-0.2 0 1.6-0.1 3.1-1.3 3-3-0.1-1.6-1.3-3.1-3-3-2.5 0.1-4.3 1.8-6 3.5-1.1 1.1-1.2 3.1 0 4.2 1.3 1.1 3.2 1.2 4.4 0z" fill="#6E080B" p-id="1526"></path><path d="M546.6 524.4c1.9 0 1.9-3 0-3-2 0-2 3 0 3z" fill="#7A3E1A" p-id="1527"></path><path d="M571.2 579c3.9 0 3.9-6 0-6s-3.9 6 0 6zM467.5 566c2.5-0.1 4.3-1.8 6-3.5 1.1-1.1 1.2-3.1 0-4.2s-3.1-1.2-4.2 0c-0.5 0.5-1.1 1-1.6 1.5-0.2 0.1-0.1 0.1 0.1-0.1-0.1 0.1-0.3 0.2-0.4 0.3-0.3 0.2-0.3 0.1 0.1 0-0.3 0.1-0.3 0.1 0.1 0-1.6 0.1-3.1 1.3-3 3 0 1.6 1.2 3.1 2.9 3zM555.6 463.7c3.9 0 3.9-6 0-6-3.8 0-3.8 6 0 6zM562.1 507.7c3.9 0 3.9-6 0-6s-3.9 6 0 6zM541.4 490.9h1.3c1.6 0 3.1-1.4 3-3-0.1-1.6-1.3-3-3-3h-1.3c-1.6 0-3.1 1.4-3 3 0 1.6 1.3 3 3 3zM577.7 477.9c3.9 0 3.9-6 0-6s-3.9 6 0 6zM545.7 548.8v-1.3c0-1.6-1.4-3.1-3-3-1.6 0.1-3 1.3-3 3v1.3c0 1.6 1.4 3.1 3 3 1.6-0.1 3-1.3 3-3zM632.1 611.4c3.9 0 3.9-6 0-6s-3.9 6 0 6zM607.9 657.6v-3.9c0-1.6-1.4-3.1-3-3-1.6 0.1-3 1.3-3 3v3.9c0 1.6 1.4 3.1 3 3 1.6-0.1 3-1.3 3-3zM578.1 599.3v-0.8c0 0.3-0.1 0.5 0 0.8-0.1-0.1-0.1-0.1 0-0.2-0.1 0.2-0.2 0.5-0.3 0.7 0.1-0.2 0-0.1-0.4 0.5-0.6 0.4-0.7 0.5-0.5 0.4-0.2 0.1-0.5 0.2-0.7 0.3h0.2c-0.3 0-0.5 0.1-0.8 0.1h0.8c1.6 0 3.1-1.4 3-3-0.1-1.6-1.3-3-3-3-1.2 0-2.4 0.2-3.3 1-0.9 0.9-1 2.1-1 3.2 0 1.6 1.4 3.1 3 3 1.6-0.1 3-1.3 3-3zM512 393.3v-2.6c0-1.6-1.4-3.1-3-3-1.6 0.1-3 1.3-3 3v2.6c0 1.6 1.4 3.1 3 3 1.6-0.1 3-1.3 3-3z" fill="#6E080B" p-id="1528"></path><path d="M458.4 446.7c-11.7 24.8-22 50.3-33.7 75.2-2.5 5.2 5.3 9.8 7.8 4.5 11.7-24.8 22-50.3 33.7-75.2 2.5-5.1-5.3-9.7-7.8-4.5zM474.2 602.4c16-4.9 32.5-8 48.6-12.6 5.6-1.6 3.2-10.3-2.4-8.7-16.1 4.7-32.6 7.7-48.6 12.6-5.5 1.7-3.1 10.4 2.4 8.7zM493.3 615.7c11.7-4.3 23.7-7.4 35.7-10.3 5.6-1.3 3.2-10-2.4-8.7-12.1 2.9-24.1 5.9-35.7 10.3-5.4 2.1-3.1 10.8 2.4 8.7zM483.1 633c12.9-9.5 30.2-8.3 45.3-10.1 5.7-0.7 5.7-9.7 0-9-16.7 2-35.6 0.9-49.9 11.3-4.6 3.4-0.1 11.2 4.6 7.8z" fill="#91000A" p-id="1529"></path><path d="M401.4 599.7c6.2-0.2 11.9-2.9 15.6-8 2.2-3.1-3-6.1-5.2-3-2.4 3.3-6.4 4.9-10.4 5-3.8 0.1-3.8 6.1 0 6zM403.5 625.5c3.7-1.2 7.5-2.5 11.1-4.2 3.5-1.7 0.4-6.9-3-5.2-3.1 1.5-6.4 2.5-9.6 3.6-3.7 1.3-2.2 7 1.5 5.8zM367.3 495.7c0.1 3.2 1.3 6.3 3.5 8.6 1.9 2 4.9 0.3 5.1-2.1 0 0.3 0.3-0.2 0.4-0.4 0.4-0.5 0.9-1 1.4-1.4 2.7-2.7-1.5-7-4.2-4.2-1.7 1.8-3.2 3.5-3.5 6l5.1-2.1c-1-1-1.7-2.8-1.7-4.4-0.2-3.9-6.2-3.9-6.1 0zM388.3 441.2c8.6 3.9 14.4 11.6 22 16.9 2.4 1.7 4.7-1.1 4.4-3.4-0.3-2.1-2.3-3.3-2.6-5.2-0.6-3.8-6.3-2.2-5.8 1.6 0.3 2.1 2.3 3.3 2.6 5.2 1.5-1.1 2.9-2.3 4.4-3.4-7.7-5.3-13.4-12.9-22-16.9-3.5-1.6-6.6 3.6-3 5.2zM388.3 472.3c4.5 2.8 9.9 3.3 14-0.5 2.9-2.6-1.4-6.8-4.2-4.2-2.1 1.9-4.6 0.8-6.7-0.5-3.4-2-6.4 3.2-3.1 5.2zM577.2 359.6c0 2.6 0.3 5.3 2.2 7.3 1.1 1.2 3.1 1.1 4.2 0 1.2-1.2 1.1-3 0-4.2l-0.2-0.2c0.2 0.2 0.2 0.3 0.1 0.1-0.1-0.2-0.1-0.1 0 0 0.1 0.2 0.1 0.2 0 0s-0.1-0.4-0.2-0.6c0-0.1-0.2-0.8-0.1-0.4s0-0.2 0-0.3v-0.6-1.1c0-1.6-1.4-3-3-3s-3 1.4-3 3zM633.4 414.4c2.3 0 4.3-0.6 6-2.2 1.1-1.1 1.2-3.2 0-4.2-1.2-1.1-3-1.2-4.2 0-0.3 0.2-0.3 0.3 0 0.1-0.1 0.1-0.3 0.2-0.4 0.3 0.6-0.4-0.1 0-0.3 0h0.3-1.3c-1.6 0-3.1 1.4-3 3-0.1 1.7 1.2 3 2.9 3zM689.9 524.5c4.2-1.6 8.5-2.7 12.8-3.8 2.1-0.5 5.9-0.8 7.2-2.8 1.3-2.1-0.5-4.3-2.6-4.5h-0.1c-3.8-0.4-3.8 5.6 0 6h0.1c-0.9-1.5-1.7-3-2.6-4.5 0.6-0.5 1.2-0.9 1.8-1.4-2.2 0.9-4.8 1.2-7.1 1.8-3.8 1-7.5 2-11.1 3.3-3.6 1.4-2 7.2 1.6 5.9zM683.9 544c3.7-0.1 7.3-1.4 10.6-3 3.5-1.7 0.4-6.9-3-5.2-2.3 1.1-5 2.1-7.5 2.2-3.9 0.1-4 6.1-0.1 6zM645.5 644.2c1.7 1.7 4.2 3.1 6.5 1.6 2.1-1.3 2.5-4.1 2.5-6.3 0-1.6-1.4-3.1-3-3-1.6 0.1-3 1.3-3 3v1.1c0 0.6-0.1 0 0-0.1 0 0-0.1 0.3-0.1 0.4 0 0.1-0.1 0.3-0.1 0.4-0.1 0.4-0.3 0.1 0.1-0.2-0.1 0.1-0.1 0.2-0.1 0.2-0.2 0.4 0.5-0.5 0.2-0.3-0.2 0.2 0.6-0.4 0.4-0.3 0.1-0.1 0.8-0.3 1.1-0.3-0.4 0 0.5 0.1 0.5 0.1-0.1 0-0.5-0.2 0 0 0.6 0.3-0.3-0.2-0.3-0.2 0.1 0 0.5 0.4 0.2 0.1l-0.5-0.5c-1.1-1.1-3.1-1.2-4.2 0-1.3 1.2-1.4 3.1-0.2 4.3zM545.3 674.9h1c-0.3 0-0.5-0.1-0.8-0.1 0.2 0 0.3 0.1 0.5 0.1 0.3 0.1-0.8-0.4-0.5-0.2 0.3 0.2-0.6-0.6-0.3-0.3s-0.4-0.7-0.3-0.4c0 0.1 0.1 0.2 0.1 0.2-0.4-0.5-0.3-0.7-0.1-0.3 0 0.1 0.1 0.3 0.1 0.4 0-0.3-0.1-0.5-0.1-0.8 0 0.3 0 0.5 0.1 0.8 0 1.6 1.4 3.1 3 3 1.6-0.1 3-1.3 3-3 0-1.9-0.6-3.7-2.2-4.8-1-0.7-2.2-0.8-3.4-0.8-1.6 0-3.1 1.4-3 3-0.1 1.8 1.2 3.2 2.9 3.2zM498.2 658.9v1.3c0 1.6 1.4 3.1 3 3 1.6-0.1 3-1.3 3-3v-1.3c0-1.6-1.4-3.1-3-3-1.6 0.1-3 1.3-3 3zM445.9 408.8v-0.9 0.9c-0.1-0.1-0.1-0.2 0-0.2 0.1-0.3-0.3 0.5-0.2 0.5l0.1-0.1c0.2-0.3-0.5 0.6-0.3 0.3l0.9-0.9c1.1-1.1 1.2-3.1 0-4.2s-3.1-1.2-4.2 0c-0.6 0.6-1.2 1.2-1.6 1.9-0.5 0.9-0.6 1.8-0.6 2.8 0 1.6 1.4 3.1 3 3 1.5-0.1 2.9-1.4 2.9-3.1z" fill="#FFFFFF" p-id="1530"></path><path d="M375.7 722.4c3.2-1.7 5.8-4.4 8.4-6.9 2.7-2.7-1.5-7-4.2-4.2-2.2 2.2-4.4 4.5-7.2 6-3.4 1.7-0.4 6.9 3 5.1zM436.1 699.9c1.4 6.7 5.7 13.6 13.3 13.9 3.9 0.1 3.9-5.9 0-6-4.6-0.2-6.7-5.7-7.5-9.5-0.8-3.8-6.6-2.2-5.8 1.6zM470.6 727.1c0.6 0.6 1.3 1.1 2 1.5 0.1 0.1 0.2 0.1 0.3 0.2 0.3 0.2 0.1 0.3-0.2-0.2l0.1 0.1-0.3-0.3c-0.1-0.2-0.1-0.3-0.2-0.5 0 0.1 0 0.2 0.1 0.2 0-0.3-0.1-0.5-0.1-0.8v0.3c0.1 1.6 1.3 3.1 3 3 1.6-0.1 3.1-1.3 3-3-0.1-1.6-0.8-2.8-2-3.7-0.3-0.2-0.5-0.3-0.8-0.5-0.2-0.1-0.4-0.3-0.5-0.4 0.4 0.3 0.4 0.3 0.2 0.1l-0.3-0.3c-1.1-1.1-3.1-1.2-4.2 0-1.2 1.3-1.3 3.2-0.1 4.3zM685.2 699.5c2.3 0 4.3-0.6 6-2.2 1.1-1.1 1.2-3.2 0-4.2-1.2-1.1-3-1.2-4.2 0-0.3 0.2-0.3 0.3 0 0.1-0.1 0.1-0.3 0.2-0.4 0.3 0.4-0.1 0.4-0.1 0.1 0-0.1 0-0.2 0.1-0.3 0.1h0.3-1.3c-1.6 0-3.1 1.4-3 3-0.1 1.5 1.1 2.9 2.8 2.9zM715.4 666.7v-5.2c0-1.6-1.4-3-3-3s-3 1.4-3 3v5.2c0 1.6 1.4 3 3 3s3-1.4 3-3zM717.6 620.4c3.9 0 3.9-6 0-6s-3.9 6 0 6zM477.5 329.8v1.3c0 1.6 1.4 3.1 3 3 1.6-0.1 3-1.3 3-3v-1.3c0-1.6-1.4-3.1-3-3-1.7 0.1-3 1.3-3 3z" fill="#FFE63C" p-id="1531"></path><path d="M470.1 350.1h-5.2c-1.6 0-3 1.4-3 3s1.4 3 3 3h5.2c1.6 0 3-1.4 3-3s-1.4-3-3-3z" fill="#FFE63C" p-id="1532"></path><path d="M313.8 449.5l-0.4 0.4c-1.1 1.1-1.2 3.1 0 4.2s3 1.2 4.2 0c0.6-0.5 1.1-1.1 1.7-1.7 1.1-1.1 1.2-3.1 0-4.2s-3.1-1.2-4.2 0l-1.7 1.7 4.2 4.2 0.4-0.4c1.1-1.1 1.2-3.1 0-4.2s-3-1.2-4.2 0z" fill="#FFE63C" p-id="1533"></path><path d="M344.4 431.3c3.9 0 3.9-6 0-6-3.8 0-3.8 6 0 6z" fill="#FFE63C" p-id="1534"></path><path d="M662.6 231.9l36.3-36.3c-3.3-1.9-6.7-3.9-10-5.8-5.5 15.8-11 31.6-16.6 47.4-2.1 6 5.9 9.6 10 5.8 13-11.9 25.9-23.8 38.9-35.8-3.1-2.4-6.3-4.8-9.4-7.3-8.2 15.9-16.5 31.8-24.7 47.7-3 5.8 4.5 12.4 9.4 7.3 15.6-16.3 31.2-32.7 46.7-49 5.3-5.6-3.1-14.1-8.5-8.5-15.6 16.3-31.2 32.7-46.7 49 3.1 2.4 6.3 4.8 9.4 7.3 8.2-15.9 16.5-31.8 24.7-47.7 3.1-6-4.3-12-9.4-7.3-13 11.9-25.9 23.8-38.9 35.8 3.3 1.9 6.7 3.9 10 5.8 5.5-15.8 11-31.6 16.6-47.4 2-5.8-6-9.9-10-5.8l-36.3 36.3c-5.5 5.5 3 14 8.5 8.5zM825.2 400.1c-3.6 1.7-7.2 3.3-10.8 5 2 3.5 4 6.9 6.1 10.4 9.9-7 21.7-9.3 33.4-6.1-0.5-3.7-1-7.3-1.4-11-13.2 5.6-25.2 13.4-35.9 22.8-4.6 4 0.3 11.6 5.8 10 12-3.4 23.9-6.7 35.9-10.1-1.9-3.3-3.9-6.7-5.8-10l-28.2 28.8c-4 4.1-0.7 9.6 4.2 10.2 18.6 2.4 37.7-2.7 52.6-14 6.1-4.6 0.1-15-6.1-10.4-13.5 10.2-29.8 14.5-46.6 12.3l4.2 10.2 28.2-28.8c4.2-4.2 0-11.7-5.8-10-12 3.4-23.9 6.7-35.9 10.1 1.9 3.3 3.9 6.7 5.8 10 10-8.8 21.3-15.7 33.5-21 5-2.1 3.1-9.7-1.4-11-14.6-4-30.3-1.5-42.7 7.3-6.3 4.5-1 13.6 6.1 10.4 3.6-1.7 7.2-3.3 10.8-5 7.1-3 1-13.3-6-10.1zM692.2 812.8c5.6 15.7 13.8 30 24.4 42.9 3.6 4.4 9.9 0.4 10.2-4.2 1.6-20.6 0.6-41.2-2.7-61.6-0.5-2.9-3.9-4.7-6.6-4.3-3.2 0.4-4.8 2.9-5.2 5.9-2.1 16.7 3.2 33.1 13.8 46 3 3.7 8.8 1.3 10-2.6 3.2-10.8 4.4-22 3.5-33.3l-10.2 4.2c8.3 9.6 16.7 19.3 25 28.9 4 4.6 11.6-0.3 10-5.8-4.5-16.1-14-29.6-27.2-39.8-2.6-2-6.7-0.4-8.2 2.2-1.8 3.1-0.4 6.2 2.2 8.2 10.6 8.2 18.1 19.8 21.7 32.6 3.3-1.9 6.7-3.9 10-5.8-8.3-9.6-16.7-19.3-25-28.9-3.3-3.8-10.7-0.9-10.2 4.2 0.9 10.3-0.1 20.2-3 30.1 3.3-0.9 6.7-1.8 10-2.6-8.6-10.6-12-24.1-10.3-37.5-3.9 0.5-7.9 1.1-11.8 1.6 3.1 19.3 3.8 38.9 2.2 58.4l10.2-4.2c-9.2-11.2-16.4-23.9-21.3-37.6-2.6-7.4-14.2-4.3-11.5 3zM390.2 846.6c-4.3 10.5-8.5 21-12.8 31.6-2.5 6.3 7.9 10.7 11 4.6 6.6-13.1 14.4-25.6 23.6-37l-10.2-4.2c-1.5 12.1-5 24.1-10.2 35.2-3.2 7 5.9 12.5 10.4 6.1 5.6-8.1 11.2-16.1 16.8-24.2-3.7-1.5-7.3-3.1-11-4.6-1.2 7.7-2.4 15.3-3.6 23-0.6 4 2.6 9.2 7.4 7.4 14.3-5.6 23-22.4 16.8-37.1-2.9-6.9-14-4.4-11.6 3.2 2.6 8.1 5.3 16.2 7.7 24.4 2.2 7.4 13.8 4.2 11.6-3.2-2.4-8.2-5.2-16.3-7.7-24.4-3.9 1.1-7.7 2.1-11.6 3.2 3.4 8.2 0.3 18.9-8.5 22.4l7.4 7.4c1.2-7.7 2.4-15.3 3.6-23 1-6.7-6.9-10.4-11-4.6-5.6 8.1-11.2 16.1-16.8 24.2 3.5 2 6.9 4 10.4 6.1 6.1-13.2 10-26.8 11.8-41.2 0.6-5-7.1-8.1-10.2-4.2-9.9 12.2-18.5 25.3-25.5 39.4 3.7 1.5 7.3 3.1 11 4.6 4.3-10.5 8.5-21 12.8-31.6 2.9-7.5-8.7-10.6-11.6-3.5zM151.9 622.3c17.5-10.2 37.4-14.8 57.6-13.9-1-3.7-2-7.5-3-11.2-13.3 6.5-26.7 13.1-40 19.6-6.7 3.3-1.5 11.8 4.6 11 14.8-2 29.4-4.9 43.8-8.7-1.5-3.7-3.1-7.3-4.6-11l-34.8 16.5c-5.6 2.7-2.6 11.1 3 11.2 13.1 0.1 26.1-3.6 36.6-11.5 6-4.5 0.7-14.4-6.1-10.4-12.7 7.6-25.4 15.2-38 22.8-6.3 3.7-1.8 11.9 4.6 11 11.7-1.6 22.8-5.8 32.5-12.6 6.3-4.4 0.3-14.8-6.1-10.4-9 6.2-18.9 9.8-29.6 11.3 1.5 3.7 3.1 7.3 4.6 11 12.7-7.6 25.4-15.2 38-22.8-2-3.5-4-6.9-6.1-10.4-8.9 6.7-19.3 10-30.5 9.8 1 3.7 2 7.5 3 11.2l34.8-16.5c6.3-3 1.8-12.6-4.6-11-14.4 3.8-29.1 6.7-43.8 8.7 1.5 3.7 3.1 7.3 4.6 11 13.3-6.5 26.7-13.1 40-19.6 5.7-2.8 2.5-10.9-3-11.2-22.2-1-44.4 4.3-63.6 15.5-6.6 4.1-0.5 14.5 6.1 10.6zM160.2 408.9c14.9 9.2 31.7 14.3 49.2 15 5.8 0.2 8.3-8.5 3-11.2-12.6-6.4-23.7-14.9-33.2-25.4l-4.2 10.2c10.5 0.2 20.6 2.3 30.3 6.2 4.2 1.7 8.7-3.3 7.4-7.4-4.6-14.1-15.6-24.9-29.9-29.1-6.9-2-9.9 7.2-4.6 11 8.5 6.1 17 12.3 25.5 18.4 4.6 3.3 9.7-2.2 8.8-6.8-1.2-6.2-2.5-12.4-3.7-18.7-1.5-7.6-13.1-4.4-11.6 3.2 1.2 6.2 2.5 12.4 3.7 18.7 2.9-2.3 5.9-4.5 8.8-6.8-8.5-6.1-17-12.3-25.5-18.4-1.5 3.7-3.1 7.3-4.6 11 10.1 3 18.2 10.6 21.5 20.7l7.4-7.4c-10.7-4.3-22-6.4-33.5-6.6-5.4-0.1-7.6 6.5-4.2 10.2 10.1 11.2 22.2 20.4 35.6 27.2 1-3.7 2-7.5 3-11.2-15.4-0.6-30-5.2-43.1-13.3-6.6-4-12.6 6.4-6.1 10.5zM387 183.3c13.6 6.8 24.4 18.3 29.7 32.6 2 5.3 9.9 6.1 11.6 0 4.7-17.2 6.3-35 4.4-52.7-3.7 1-7.5 2-11.2 3 4 8 9.7 15 16.7 20.5 2.1 1.6 4.9 2.5 7.3 0.9 14.7-9.6 26.6-22.9 34.1-38.9 2-4.2-0.4-8.8-5.2-9-5.7-0.3-10.7 1.8-14.7 5.7-5.6 5.4 2.9 13.8 8.5 8.5 1.9-1.8 3.7-2.3 6.2-2.2-1.7-3-3.5-6-5.2-9-6.7 14.1-16.7 26-29.8 34.6 2.4 0.3 4.8 0.6 7.3 0.9-6.4-4.9-11.3-10.8-14.9-18-2.6-5.1-11.8-2.9-11.2 3 1.8 16.7 0.5 33.3-3.9 49.5h11.6c-6.4-17.2-18.7-31.5-35.2-39.8-6.9-3.4-13 6.9-6.1 10.4z" fill="#91000A" p-id="1535"></path></svg>-->
                    <div v-if="itme.pictureUrl == '1'">
                      <el-image
                        class="back-img my-div"
                        :src="require('@/assets/image/accident/爆炸.svg')"
                        fit="none"
                        :style="{
                          right: itme.right,
                          left: itme.left,
                          top: itme.top,
                          width: 48 + 'px',
                          height: 48 + 'px',
                        }"
                        @click="CatImageClick(itme)"
                      ></el-image>
                    </div>
                    <div v-if="itme.pictureUrl == '2'">
                      <el-image
                        class="back-img my-div"
                        :src="require('@/assets/image/accident/hz.svg')"
                        fit="none"
                        :style="{
                          right: itme.right,
                          left: itme.left,
                          top: itme.top,
                          width: 48 + 'px',
                          height: 48 + 'px',
                        }"
                        @click="CatImageClick(itme)"
                      ></el-image>
                    </div>
                    <div v-if="itme.pictureUrl == '3'">
                      <el-image
                        class="back-img my-div"
                        :src="require('@/assets/image/accident/hz.svg')"
                        fit="none"
                        :style="{
                          right: itme.right,
                          left: itme.left,
                          top: itme.top,
                          width: 48 + 'px',
                          height: 48 + 'px',
                        }"
                        @click="CatImageClick(itme)"
                      ></el-image>
                    </div>
                  </div>
                  <!--小车运行-->
                  <div
                    class="carBox"
                    v-show="carShow"
                    v-for="(value, key) in carList"
                    :key="key"
                  >
                    <div
                      id="carShowSpan"
                      v-for="(data, index) in value"
                      :key="index"
                      :style="{
                        right: data.right,
                        left: data.left,
                        top: data.top,
                      }"
                    >
                      <el-tooltip
                        disabled
                        :title="data.vehicleLicense"
                        placement="bottom"
                        effect="light"
                      >
                        <span
                          class="my-div"
                          :title="data.vehicleLicense"
                          :style="{ color: data.background }"
                          @click="pCatClick(data.vehicleLicense)"
                        >
                          {{ data.vehicleLicense }}</span
                        >
                      </el-tooltip>
                    </div>
                  </div>

                  <!-- 设备图标-->
                  <div
                    class="icon-box mouseHover"
                    v-for="(item, index) in selectedIconList"
                    :key="item.eqId"
                    :style="{
                      left: item.position.left + 'px',
                      top: item.position.top + 'px',
                      'z-index': item.eqType || item.eqType == 0 ? '' : '-1',
                    }"
                    :class="
                      item.eqType == 7 || item.eqType == 8 || item.eqType == 9
                        ? 'light-' + item.position.left
                        : ''
                    "
                    @click="openStateSwitch(item)"
                    @mousemove="openTooltip(item, index)"
                    @mouseleave="closeTooltip(item)"
                  >
                    <div
                      class="tooltipBox"
                      v-if="showTooltipIndex == index"
                      :style="{
                        top:
                          item.tooltipType == 1 || item.tooltipType == 2
                            ? '35px'
                            : '-50px',
                        left:
                          item.tooltipType == 1 || item.tooltipType == 3
                            ? '0px'
                            : -(item.eqName.length * 10 + 40) + 'px',
                      }"
                    >
                      <span>名称：{{ item.eqName }}</span
                      ><br />
                      <span>方向：{{ getDirection(item.eqDirection) }}</span>
                    </div>
                    <div
                      v-show="
                        (item.eqType != 7 &&
                          item.eqType != 15 &&
                          item.eqType != 8 &&
                          item.eqType != 9 &&
                          item.display == true) ||
                        ((item.eqType == 7 ||
                          item.eqType == 8 ||
                          item.eqType == 9 ||
                          item.eqType == 21) &&
                          item.display == true &&
                          lightSwitch == 1)
                      "
                      :class="{ focus: item.focus }"
                    >
                      <img
                        v-show="
                          item.eqType != '31' &&
                          item.eqType != '16' &&
                          item.eqType != '36'
                        "
                        v-for="(url, indexs) in item.url"
                        style="position: absolute"
                        :style="{
                          left: indexs * 14 + 'px',
                          cursor:
                            item.eqType || item.eqType == 0 ? 'pointer' : '',
                          border: item.click == true ? 'solid 2px #09C3FC' : '',
                          transform:
                            (item.eqType == 23 &&
                              item.eqDirection == 2 &&
                              item.eqTunnelId == 'JQ-JiNan-WenZuBei-HSD') ||
                            (item.eqTunnelId != 'JQ-JiNan-WenZuBei-HSD' &&
                              item.eqDirection == 1 &&
                              item.associated_device_id == 2)
                              ? 'scale(-1,1)'
                              : item.eqTunnelId != 'JQ-JiNan-WenZuBei-HSD' &&
                                item.eqDirection == 2 &&
                                item.associated_device_id == 2
                              ? 'scale(1,-1)'
                              : item.eqTunnelId != 'JQ-JiNan-WenZuBei-HSD' &&
                                item.eqDirection == 2 &&
                                item.associated_device_id == 1
                              ? 'scale(-1,-1)'
                              : '',
                        }"
                        :width="item.iconWidth"
                        :height="item.iconHeight"
                        :key="item.eqId + indexs"
                        :src="url"
                        :class="
                          item.eqName == screenEqName ? 'screenEqNameClass' : ''
                        "
                      />
                      <img
                        v-show="item.eqType == '31'"
                        style="position: absolute"
                        :style="{
                          cursor:
                            item.eqType || item.eqType == 0 ? 'pointer' : '',
                          border: item.click == true ? 'solid 2px #09C3FC' : '',
                          width: item.iconWidth + 'px',
                          height: item.iconHeight + 'px',
                        }"
                        :src="getTypePic(item)"
                        :class="
                          item.eqName == screenEqName ? 'screenEqNameClass' : ''
                        "
                      />
                      <div
                        v-show="item.eqType == 16"
                        class="boardBox1"
                        :style="{
                          cursor:
                            item.eqType || item.eqType == 0 ? 'pointer' : '',
                          border: item.click == true ? 'solid 2px #09C3FC' : '',
                          width: item.associated_device_id
                            ? getBoardStyle(
                                item.associated_device_id,
                                'width',
                                item.eqType
                              ) + 'px'
                            : item.iconWidth + 'px',
                          height: item.associated_device_id
                            ? getBoardStyle(
                                item.associated_device_id,
                                'height',
                                item.eqType
                              ) + 'px'
                            : item.iconHeight + 'px',
                          fontSize: item.associated_device_id
                            ? getBoardStyle(
                                item.associated_device_id,
                                'fontSize',
                                item.eqType
                              ) + 'px'
                            : '15px',
                        }"
                        :src="getTypePic(item)"
                        :class="
                          item.eqName == screenEqName ? 'screenEqNameClass' : ''
                        "
                      >
                        <div
                          :style="{
                            animation:
                              'boardBox1 ' +
                              Number(
                                getBoardStyle(
                                  item.associated_device_id,
                                  'content'
                                ).length
                              ) *
                                1.3 +
                              's' +
                              ' linear infinite',
                          }"
                        >
                          <span
                            v-for="itm in getBoardStyle(
                              item.associated_device_id,
                              'array'
                            )"
                            :key="itm.associated_device_id"
                            :style="{
                              color: getColorStyle(itm.COLOR),
                            }"
                            style="padding-top: 10px"
                            >{{ itm.CONTENT }}</span
                          >
                        </div>
                      </div>
                      <div
                        v-show="item.eqType == 36"
                        class="boardBox2"
                        :style="{
                          cursor:
                            item.eqType || item.eqType == 0 ? 'pointer' : '',
                          border: item.click == true ? 'solid 2px #09C3FC' : '',
                          width:
                            item.associated_device_id != undefined
                              ? getBoardStyle(
                                  item.associated_device_id,
                                  'width',
                                  item.eqType
                                ) + 'px'
                              : item.iconWidth + 'px',
                          height:
                            item.associated_device_id != undefined
                              ? getBoardStyle(
                                  item.associated_device_id,
                                  'height',
                                  item.eqType
                                ) + 'px'
                              : item.iconHeight + 'px',
                          fontSize:
                            item.associated_device_id != undefined
                              ? getBoardStyle(
                                  item.associated_device_id,
                                  'fontSize',
                                  item.eqType
                                ) + 'px'
                              : '15px',
                        }"
                        :src="getTypePic(item)"
                        :class="
                          item.eqName == screenEqName ? 'screenEqNameClass' : ''
                        "
                      >
                        <div
                          :style="{
                            animation:
                              'boardBox2 ' +
                              Number(
                                getBoardStyle(
                                  item.associated_device_id,
                                  'content'
                                ).length
                              ) *
                                1.3 +
                              's' +
                              ' linear infinite',
                          }"
                        >
                          <span
                            v-for="itm in getBoardStyle(
                              item.associated_device_id,
                              'array'
                            )"
                            :key="itm.associated_device_id"
                            :style="{
                              color: getColorStyle(itm.COLOR),
                            }"
                            style="padding-top: 10px"
                            >{{ itm.CONTENT }}</span
                          >
                        </div>
                      </div>
                      <!-- 调光数值 -->
                      <label
                        style="
                          color: yellow;
                          position: absolute;
                          left: 30px;
                          bottom: 2px;
                          pointer-events: none;
                        "
                        v-if="item.eqType == 21"
                        >{{ item.lightValue }}</label
                      >
                      <!-- CO/VI -->
                      <label
                        style="color: #79e0a9"
                        class="labelClass"
                        v-if="item.eqType == 19"
                      >
                        {{ item.num }}
                      </label>
                      <!-- 风速风向 -->
                      <label
                        style="color: #79e0a9"
                        class="labelClass"
                        v-if="item.eqType == 17"
                      >
                        {{ item.num }}
                      </label>
                      <!-- 洞内洞外 -->
                      <label
                        style="color: #f2a520"
                        class="labelClass"
                        v-if="item.eqType == 5 || item.eqType == 18"
                      >
                        {{ item.num }}
                      </label>
                      <!-- 加强照明 -->
                      <label
                        style="color: #f2a520"
                        class="labelClass labelClass7"
                        v-if="item.eqType == 7"
                      >
                        <span
                          v-if="
                            selectBigType.index == 0 || selectBigType.index == 6
                          "
                        >
                          {{ item.num }}
                        </span>
                        <span v-if="selectBigType.index == 4">
                          {{ item.electricity }}
                        </span>
                      </label>
                      <label
                        style="color: #f2a520"
                        class="labelClass labelClass9"
                        v-if="item.eqType == 9"
                      >
                        <span
                          v-if="
                            selectBigType.index == 0 || selectBigType.index == 6
                          "
                        >
                          {{ item.num }}
                        </span>
                        <span v-if="selectBigType.index == 4">
                          {{ item.electricity }}
                        </span>
                      </label>
                      <label
                        style="color: #f2a520"
                        class="labelClass labelClass9"
                        v-if="item.eqType == 10 && selectBigType.index == 4"
                      >
                        {{ item.electricity }}
                      </label>
                    </div>
                    <!-- 桩号 -->
                    <input
                      :class="[
                        item.eqType == 7 ||
                        item.eqType == 8 ||
                        item.eqType == 9 ||
                        item.eqType == 21
                          ? 's-config-img-input'
                          : 'config-img-input',
                      ]"
                      v-if="
                        (item.display == true &&
                          displayNumb == true &&
                          item.eqType != 7 &&
                          item.eqType != 8 &&
                          item.eqType != 9 &&
                          item.eqType != 21) ||
                        ((item.eqType == 7 ||
                          item.eqType == 8 ||
                          item.eqType == 9 ||
                          item.eqType == 21) &&
                          item.display == true &&
                          lightSwitch == 1 &&
                          displayNumb == true)
                      "
                      v-show="item.eqType || item.eqType == 0"
                      type="text"
                      v-model="item.pile"
                      disabled="true"
                      style="color: #055270; margin-left: -20px"
                    />
                    <div v-else style="width: 80px"></div>
                  </div>
                </div>
              </el-row>
            </div>
          </div>
        </div>
      </div>
      <!-- <div class="siblings"> -->
      <div class="eqTypeListClass">
        <div
          type="info"
          size="small"
          v-for="(item, index) in dictList"
          :key="item.raw.dictCode"
          :label="item.label"
          :value="index"
          @click="displayControl(index, item.label)"
          class="leftButtonS"
        >
          <div>{{ item.label }}</div>
        </div>
      </div>

      <!-- 右侧侧窗 -->
      <com-deawer class="topNavRightDeawer" ref="deawerRef"></com-deawer>

      <!--配置区域-->
      <com-footer class="footer" ref="footerRef"></com-footer>
    </div>
    <!-- 批量操作弹窗 -->

    <el-dialog
      class="workbench-dialog vehicle-dialog"
      :title="title"
      :visible.sync="batchManageDialog"
      width="450px"
      append-to-body
      v-dialogDrag
      :close-on-click-modal="false"
      :model="false"
    >
      <div class="dialogStyleBox">
        <div class="dialogLine"></div>
        <div class="dialogCloseButton"></div>
      </div>
      <el-table
        ref="batchManageTable"
        :data="batchManageList"
        tooltip-effect="dark"
        style="width: 100%; margin-bottom: 10px !important"
        max-height="220"
        size="mini"
        @row-click="handleRowClick"
      >
        <el-table-column
          prop="eqName"
          label="设备名称"
          width="200"
          align="center"
          show-overflow-tooltip
        >
        </el-table-column>
        <el-table-column
          prop="pile"
          label="桩号"
          width="120"
          align="center"
          show-overflow-tooltip
        >
        </el-table-column>
        <el-table-column label="方向" align="center">
          <template slot-scope="scope">
            <span>{{ getDirection(scope.row.eqDirection) }}</span>
          </template>
        </el-table-column>
      </el-table>
      <el-form
        :model="batchManageForm"
        label-width="90px"
        label-position="left"
        size="mini"
        style="padding: 15px; padding-top: 0px"
      >
        <el-form-item label="配置状态:">
          <div class="wrap">
            <el-radio-group
              v-for="item in eqTypeStateList2"
              :key="item.state"
              v-model="batchManageForm.state"
              style="display: flex; flex-direction: column"
              @change="$forceUpdate()"
            >
              <el-radio
                v-if="batchManageForm.eqType == item.type && item.control == 1"
                class="el-radio flex-row"
                :label="item.state"
                style="align-items: center"
                :class="[
                  String(batchManageForm.state) == String(item.state)
                    ? 'el-radio-selcted'
                    : '',
                ]"
              >
                <el-row
                  class="flex-row"
                  v-if="
                    batchManageForm.eqDirection == '1' &&
                    (batchManageForm.eqType == 1 || batchManageForm.eqType == 2)
                  "
                >
                  <img
                    :width="iconWidth"
                    :height="iconHeight"
                    :src="item.url[0]"
                  />
                  <img
                    :width="iconWidth"
                    :height="iconHeight"
                    :src="item.url[1]"
                    v-if="item.url.length > 1"
                  />
                  <div style="margin: 0 0 0 10px; display: inline-block">
                    {{ item.name }}
                  </div>
                </el-row>
                <el-row
                  class="flex-row"
                  v-if="
                    batchManageForm.eqDirection == '2' &&
                    (batchManageForm.eqType == 1 || batchManageForm.eqType == 2)
                  "
                >
                  <img
                    :width="iconWidth"
                    :height="iconHeight"
                    :src="item.url[1]"
                  />
                  <img
                    :width="iconWidth"
                    :height="iconHeight"
                    :src="item.url[0]"
                    v-if="item.url.length > 1"
                  />
                  <div style="margin: 0 0 0 10px; display: inline-block">
                    {{ item.name }}
                  </div>
                </el-row>

                <el-row
                  class="flex-row"
                  v-if="
                    batchManageForm.eqType != 1 && batchManageForm.eqType != 2
                  "
                >
                  <img
                    :width="iconWidth"
                    :height="iconHeight"
                    :src="item.url[0]"
                    :style="{ width: itemEqType == 31 ? '110px' : 'auto' }"
                  />

                  <div style="margin: 0 0 0 10px; display: inline-block">
                    {{ item.name }}
                  </div>
                </el-row>
              </el-radio>
            </el-radio-group>
          </div>
        </el-form-item>
        <el-row
          style="margin-top: 10px"
          v-show="[7, 9, 30, 31].includes(batchManageForm.eqType)"
        >
          <el-col :span="15">
            <el-form-item label="亮度调整:">
              <el-slider
                v-model="batchManageForm.brightness"
                :max="100"
                :min="min"
                class="sliderClass"
                :disabled="!batchManageForm.brightness"
                @change="$forceUpdate()"
              ></el-slider>
            </el-form-item>
          </el-col>
          <el-col :span="9">
            <span style="padding-left: 10px; line-height: 30px"
              >{{ batchManageForm.brightness }} %</span
            >
          </el-col>
        </el-row>
        <el-row
          style="margin-top: 10px"
          v-show="
            [30, 31].includes(batchManageForm.eqType) &&
            batchManageForm.state == 5
          "
        >
          <el-col :span="15">
            <el-form-item label="闪烁频率:">
              <el-slider
                v-model="batchManageForm.frequency"
                :max="100"
                :min="min"
                class="sliderClass"
                :disabled="!batchManageForm.frequency"
                @change="$forceUpdate()"
              ></el-slider>
            </el-form-item>
          </el-col>
          <el-col :span="9">
            <span style="padding-left: 10px; line-height: 30px"
              >{{ batchManageForm.frequency }} m/s</span
            >
          </el-col>
        </el-row>
      </el-form>
      <div slot="footer" class="dialog-footer">
        <el-button @click="batchManageOK()" class="submitButton"
          >确 定</el-button
        >
        <el-button class="closeButton" @click="closeBatchManageDialog()"
          >取 消</el-button
        >
      </div>
    </el-dialog>
    <!-- 操作日志 弹窗 -->
    <el-dialog
      class="explain-table operationDiglog"
      :title="title"
      :close-on-click-modal="false"
      :visible.sync="operationLogDialog"
      :before-close="cancel"
      width="1100px"
      :destroy-on-close="true"
      append-to-body
      v-dialogDrag
      @close="resetQuery"
    >
      <div class="dialogStyleBox">
        <div class="dialogLine"></div>
        <div class="dialogCloseButton"></div>
      </div>
      <el-tabs v-model="operationActive" @tab-click="handleTabClick">
        <el-tab-pane label="操作日志" name="caozuo"></el-tab-pane>
        <el-tab-pane label="系统日志" name="xitong"></el-tab-pane>
      </el-tabs>
      <el-row
        :gutter="20"
        style="margin: 0px 0 10px"
        v-show="operationActive == 'xitong'"
      >
        <el-col :span="4">
          <el-button size="small" @click="resetQuery">刷新</el-button>
        </el-col>
        <el-col :span="10" :offset="10">
          <div class="grid-content bg-purple" ref="main">
            <el-input
              placeholder="请输入用户名称、登录地址，回车搜索"
              v-model="operationParam_xt.ipaddr"
              @keyup.enter.native="handleQueryOperationParam"
              size="small"
            >
              <el-button
                slot="append"
                class="searchTable"
                @click="syxt_boxShow = !syxt_boxShow"
              ></el-button>
            </el-input>
          </div>
        </el-col>
      </el-row>
      <div class="syxt_searchBox" v-show="syxt_boxShow" ref="cc">
        <el-form
          ref="operationParam_xt"
          :inline="true"
          :model="operationParam_xt"
          label-width="68px"
          v-show="operationActive == 'xitong'"
        >
          <el-form-item label="登录状态" prop="status">
            <el-select
              v-model="operationParam_xt.status"
              clearable
              placeholder="请选择登录状态"
              size="small"
              style="width: 100%"
            >
              <el-option
                v-for="dict in dict.type.sys_common_status"
                :key="dict.value"
                :label="dict.label"
                :value="dict.value"
              />
            </el-select>
          </el-form-item>
          <el-form-item label="登录时间">
            <el-date-picker
              v-model="dateRange"
              size="small"
              style="width: 100%"
              value-format="yyyy-MM-dd HH:mm:ss"
              type="datetimerange"
              range-separator="-"
              start-placeholder="开始日期"
              end-placeholder="结束日期"
              :picker-options="setoptions"
              :default-time="['00:00:00', '23:59:59']"
              :class="this.sideTheme != 'theme-dark' ? 'themeDarkPicker' : ''"
            ></el-date-picker>
          </el-form-item>
          <el-form-item class="bottomBox">
            <el-button
              size="small"
              type="primary"
              @click="handleQueryOperationParam"
              >搜索</el-button
            >
            <el-button size="small" @click="resetQuery" type="primary" plain
              >重置</el-button
            >
          </el-form-item>
        </el-form>
      </div>

      <el-row
        :gutter="20"
        style="margin: 0px 0 10px"
        v-show="operationActive == 'caozuo'"
      >
        <el-col :span="4">
          <el-button size="small" @click="resetQuery">刷新</el-button>
        </el-col>
        <el-col :span="10" :offset="10">
          <div class="grid-content bg-purple" ref="main1">
            <el-input
              placeholder="请输入设备名称、桩号、操作地址，回车搜索"
              v-model="operationParam.operIp"
              @keyup.enter.native="handleQueryOperationParam"
              size="small"
            >
              <el-button
                slot="append"
                class="searchTable"
                @click="sycz_boxShow1 = !sycz_boxShow1"
              ></el-button>
            </el-input>
          </div>
        </el-col>
      </el-row>
      <div class="syxt_searchBox" v-show="sycz_boxShow1" ref="cc1">
        <el-form
          ref="operationParam"
          :inline="true"
          :model="operationParam"
          label-width="68px"
          v-show="operationActive == 'caozuo'"
        >
          <el-form-item label="设备类型" prop="eqTypeId" style="width: 100%">
            <!-- <el-select
              v-model="operationParam.eqTypeId"
              clearable
              placeholder="请选择设备类型"
              size="small"
            >
              <el-option
                v-for="item in eqTypeData"
                :key="item.typeId"
                :label="item.typeName"
                :value="item.typeId"
              />
            </el-select> -->
            <el-cascader
              ref="cc2"
              placeholder="请选择设备类型"
              v-model="operationParam.eqTypeId"
              :options="eqTypeData"
              :props="equipmentTypeProps"
              :show-all-levels="false"
              style="width: 100%"
              clearable
              @visible-change="elCascaderOnClick"
              :key="refresh"
            ></el-cascader>
          </el-form-item>

          <!-- <el-form-item
            label="隧道名称"
            prop="tunnelId"
            v-show="manageStation == '0'"
          >
            <el-select
              v-model="operationParam.tunnelId"
              placeholder="请选择隧道"
              style="width: 252px"
              clearable
              size="small"
            >
              <el-option
                v-for="item in eqTunnelData"
                :key="item.tunnelId"
                :label="item.tunnelName"
                :value="item.tunnelId"
              />
            </el-select>
          </el-form-item> -->
          <el-form-item label="控制方式" prop="controlType" style="width: 100%">
            <el-select
              v-model="operationParam.controlType"
              clearable
              placeholder="请选择控制方式"
              size="small"
            >
              <el-option
                v-for="dict in dict.type.sd_control_type"
                :key="dict.value"
                :label="dict.label"
                :value="dict.value"
              />
            </el-select>
          </el-form-item>
          <el-form-item label="创建时间">
            <el-date-picker
              v-model="dateRange1"
              size="small"
              style="width: 100%"
              value-format="yyyy-MM-dd HH:mm:ss"
              type="datetimerange"
              range-separator="-"
              start-placeholder="开始日期"
              end-placeholder="结束日期"
              :picker-options="setoptions"
              :default-time="['00:00:00', '23:59:59']"
            ></el-date-picker>
          </el-form-item>
          <el-form-item class="bottomBox">
            <el-button
              size="small"
              type="primary"
              @click="handleQueryOperationParam"
              >搜索</el-button
            >
            <el-button size="small" @click="resetQuery" type="primary" plain
              >重置</el-button
            >
          </el-form-item>
        </el-form>
      </div>
      <el-table
        ref="tables"
        v-loading="loading"
        :data="operationList1"
        @selection-change="handleSelectionChange"
        :row-class-name="tableRowClassName"
        v-show="operationActive == 'xitong'"
        :default-sort="{ prop: 'loginTime', order: 'descending' }"
        max-height="430"
        :row-key="getRowKey1"
      >
        <el-table-column
          type="index"
          :index="indexMethod"
          label="序号"
          width="50"
          align="center"
        ></el-table-column>
        <el-table-column
          label="用户名称"
          align="center"
          prop="userName"
          width="80"
          :show-overflow-tooltip="true"
        />
        <el-table-column
          label="登录地址"
          align="center"
          prop="ipaddr"
          width="120"
          :show-overflow-tooltip="true"
        />
        <el-table-column
          label="登录地点"
          align="center"
          width="90"
          prop="loginLocation"
          :show-overflow-tooltip="true"
        />
        <el-table-column
          label="浏览器"
          align="center"
          prop="browser"
          width="110"
          :show-overflow-tooltip="true"
        />
        <el-table-column label="操作系统" align="center" prop="os" />
        <el-table-column
          label="登录状态"
          align="center"
          prop="status"
          width="80"
        >
          <template slot-scope="scope">
            <span
              :style="{
                color: scope.row.status == '0' ? '#00FF00' : 'red',
              }"
              >{{ pollFormat(scope.row.status) }}</span
            >
          </template>
        </el-table-column>
        <el-table-column
          label="操作信息"
          align="center"
          prop="msg"
          width="80"
        />
        <el-table-column
          label="登录日期"
          align="center"
          prop="loginTime"
          sortable
          width="170"
        >
          <template slot-scope="scope">
            <span>{{ parseTime(scope.row.loginTime) }}</span>
          </template>
        </el-table-column>
      </el-table>
      <el-table
        v-loading="loading"
        :data="operationList2"
        max-height="430"
        :default-sort="{ prop: 'createTime', order: 'descending' }"
        @selection-change="handleSelectionChange"
        :row-class-name="tableRowClassName"
        v-show="operationActive == 'caozuo'"
        :row-key="getRowKey2"
      >
        <el-table-column
          type="index"
          :index="indexMethod2"
          label="序号"
          width="50"
          align="center"
        ></el-table-column>
        <el-table-column
          label="隧道名称"
          align="center"
          prop="tunnelName.tunnelName"
          width="90"
        />
        <el-table-column
          label="设备类型"
          align="center"
          prop="typeName.typeName"
          :show-overflow-tooltip="true"
        />
        <el-table-column
          label="设备名称"
          align="center"
          prop="eqName.eqName"
          width="130"
          :show-overflow-tooltip="true"
        />
        <el-table-column label="桩号" align="center" prop="pile" width="120" />
        <el-table-column
          label="操作状态"
          align="center"
          prop="stateName.stateName"
          width="130"
          :show-overflow-tooltip="true"
        />
        <el-table-column
          label="控制方式"
          align="center"
          prop="controlType"
          width="90"
          :show-overflow-tooltip="true"
          :formatter="controlTypeFormat"
        />
        <el-table-column
          label="操作结果"
          align="center"
          prop="state"
          width="80"
        />
        <el-table-column label="操作地址" align="center" prop="operIp" />
        <el-table-column
          label="创建时间"
          align="center"
          prop="createTime"
          width="150"
          sortable
        >
          <template slot-scope="scope">
            <span>{{ parseTime(scope.row.createTime) }}</span>
          </template>
        </el-table-column>
      </el-table>
      <pagination
        v-show="total1 > 0 && operationActive == 'xitong'"
        :total="total1"
        :page.sync="operationParam_xt.pageNum"
        :limit.sync="operationParam_xt.pageSize"
        @pagination="getOperationList(operationActive)"
        class="paginationWorkbench"
      />
      <pagination
        v-show="total2 > 0 && operationActive == 'caozuo'"
        :total="total2"
        :page.sync="operationParam.pageNum"
        :limit.sync="operationParam.pageSize"
        @pagination="getOperationList(operationActive)"
        class="paginationWorkbench"
      />
    </el-dialog>
    <com-video class="comClass" ref="videoRef"></com-video>
    <com-light class="comClass" ref="lightRef"></com-light>
    <com-covi class="comClass" ref="coviRef"></com-covi>
    <com-data class="comClass" ref="dataRef"></com-data>
    <com-wind class="comClass" ref="windRef"></com-wind>
    <com-pressure class="comClass" ref="pressureRef"></com-pressure>
    <com-vehicleDetec class="comClass" ref="vehicleDetecRef"></com-vehicleDetec>
    <com-callPolice class="comClass" ref="callPoliceRef"></com-callPolice>
    <com-xfp class="comClass" ref="xfpRef"></com-xfp>
    <div v-if="robotIframeShow">
      <robot class="comClass robotHtmlBox"></robot>
      <img
        @click="dialogClose"
        src="../../../assets/cloudControl/closeIcon.png"
        class="closeRobot"
      />
    </div>

    <com-bright class="comClass" ref="brightRef"></com-bright>
    <com-youdao class="comClass" ref="youdaoRef"></com-youdao>
    <com-board class="comClass" ref="boardRef"></com-board>
    <com-radio class="comClass" ref="radioRef"></com-radio>
    <com-kzq class="comClass" ref="kzqRef"></com-kzq>

    <!--图标含义对话框-->
    <el-dialog
      v-dialogDrag
      class="workbench-dialog explain-table icon-dialog"
      :title="title"
      :visible.sync="explainVisible"
      width="1240px"
      append-to-body
      :close-on-click-modal="false"
    >
      <div class="dialogStyleBox">
        <div class="dialogLine"></div>
        <div class="dialogCloseButton"></div>
      </div>
      <img
        src="@/assets/logo/equipment_log/all.png"
        style="width: 100%; height: auto"
      />
      <div slot="footer" class="dialog-footer">
        <el-button class="closeButton" @click="cancel">关 闭</el-button>
      </div>
    </el-dialog>
    <!-- 照明配置对话框 -->
    <el-dialog
      v-dialogDrag
      class="workbench-dialog explain-table icon-dialog"
      :title="title"
      :visible.sync="lightingVisible"
      width="45%"
      append-to-body
      :close-on-click-modal="false"
    >
      <div class="dialogStyleBox">
        <div class="dialogLine"></div>
        <div class="dialogCloseButton"></div>
      </div>
      <el-form
        ref="form"
        :model="lightingForm"
        label-width="120px"
        :rules="lightingFormRules"
      >
        <el-row>
          <el-col :span="12">
            <el-form-item label="隧道名称" prop="tunnelId">
              <el-select
                v-model="lightingForm.tunnelId"
                placeholder="请选择隧道"
                disabled
              >
                <el-option
                  v-for="item in eqTunnelData"
                  :key="item.tunnelId"
                  :label="item.tunnelName"
                  :value="item.tunnelId"
                />
              </el-select>
            </el-form-item>
          </el-col>
          <el-col :span="12">
            <el-form-item label="模式类型" prop="modeType">
              <el-select
                v-model="lightingForm.modeType"
                placeholder="请选择模式类型"
              >
                <el-option
                  v-for="item in modeTypeList"
                  :key="item.value"
                  :label="item.name"
                  :value="item.value"
                />
              </el-select>
            </el-form-item>
          </el-col>
        </el-row>
        <el-row>
          <el-col :span="12">
            <el-form-item
              label="开启"
              prop="isStatus"
              v-if="lightingForm.modeType != 0"
            >
              <el-tooltip
                :content="lightingForm.isStatus == 1 ? '开启' : '关闭'"
                placement="top"
              >
                <el-switch
                  v-model="lightingForm.isStatus"
                  active-color="#13ce66"
                  inactive-color="#ff4949"
                  :active-value="1"
                  :inactive-value="0"
                >
                </el-switch>
              </el-tooltip>
            </el-form-item>
          </el-col>
          <!--          <el-col :span="12">-->
          <!--            <el-form-item-->
          <!--              label="当前亮度值"-->
          <!--              prop="beforeLuminance"-->
          <!--              v-if="lightingForm.modeType == 1"-->
          <!--            >-->
          <!--              <el-input-->
          <!--                v-model="lightingForm.beforeLuminance"-->
          <!--                placeholder="请输入当前亮度值(0-100)"-->
          <!--              />-->
          <!--            </el-form-item>-->
          <!--          </el-col>-->
        </el-row>
        <!--        <el-row>-->
        <!--          <el-col :span="12">-->
        <!--            <el-form-item-->
        <!--              label="最小亮度值"-->
        <!--              prop="minLuminance"-->
        <!--              v-if="lightingForm.modeType != 0"-->
        <!--            >-->
        <!--              <el-input-->
        <!--                v-model="lightingForm.minLuminance"-->
        <!--                placeholder="请输入最小亮度值(0-100)"-->
        <!--              />-->
        <!--            </el-form-item>-->
        <!--          </el-col>-->
        <!--          <el-col :span="12">-->
        <!--            <el-form-item-->
        <!--              label="响应时长(毫秒)"-->
        <!--              prop="respondTime"-->
        <!--              v-if="lightingForm.modeType != 0"-->
        <!--            >-->
        <!--              <el-input-->
        <!--                v-model="lightingForm.respondTime"-->
        <!--                placeholder="请输入响应时长 单位：秒s"-->
        <!--              />-->
        <!--            </el-form-item>-->
        <!--          </el-col>-->
        <!--        </el-row>-->
      </el-form>
      <div slot="footer" class="dialog-footer">
        <el-button class="submitButton" @click="submitLightingForm"
          >确 定</el-button
        >
        <el-button class="closeButton" @click="cancel">关 闭</el-button>
      </div>
    </el-dialog>

    <!--查看控制策略对话框-->
    <el-dialog
      v-dialogDrag
      class="explain-table operationDiglog"
      :title="title"
      :visible.sync="strategyVisible"
      width="1000px"
      append-to-body
      :close-on-click-modal="false"
      :destroy-on-close="true"
      @close="strategyResetQuery"
    >
      <div class="dialogStyleBox">
        <div class="dialogLine"></div>
        <div class="dialogCloseButton"></div>
      </div>
      <el-tabs v-model="strategyActive" @tab-click="handleClick">
        <el-tab-pane label="手动控制" name="richang"></el-tab-pane>
        <el-tab-pane label="定时控制" name="dingshi"></el-tab-pane>
        <el-tab-pane label="自动触发" name="zidong"></el-tab-pane>
        <!--                <el-tab-pane label="预警策略" name="yujing"></el-tab-pane>-->
      </el-tabs>
      <el-row
        :gutter="20"
        style="margin: 0px 0 10px"
        v-show="
          strategyActive == 'richang' ||
          strategyActive == 'dingshi' ||
          strategyActive == 'zidong'
        "
      >
        <el-col :span="4">
          <el-button size="small" @click="strategResetQuery">刷新</el-button>
        </el-col>
        <el-col :span="10" :offset="10">
          <div class="grid-content bg-purple" ref="main2">
            <el-input
              v-model="queryParams.strategyName"
              placeholder="请输入策略名称"
              @keyup.enter.native="handlestrategyQuery"
              size="small"
            >
              <el-button
                slot="append"
                class="searchTable"
                @click="syxt_boxShow2 = !syxt_boxShow2"
              ></el-button>
            </el-input>
          </div>
        </el-col>
      </el-row>
      <div class="syxt_searchBox" v-show="syxt_boxShow2" ref="cc2">
        <el-form
          ref="operationParam"
          :inline="true"
          :model="operationParam"
          label-width="68px"
        >
          <!-- <el-form-item label="隧道名称" prop="tunnelId">
            <el-select
              v-model="queryParams.tunnelId"
              placeholder="请选择隧道"
              clearable
              size="small"
            >
              <el-option
                v-for="item in tunnelData"
                :key="item.tunnelId"
                :label="item.tunnelName"
                :value="item.tunnelId"
              />
            </el-select>
          </el-form-item> -->
          <el-form-item label="方向" prop="direction">
            <el-select
              v-model="queryParams.direction"
              placeholder="请选择方向"
              clearable
              size="small"
            >
              <el-option
                v-for="(item, index) in directionOptions"
                :key="index"
                :label="item.dictLabel"
                :value="item.dictValue"
              ></el-option>
            </el-select>
          </el-form-item>
          <!-- <el-form-item label="策略类型" prop="strategyType">
            <el-select
              v-model="queryParams.strategyType"
              placeholder="请选择策略类型"
              clearable
              size="small"
            >
              <el-option
                v-for="dict in strategyTypeOptions"
                :key="dict.dictValue"
                :label="dict.dictLabel"
                :value="dict.dictValue"
              />
            </el-select>
          </el-form-item> -->
          <el-form-item class="bottomBox">
            <el-button size="small" @click="handlestrategyQuery"
              >搜索</el-button
            >
            <el-button size="small" @click="strategResetQuery">重置</el-button>
          </el-form-item>
        </el-form>
      </div>
      <!-- <el-row
        :gutter="20"
        style="margin: 0px 0 6px; padding: 0px 5px"
        v-show="strategyActive == 'yujing'"
      >
        <el-col :span="4">
          <el-button size="small" @click="resetQuery">刷新</el-button>
        </el-col>
        <el-col :span="10" :offset="10">
          <div class="grid-content bg-purple" ref="main3">
            <el-input
              v-model="queryParams.strategyName"
              placeholder="请输入策略名称"
              @keyup.enter.native="handlestrategyQuery"
              size="small"
            >
              <el-button
                slot="append"
                class="searchTable"
                @click="sycz_boxShow3 = !sycz_boxShow3"
              ></el-button>
            </el-input>
          </div>
        </el-col>
      </el-row> -->
      <!-- <div class="syxt_searchBox" v-show="sycz_boxShow3" ref="cc3">
        <el-form
          ref="operationParam"
          :inline="true"
          :model="operationParam"
          label-width="68px"
        >
          <el-form-item label="隧道名称" prop="tunnelId">
            <el-select
              v-model="queryParams.tunnelId"
              placeholder="请选择隧道"
              clearable
              size="small"
            >
              <el-option
                v-for="item in tunnelData"
                :key="item.tunnelId"
                :label="item.tunnelName"
                :value="item.tunnelId"
              />
            </el-select>
          </el-form-item>
          <el-form-item label="策略类型" prop="strategyType">
            <el-select
              v-model="queryParams.strategyType"
              placeholder="请选择策略类型"
              clearable
              size="small"
            >
              <el-option
                v-for="dict in strategyTypeEvent"
                :key="dict.dictValue"
                :label="dict.dictLabel"
                :value="dict.dictValue"
              />
            </el-select>
          </el-form-item>
          <el-form-item class="bottomBox">
            <el-button size="small" @click="handlestrategyQuery"
              >搜索</el-button
            >
            <el-button size="small" @click="resetQuery">重置</el-button>
          </el-form-item>
        </el-form>
      </div> -->
      <el-table
        ref="multipleTable"
        :data="strategyList"
        tooltip-effect="dark"
        v-loading="strategyLoading"
        style="width: 100%"
        :max-height="420"
        size="mini"
        @selection-change="handleSelectionChange"
        :row-class-name="tableRowClassName"
        empty-text="暂无策略"
        :key="2"
      >
        <el-table-column
          type="index"
          width="70"
          align="center"
          :index="indexMethod3"
          label="序号"
        >
        </el-table-column>
        <el-table-column
          label="隧道名称"
          align="center"
          prop="tunnels.tunnelName"
        />
        <el-table-column
          label="事件类型"
          align="center"
          prop="tunnels.tunnelName"
          v-if="strategyActive == 'yujing'"
        />
        <el-table-column
          label="策略名称"
          align="center"
          prop="strategyName"
          show-overflow-tooltip
        />
        <el-table-column
          label="方向"
          align="center"
          prop="direction"
          :formatter="directionFormat"
        />
        <!-- <el-table-column
          label="策略类型"
          align="center"
          prop="strategyType"
          :formatter="strategyTypeFormat"
          v-if="strategyActive == 'richang'"
        /> -->
        <el-table-column
          label="策略类型"
          align="center"
          prop="strategyType"
          :formatter="strategyTypeFormatEvent"
          v-if="strategyActive == 'yujing'"
        />

        <el-table-column
          label="策略信息"
          align="center"
          prop="strategyInfo"
          :show-overflow-tooltip="true"
        >
          <template slot-scope="scope" v-if="scope.row.slist != []">
            <div v-for="(item, index) in scope.row.slist" :key="index">
              {{ item }}
            </div>
          </template>
          <div v-else>暂无信息</div>
        </el-table-column>

        <el-table-column
          label="状态"
          align="center"
          prop="schedulerTime"
          v-if="strategyActive != 'richang'"
        >
          <template slot-scope="scope">
            <el-switch
              v-model="scope.row.strategyState"
              active-color="#39ADFF"
              inactive-color="#ccc"
              active-value="0"
              inactive-value="1"
              @change="changeStrategyState(scope.row)"
            >
            </el-switch>
          </template>
        </el-table-column>
        <el-table-column
          label="执行"
          align="center"
          prop="schedulerTime"
          v-if="strategyActive == 'richang'"
        >
          <template slot-scope="scope">
            <el-button
              size="mini"
              type="text"
              class="tableBlueButtton"
              @click="richanghandleUpdate(scope.row)"
              >执行</el-button
            >
          </template>
        </el-table-column>
      </el-table>
      <pagination
        v-show="total > 0"
        :total="total"
        :page.sync="queryParams.pageNum"
        :limit.sync="queryParams.pageSize"
        @pagination="handlestrategyQuery"
        class="paginationWorkbench"
      />
    </el-dialog>
    <!--    <timingTask ref ='timingTask' :tunnelItem='tunnelItem' :tunnelList= 'tunnelList' :show="timingTaskShow"></timingTask>-->
    <jointControlStrategy
      ref="jointControlStrategy"
      :show="jointControlShow"
    ></jointControlStrategy>
  </div>
</template>

<script>
import flvjs from "flv.js";
import { math } from "@/utils/math.js";
import moment from "moment";
import { displayH5sVideoAll } from "@/api/icyH5stream";

import vueSeamlessScroll from "vue-seamless-scroll";
import $ from "jquery";
import "jquery-ui-dist/jquery-ui";
import "jquery-ui-dist/jquery-ui.min.css";
import bus from "@/utils/bus";
import { mapState } from "vuex";
// import timingTask from "@/views/workbench/config/components/timingTask";
import jointControlStrategy from "@/views/workbench/config/components/jointControlStrategy";
import {
  getLiPowerDevices,
  //initLipowerDevice
} from "@/api/system/lipowerDevice";

import {
  listDevices,
  getDevices,
  updateDevices,
  getAudioFileList,
  playVoiceGroup,
  videoStreaming,
  getDeviceById,
} from "@/api/equipment/eqlist/api";
import {
  listType,
  listHasType,
  getType,
  groupByBigType,
  hasListByBigType,
  loadPicture,
} from "@/api/equipment/type/api.js";
import { getCategoryTree, manualControlInfo } from "@/api/event/strategy";
import { getTemplateInfo } from "@/api/board/template.js";
import {
  listTunnels,
  getTunnels,
  updateTunnels,
  getConfigData,
  // getStorageData,
  setConfigData,
  pressure,
  sendAnalogCom,
  getHostData,
  setCorLight,
  updateCarFinger,
  getDeviceDataAndState,
  getJlyTunnel,
  energyConsumptionDetection,
  getBoardContent,
  getWorkRobot,
} from "@/api/equipment/tunnel/api.js";
import {
  listEqTypeState,
  getEqTypeState,
  updateEqTypeState,
  getStateByRun,
  getStateByData,
} from "@/api/equipment/eqTypeState/api";
import {
  icon,
  // eqTypeStateIcon,
  laneImage,
  laneImage2
} from "../../../utils/configData.js";
import {
  listStrategy,
  getStrategy,
  handleStrategy,
  workTriggerInfo,
  updateState,
  updateStrategyInfo,
} from "@/api/event/strategy";
import { getEntranceExitVideo } from "@/api/eventDialog/api.js";
import { selectByEqDeno } from "@/api/business/roadState.js";
import videoPlayer from "@/views/event/vedioRecord/myVideo";
import vmsContentUpdate from "@/views/workbench/config/vms-content-update"; //单个编辑
import contentBatchEdit from "@/views/workbench/config/content-batch-edit"; //批量编辑
import comVideo from "@/views/workbench/config/components/video"; //摄像机弹窗
import comLight from "@/views/workbench/config/components/light"; //各种带单选框的弹窗
import comCovi from "@/views/workbench/config/components/covi"; //covi弹窗
import comBright from "@/views/workbench/config/components/bright"; //亮度检测器等只有基本信息的弹窗
import comWind from "@/views/workbench/config/components/wind"; //风速风向弹窗
import comPressure from "@/views/workbench/config/components/pressure"; //压力表弹窗
import comVehicleDetec from "@/views/workbench/config/components/vehicleDetec"; //微波车检弹窗
import comCallPolice from "@/views/workbench/config/components/callPolice"; //声光报警弹窗
import comRobot from "@/views/workbench/config/components/robot"; //机器人弹窗
import comData from "@/views/workbench/config/components/data"; //只有数据的弹窗
import comYoudao from "@/views/workbench/config/components/youdao"; //诱导灯弹窗
import comBoard from "@/views/workbench/config/components/board"; //情报板弹窗
import comRadio from "@/views/workbench/config/components/radio"; //广播弹窗
import comXfsb from "@/views/workbench/config/components/xfsb"; //消防水泵弹窗
import comSjb from "@/views/workbench/config/components/sjb"; //潜水深水泵
import robot from "@/views/workbench/config/components/robotManagement"; //机器人弹窗
import comKzq from "@/views/workbench/config/components/kzq"; //鸿蒙控制器
import comXfp from "@/views/workbench/config/components/xfp"; //消防炮

import comTemperatureHumidity from "@/views/workbench/config/components/temperatureHumidity"; //温湿传感器
import comLiquidLevel from "@/views/workbench/config/components/liquidLevel"; //液位传感器
import comDeawer from "@/views/workbench/config/deawer"; //右侧抽屉组件
import comFooter from "@/views/workbench/config/footer"; //右侧抽屉组件

import { getLocalIP } from "@/api/event/vedioRecord";
import { getHosts } from "@/api/equipment/plc/api";
import * as echarts from "echarts";
import { listUser, getUserDeptId } from "@/api/system/user";
import * as deviceApi from "@/api/equipment/device/api";
import { listLog } from "@/api/system/log";
import {
  listDept,
  listDeptExcludeChild,
  roleDeptTreeselect,
  getTreeByDeptId,
} from "@/api/system/dept";
import bg from "@/assets/cloudControl/right_button.png";
import hoverbg from "@/assets/cloudControl/right_button_hover2.png";
import {
  getSystemWarningMsg,
  getTrafficIncident,
  proportionOfEquipment,
  trafficFlowInformation,
  vehicleMonitoringInRecent24Hours,
  special,
  getDeviceData,
  addBoardContent,
  batchControlCarFinger,
  timeSharing,
  updateControlTime,
  timeStrategySwitch,
  specialVehicleMonitoringInRecent24Hours,
} from "@/api/workbench/config.js";
import {
  getDeviceBase,
  getNewBoardEditInfo,
  templateList,
  batchControlDevice,
  getCategoryDeviceTree,
  carSwitchType,
} from "@/api/workbench/config";
import BatteryIcon from "@/components/BatteryIcon";
import {
  listEvent,
  getWarnEvent,
  getReservePlanDataa,
} from "@/api/event/event";
// import { getVehicleSelectList } from "@/api/surveyType/api"; //车辆类型
import { list } from "@/api/monitor/logininfor";
//混入小车js
import { singleCat } from "@/views/workbench/config/mixin/single-cat";

//照明配置
import {
  getLightingConfigByParam,
  addConfig,
  updateConfig,
} from "@/api/business/enhancedLighting/app.js";
import { listRl } from "@/api/event/strategyRl";

let configData = {}; //配置信息
let wrapperClientX = 0;
let wrapperClientY = 0;
let boxEqList = [];
let mode = "";
export default {
  carShow: false, //车辆是否
  name: "Workbench",
  dicts: ["sd_sys_name", "sys_common_status", "sd_control_type"],
  mixins: [singleCat],
  components: {
    // DragItDude,
    videoPlayer,
    vueSeamlessScroll,
    vmsContentUpdate,
    BatteryIcon,
    contentBatchEdit,
    comVideo,
    comLight,
    comCovi,
    comBright,
    comWind,
    comPressure,
    comVehicleDetec,
    comCallPolice,
    comRobot,
    comData,
    comYoudao,
    comBoard,
    comRadio,
    comKzq,
    comXfsb,
    comSjb, //深水泵
    robot,
    comTemperatureHumidity, //温湿度传感器
    comLiquidLevel, //液位传感器
    comDeawer, //抽屉
    comFooter, //底部echarts
    comXfp,
    jointControlStrategy,
  },

  data() {
    return {
      robotId: "", //机器人ID
      refresh: 0,
      showScreenEqName: false,
      actuatorTooltip: false,
      actuatorCKItem: {
        eqType: 47,
        eqId: "JQ-JiNan-WenZuBei-MJY-HMC-048",
        eqName: "鸿蒙控制器-48",
        eqDirection: "济南方向",
      },
      parentScreenLeft: 0,
      equipmentTypeProps: {
        value: "id",
        label: "label",
        // checkStrictly: true,
        emitPath: false,
      },
      buttonsDeawer: false,
      srollSwitch: false,
      phoneList: [],
      lightingFormRules: {
        beforeLuminance: [
          {
            pattern: /^([0-9][0-9]{0,1}|100)$/,
            message: "请输入0-100的整数",
          },
        ],
        minLuminance: [
          {
            pattern: /^([0-9][0-9]{0,1}|100)$/,
            message: "请输入0-100的整数",
          },
        ],
        respondTime: [
          {
            pattern: /^[1-9]\d*$/,
            message: "只能输入整数",
          },
        ],
      },
      robotIframeShow: false,
      dialogEqType: "",
      loginStatusOptions: [],
      syxt_boxShow: false,
      syxt_boxShow2: false,
      sycz_boxShow1: false,
      sycz_boxShow3: false,
      rccl_boxShow: false,
      yjcl_boxShow: false,
      treeShow: false,
      //地图复位按钮
      resetCanvasFlag: false,
      //搜索树状数据
      treeData: [],
      defaultProps: {
        children: "children",
        label: "label",
      },
      boardObj: {},

      strategyTypeOptions: [],
      strategyTypeEvent: [],
      // 查询参数
      queryParams: {
        pageNum: 1,
        pageSize: 10,
        tunnelId: null,
        strategyName: null,
        strategyType: null,
        strategyInfo: null,
        schedulerTime: null,
        jobTime: null,
        strategyGroup: 1,
      },
      dictCode: "0",
      strategyTypeGroup: [],
      strategyActive: "richang",
      total2: 0,
      total1: 0,
      operationList1: [],
      operationList2: [],
      operationParam: {
        ipaddr: "",
        userName: "",
        status: "",
        eqTypeId: "",
        tunnelId: "",
        controlType: "",
        operIp: "",
        pageNum: 1,
        pageSize: 10,
      },

      operationParam_xt: {
        ipaddr: "",
        status: "",
        pageNum: 1,
        pageSize: 10,
      },

      dateRange: this.getPastTime(),
      operationActive: "caozuo",
      manageStation: this.$cache.local.get("manageStation"),
      heightRatio: "",
      lane: "",
      carList: new Map(),
      tunnelKm: "", //隧道实际长度
      tunnelLength: "", //隧道px长度
      // 批量选择设备图标
      iconWidth: "",
      iconHeight: "",
      // 多选框选中项表单
      batchManageForm: {
        state: "",
        eqType: "",
        eqDirection: "",
      },
      itemEqId: [], //选中项id数组
      itemEqType: "", //判断多选的设备类型是否相同
      batchManageList: [], //多选设备数组
      addBatchManage: false, //点击多选设备
      batchManageDialog: false, //批量操作弹窗
      batchManageType: 1,
      screenEqName: "", //筛选设备名称
      realTimeList: [], //websockt推送实时车辆数据
      eqInfo: {},
      brandList: [],
      directionList: [{}, {}], //设备方向字典
      dictList: [],
      leftButtonS: "leftButtonS",
      robotShow: false,
      drawerLineList: [
        {
          value: 1,
          label: "",
        },
        {
          value: 2,
          label: "",
        },
        {
          value: 3,
          label: "",
        },
      ],
      checkList1: [],
      checkList2: [],
      value1: new Date(),
      buttonIndex: 0,
      sevenDaysBefore: [],
      operationLogDialog: false, //操作日志弹窗
      //设备类型
      eqTypeData: [],
      tunnelData: [],
      //所属隧道
      eqTunnelData: {},
      // 设备方向字典
      directionOptions: [],
      setoptions: {
        // 时间不能大于当前时间
        disabledDate(time) {
          let current_time = new Date().format("yyyy-MM-dd") + " 23:59:59"; //时间日期为：‘当前日期 23:59:59’
          let t = new Date(current_time).getTime(); //‘当前日期 23:59:59’的时间戳
          return time.getTime() > t;
        },
        selectableRange: "00:00:00 - 23:59:59",
      },
      // 日期范围
      dateRange1: this.getPastTime(),
      // 查询参数
      queryParams: {
        pageNum: 1,
        pageSize: 10,
        eqTypeId: null,
        tunnelId: null,
        userName: null,
        eqId: null,
        direction: null,
        /* eqName: null, */
        code: null,
        cmd: null,
        beforeState: null,
        operationState: null,
        controlType: null,
        state: null,
        description: null,
        strategyName: null,
        strategyType: null,
        strategyInfo: null,
        schedulerTime: null,
        jobTime: null,
        strategyGroup: 1,
      },
      // 操作日志表格数据
      logList: [],
      // 选中数组
      ids: [],
      // 非单个禁用
      single: true,
      // 非多个禁用
      multiple: true,
      // 控制方式   3：手动 1：时间控制 2：光强控制字典
      controlTypeOptions: [],
      //操作状态 0：成功，1：失败
      operationStateOptions: [],
      total: 0,
      // 进度条
      customColors: [
        {
          color: "#f56c6c",
          percentage: 20,
        },
        {
          color: "#e6a23c",
          percentage: 40,
        },
        {
          color: "#5cb87a",
          percentage: 60,
        },
        {
          color: "#1989fa",
          percentage: 80,
        },
        {
          color: "#6f7ad3",
          percentage: 100,
        },
      ],
      percentage: 70,
      // tunnelNameEarlyWarn: "",
      tunnelId: "",
      displayThumbnail: true,
      SysEarlyWarning: [],
      hour1: "",
      hour2: "",
      hour3: "",
      selectSite: "",
      siteList: null,
      linealDeptTree: [],
      siteProps: {
        value: "id",
        label: "label",
        children: "children",
      },

      seamless: false, //情报板轮播
      /* ---------火灾报警---------------*/
      alarmBell: false, //是否启用报警铃声
      tunnelName: "",
      temperature: "",
      HZdialogVisible: false,
      railingList: [
        {
          position: {
            top: 85,
            left: 0,
          },
          height: 2,
          image: require("@/assets/logo/equipment_log/railing.png"),
          tunnelName: "凤凰山隧道",
        },
      ],
      /* ---------工作台轮播情报版---------------*/
      newsList: [
        {
          title: "下雨路滑 请谨慎驾驶",
        },
        {
          title: "文明出行 安全第一",
        },
      ],
      /* ---------鼠标右键拖动---------------*/
      mouseLeft: 0,
      mouseTop: 0,
      curX: 0,
      curY: 0,
      dragFlag: false,
      wheelFlag: null,
      oldWidth: 0,
      oldHeight: 0,
      scaleX: 1,
      scaleY: 1,
      newWidth: 0,
      newHeight: 0,
      bgX: 0,
      bgY: 0,
      ww: null,
      wh: null,
      imgw: null,
      imgh: null,
      scaleSize: null,
      testDivDom: null,
      dragImgDom: null,
      wi: null,
      hi: null,
      /* ---------鼠标拖动---------------*/
      tunnelName: "",
      move: false,
      py: "", //开始y轴的位置
      px: "", //开始x轴的位置
      // back: "#1E90FF", //框框背景颜色
      h: "", //框框的高度控制
      w: "", //框框的宽度控制
      top: "", //框框的位置控制
      left: "", //框框的位置控制
      len: 0, //框框的边框
      tabLeft: 0,
      tabTop: 0,
      whiteLight: 0,
      yellowLight: 0,
      boxTypeList: [],
      systemState: "良好",
      moveTop: 0.11,
      /* -------------------------*/
      timer: null, //定时器
      timerCat: null, //小车定时器
      windowHeight: document.documentElement.clientHeight, //实时屏幕高度
      displayNumb: false, //显示编号
      zoomSwitch: false, //缩放
      currentTunnel: {
        id: "",
        name: "",
        lane: {},
      }, //选中的隧道
      lightState: "正常",
      dljbObj: {},
      lmList: {},
      lumianList: {},
      loading: true,
      title: "", //对话框标题
      lumianVisible: false,
      weiboVisible: false,
      cameraVisible: false,
      daolujiebingVisible: false,
      lightControlDialog: false,
      youdaoVisible: false,
      cameraErrorInfo: "",
      explainVisible: false,
      lightingVisible: false,
      eqTypeList: [], //设备类型
      eqBigTypeList: [], //设备类型
      selectBigType: {
        bigType: "全部设备",
        index: 0,
      },
      checkboxTunnel: [], //可点的隧道
      tunnelList: [], //隧道
      tunnelItem: "",
      selectedIconList: [], //配置图标
      stateForm: {
        state: 1,
      }, //配置表单
      brightness: 50,
      frequency: 69,
      weiboList: [],
      shuibengVisible: false,
      shuibengObj: {},
      batchForm: {
        eqType: "",
        eqList: [],
        state: "",
        eqlane: "",
        eqDirection: "",
      },
      lightSwitch: 0,
      //车道列表
      laneUrlList: this.$cache.local.get("navigationBar") == '0'?laneImage:laneImage2,
      //画布上下的传感器数据集合
      upList: [],
      downList: [],
      devicesList: [],
      //各状态对应图标列表（灵活性差，后期最好在类型状态管理中动态添加）
      eqTypeStateList: [],
      eqTypeStateList2: [],
      itemEqTypeStateList: [],
      // 策略visible
      strategyVisible: null,
      strategyList: [],
      strategyLoading: false,
      asd: 50,
      fjState: null,
      hostIP: null,
      userDeptId: null,
      tunnelQueryParams: {
        deptId: "",
      },
      deptId: "",
      userQueryParams: {
        userName: this.$store.state.user.name,
      },
      topNav: this.$store.state.settings.topNav,
      //验证
      rules: {
        state: [
          {
            required: true,
            message: "请选择设备状态",
            trigger: "change",
          },
        ],
      },
      systemStateClass: {
        良好: "system-state-normal",
        较差: "system-state-abnormal",
      },
      leftDirection: "潍坊", //左侧方向
      rightDirection: "济南", //右侧方向
      batchFormDirection: 1, //批量对话框默认的设备方向
      twinkleModelOptions: [
        {
          value: "01",
          label: "单闪",
        },
        {
          value: "02",
          label: "双闪",
        },
        {
          value: "03",
          label: "三闪",
        },
        {
          value: "04",
          label: "四闪",
        },
        {
          value: "05",
          label: "五闪",
        },
      ],
      twinkleFrequencyOptions: [
        {
          value: "20",
          label: "20",
        },
        {
          value: "30",
          label: "30",
        },
        {
          value: "45",
          label: "45",
        },
        {
          value: "60",
          label: "60",
        },
        {
          value: "90",
          label: "90",
        },
      ],
      lightTimeOptions: [
        {
          value: "100",
          label: "100",
        },
        {
          value: "150",
          label: "150",
        },
        {
          value: "200",
          label: "200",
        },
        {
          value: "250",
          label: "250",
        },
        {
          value: "300",
          label: "300",
        },
        {
          value: "350",
          label: "350",
        },
        {
          value: "400",
          label: "400",
        },
        {
          value: "500",
          label: "500",
        },
      ],
      lCTop: false,
      lCBottom: false,

      carShow: false,
      carShowTwo: false,
      carShowLeft: "",
      light:
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJkAAAARCAYAAADOvw4PAAAAAXNSR0IArs4c6QAABUBJREFUaEPtWk9oXEUc/r63UA9JerCHQiuIVRDNoYfY6CGBrlrtIftsQ6J4Ezx4EUnxmD3uCl4aPHkTb4Uaa0wDjRR2iyJKVqRgDgGrohgv9rS7gXpIpuz7N/Nm3uzO22xA9O1ld7Pz3pf3m2++3+/3zRDRS6yiggNcAXEOwHj89xzvXQi0QFzlIjZs1xU4RmSOOG4ESADsgtH8zO/b52dtooISrkCUzoEcD6/1wnukPnu9ewKMfgvGBJ+7oNeC511leSfA6d0BYhU1CCznIFT/oUSdC6jqgwqcARE+bNxCMkWT3+/dq/NS15yfjRM1gMshoTQSpb5n/Kb/HhKuztkfqxSfYQ7AzZERLL4R4XNB3rfAcYywU9x6JIg1IlGqWLEy3mO1UdQIns/K/WTexVcn53BQupmhTBrhYlXrEU35HJBKJV+C6VNcRwNE2TEE7sMEmnwdLybpuMBxi50RNzbgsRymJhux1HSmpzVrumvy4q6cn9tnGgDLiYplEiZJiVFqtBAtSavB/9XsKVkbwIRbBHKN6nARxxOSFTiDgxemuw4XDmTcbhxrA5yI6qpslQoIqKY4p3TX4YVfJE7z2QgnJpJRa/UnVlKf6UrndXokE4OffrgRXAzXXlD3FThKEPunO87/I+O2NiZkCrMV3xmkkoW4Nd3x/LbE+WYqxLGTRRLZlhqD67UUCqIgWY71M9yiUWsmt3TH1zpy8jceFTm7O0Vx4u4vW5U405I4381EZM6jYHEqVtXLxCxINkqSOXd3KvFi9ZBqxLn7cvJvnRJmt+fc3UXKoqtL+J0vfC1xWhfSJEtUyVSmRFl15VItjUQVCyXLQTEgpWSrFG52geoluaU7XvxTTv7tMwPSmKoc+dIdpzYlzl0/wrGRSlW4rPSsP6dcPIWSDaSZVB0u7MtJuXEsJJlhVjp3dzYzE3z5nsRpTio12VDdnbVg59kvJM72G9lkVmsso8FQVVjpYpO4hLEoSKaSbEC64+UHclK+HI9IZqa7w5qZPP+TUpA/J0mWFNwO/pRDuuPkNYmz85Z8Hr1TzXL8NSLJBWf6dv9Tkg1nZtJvKwX5CWXlD9fd2cxMzmxJnO9no8I/D7GUFKp3i4oy8elPJM7P72hdrK5SmkWikizoZ9TdhnR6OEqfrMtF6b8doR83ACd/d5e5Xwd2Ofd34ieKzdOKr5TRZQ1vZnb5/B2J88MrbdCbCO0FnWhu3Z3FQ+vyqY8lzm/vtYEejsu2VMTNYOzAV/e/5/ivsgF4oXPtJOmu6a7U5Kt/KA75kw0wwsn0jfJYAaluscmpTYlz93K4I2NgxMqSZR/oqpOxwQ00+cRHEuf398PnyYpZstswkFDmAKLJ4FSEwPoQl/e/RN+DGylOKt35XNiXe3Brj1QguJ4OVsbe3SCHXDcze8/z0j2Jc2eyApTWU9swIzEzSz7Pfi5xtt+sgFxP7ynm6+7kglMWlPB8Pv6hxNldrkCIKG4jZYMf6N2/+3REv3Tn1Tn/wDxNsH68BnjRaQLr3p21uzNUA6yzvG3ifDtdA0ry1EKsNum9uz7bMUa6q3Pymomz83YNHpeThaOSOen47N1dhjrV+dgHJs5f1RqEGOFpHNZ5qlaVhd91+ACWQEwDGBuCy3sQ2IKHFfX0hX4f0Q/HzczcA7gFeCu81LGeHhG3TvoAlwBvGuSYsWWiG4fmUZU9sIdTWuFsy47TKvtAaQngNOiFOIlKZlkOip8U1lkRjrfCZz614/z6rg8hlsBS+DxOpUCqGN8DsQWBFZ6u23F2qz4oliAOwQMN5yErndtqYIc5/QAAAABJRU5ErkJggg==",
      dark: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJkAAAARCAMAAAD5Yf49AAAAAXNSR0IArs4c6QAAAUdQTFRFAAAArq6utbW1ubm5v7+/w8PDycnJzc3N09PTsLCwtra2vb29wMDAysrKzc3N1NTUsbGxt7e3wcHBzs7OsLCwtra2uLi4v7+/wcHBy8vLzc3N1dXVrq6usLCwtLS0tbW1t7e3uLi4v7+/wcHBw8PDycnJy8vLzMzMzc3N1NTU1dXVr6+vsLCwtbW1t7e3v7+/wcHBysrKzMzM1dXVr6+vsLCwtLS0uLi4vb29v7+/wsLCyMjIycnJzs7O1NTU1dXVr6+vsLCwtLS0uLi4vb29wsLCycnJzs7O1NTUr6+vsLCwsbGxsrKys7OztLS0tbW1t7e3uLi4ubm5urq6u7u7vLy8vb29vr6+v7+/wcHBwsLCw8PDxMTExcXFxsbGx8fHyMjIycnJysrKzMzMzc3Nzs7Oz8/P0NDQ0dHR0tLS09PT1NTU1dXV1E4hgwAAAEl0Uk5TAExMTExMTExMTU1NTU1NTU5OTk6EhISEhISEhL6+vr6+vr6+vr6+vr6+vvLy8vLy8vLy8vPz8/Pz8/Pz8/Pz8/T09PT09PT09GJ8jKsAAAG6SURBVEjH7dZHU8JAFMDxxQ5SLFgJKAhKsRuxK3aJGkrovffvf/YF4gwLL3jB0QPvyH928hsO+5YQomRYb/ewjIJ0ZkAxnr7DfMB8wvBu05hUVOazQDAYFIRQKBQORyLnlgmpqK2XyWQqlUqnM5lsNpe7sk1JRWu/KVcqlWq1VqvX643GrWNG/Fnv7R89+aFwHEfJeN631C7L/kCAkkWi0ZV2WY0nEpQsl8+vtct6qVSmZM1my0CIwouNkgwsHCLzqaCM+xFZTA1lMo7IChoo00VE1tIRBv0+AyfkixGVbUDZRGUWKFuobBvKDipzEhf6fReckC+7qGwPyj4qO4ByiMqOoByjshPixQdOyBcOlfmg+FFZDEr8W5bulhWgFFFZ65dkAiJL/IGMH8lGMlzW+H+yao8Mv7VY2fuMRe6zjszddZ/Rsov2fYbJrrvuM1p2N5QdwPftAAHZAb2yfM8OoGVOopTdjgMKKhP3pgqViXtTjcrEvalFZbqhvDX4vreGgLw1EBn11qBkBjHMMR7q4x5GKb2bBhTjPSV7MKmkMm9+pGRPllmpLFifKdmLTSOVRfsrJXtzwD/2Betpxj8VdhGZAAAAAElFTkSuQmCC",
      allDirection: [
        {
          eqDirection: "0",
          eqDirectionName: "济南方向",
        },
        {
          eqDirection: "1",
          eqDirectionName: "潍坊方向",
        },
      ], // 所有方向
      allLane: [], // 所有车道
      dialogVisible: false, // 情报板批量编辑弹窗
      aaa: "444",
      zoomList: [70, 80, 90, 100, 110, 120, 130], // 工作台缩放比例列表
      zoom: 100, // 工作台缩放比例
      spanEqtypeDate: true, // 控制设备配置状态不存在时显示“暂未获取”
      // 巡检机器人----------------------------------------------------------------start
      robotUrl: require("@/assets/images/robot.png"),
      watchVideo: false,
      robotVideoUrl: require("@/assets/Example/v1.mp4"),
      // tab页
      robotInformationActive: "trafficFlow",
      robotInformationCollectionData: null,
      // 状态记录
      robotChartDom: null,
      robotOption: null,
      robotStateData: null,
      robotXData: null,
      // 巡检机器人-----------------------------------------------------------------end
      isManagementStation: false, // 当前账号的权限是否是管理站
      tooltipType: false,
      showTooltipIndex: 9999,
      showTooltip: false,
      tooltipShow: false, //是否展示提示内容
      imageTimer: null, //定时器
      isLogin: false,
      handleTableWheelSwithch: false,
      clickEqType: "", //点击设备的eqType
      equipmentId: "",
      catNumber: 1, //小车计数
      catTime: null, //小车计数定时器
      carActionExplodeList: [],
      pictureUrl: "@/assets/image/accident/爆炸.svg",
      carActionExplodeVisible: false,
      min: 0,
      accidentDistance: "", //隧道px长度
      startPileNum: "", //隧道最后桩号
      //照明模式类型
      modeTypeList: [
        {
          name: "定时模式",
          value: 0,
        },
        {
          name: "洞外亮度",
          value: 1,
        },
        {
          name: "车来灯亮",
          value: 2,
        },
      ],
      // 表单参数
      lightingForm: {},
      timingTaskShow: false,
      jointControlShow: false,
    };
  },

  directives: {
    //注册指令
    drag: function (el, binding) {
      let oDiv = el; //当前元素
      $(oDiv).bind(
        "mousewheel",

        function (e) {
          // console.log(e);
          // 获取鼠标所在位置

          let { clientX, clientY } = e;
          // 获取元素距离屏幕边界左边和上边距离

          let offsetX = $(oDiv).offset().left;

          let offsetY = $(oDiv).offset().top;

          // 获取鼠标距离当前元素边界左边和上边距离

          let mouseToBorderX = clientX - offsetX;

          let mouseToBorderY = clientY - offsetY;

          // 获取元素width,height,left,top;注意元素为relative或absolute定位

          let width = $(oDiv).width();

          let height = $(oDiv).height();

          let left = parseFloat($(oDiv).css("left"));

          let top = parseFloat($(oDiv).css("top"));

          // 设置一下缩放幅度 ,值越大缩放的越快

          let ratio = e.originalEvent.deltaY < 0 ? 0.1 : -0.1;

          // 设置缩放后的宽高

          width = width * (1 + ratio);

          height = height * (1 + ratio);

          // 这里是关键一步

          // 可以想象,当元素宽度增加0.1倍,如果此时元素left值不变化，那么元素是会向右变大的，那么鼠标相

          // 对元素左上角的距离与最开始的距离相比就变了，变化量为mouseToBorderX*ratio，那么让元素left

          //  减去变化量即可保证鼠标相对元素不动

          left = left - mouseToBorderX * ratio;

          top = top - mouseToBorderY * ratio;

          if (width > 100) {
            $(oDiv).css({
              width: width + "px",

              height: height + "px",

              left: left + "px",

              top: top + "px",
            });
          }
        }
      );
    },
  },
  created() {
    // debugger
    //小车运行渲染定时任务
    clearInterval(this.timerCat);
    this.timer = null;
    this.timerCat = null;
    this.carSetTimer();
    this.getUserDept();
    //关闭小车
    carSwitchType("destroyed", 1).then((res) => {});
    this.getDicts("sd_strategy_direction").then((data) => {
      this.directionList = data.data;
    });
    this.getDicts("sys_common_status").then((response) => {
      this.loginStatusOptions = response.data;
    });
    this.getEqTypeStateIcon();
    getLocalIP().then((response) => {
      this.hostIP = response;
    });
    this.lightSwitchFunc();
    this.getEqType();
    this.getTunnel();
    listTunnels().then((response) => {
      this.tunnelData = response.rows;
    });
    // 策略类型
    this.getDicts("sd_strategy_type").then((response) => {
      this.strategyTypeOptions = response.data;
    });
    this.getDicts("sys_common_event").then((response) => {
      this.strategyTypeEvent = response.data;
    });
    this.getDicts("sd_control_type").then((response) => {
      this.controlTypeOptions = response.data;
    });
    // 策略组信息
    this.getDicts("sd_strategy_group").then((response) => {
      this.strategyTypeGroup = response.data;
    });
    this.getDicts("sd_device_opt_state").then((response) => {
      this.operationStateOptions = response.data;
    });
    this.getDicts("brand").then((data) => {
      this.brandList = data.data;
    });

    this.getDicts("sd_monitor_state").then((data) => {
      this.eqTypeDialogList = data.data;
    });

    this.getDicts("sd_strategy_direction").then((response) => {
      response.data.forEach((item) => {
        this.directionOptions.push(item);
      });
    });
  },

  watch: {
    "resetCanvasFlag":function(newVal,oldVal){
      console.log(newVal,"resetCanvasFlag")
    },
    screenEqName(val) {
      this.$refs.tree.filter(val);
    },
    "batchManageForm.state": function (newVal, oldVal) {
      // console.log(newVal, "newVal");
      if ([7, 9].includes(this.itemEqType)) {
        // 基础照明、加强照明  state == 1 开启  state == 2  关闭
        if (newVal == "1" && this.batchManageForm.brightness == 0) {
          this.batchManageForm.brightness = 1;
          this.min = 1;
        } else if (newVal == "2" || newVal == "") {
          this.batchManageForm.brightness = 0;
          this.min = 0;
        }
      } else if (this.itemEqType == 30) {
        // 疏散标志 state == 1 关闭 state == 2 常亮 state == 5 报警
        if (newVal == "1") {
          this.batchManageForm.brightness = 0;
          this.batchManageForm.frequency = 0;
          this.min = 0;
        } else if (newVal != "1" && this.batchManageForm.brightness == 0) {
          this.batchManageForm.brightness = 1;
          this.batchManageForm.frequency = 1;
          this.min = 1;
        }
      }
      // else if (this.itemEqType == 45) {
      //   if (newVal == "") {
      //     this.min = 0;
      //     this.batchManageForm.brightness = 0;
      //   } else {
      //     this.batchManageForm.brightness = 1;
      //     this.min = 1;
      //   }
      // }
      // else {
      //   if (this.batchManageForm.brightness == 0) {
      //     this.min = 1;
      //     this.batchManageForm.brightness = 1;
      //   }
      // }
    },

    "$store.state.manage.manageStationSelect": function (newVal, oldVal) {
      // console.log(newVal, "监听到隧道啦监听到隧道啦监听到隧道啦监听到隧道啦");

      if (this.manageStation == "1") {
        getJlyTunnel().then((res) => {
          var arr = [];
          for (let item of res.data) {
            if (newVal == item.tunnelId) {
              var atr = item.ancestors.slice(2);
              arr = atr.split(",");
              arr.push(item.deptId);
              this.tunnelQueryParams.deptId = item.deptId;
              this.changeSite(arr);
            }
          }
        });
      }
      this.getTunnelList();
    },
    // 设备类型
    "batchForm.eqType"(val) {
      if (mode == "buttonSelection") {
        let param = {
          eqTunnelId: this.currentTunnel.id,
          eqType: val,
          lane: this.batchForm.eqlane,
          eqDirection: this.batchForm.eqDirection,
        };
        this.selectEquipment(param);
        this.selectDirection(param);
        this.selectLane(param);
      } else {
        for (let i = 0; i < boxEqList.length; i++) {
          if (val == boxEqList[i].typeId) {
            this.devicesList = boxEqList[i].eqlist;
          }
        }
      }
    },
    // 方向
    "batchForm.eqDirection"(val) {
      let param = {
        eqTunnelId: this.currentTunnel.id,
        eqType: this.batchForm.eqType,
        eqDirection: val,
        lane: this.batchForm.eqlane,
      };
      this.selectEquipment(param);
    },
    // 车道
    "batchForm.eqlane"(val) {
      let param = {
        eqTunnelId: this.currentTunnel.id,
        eqDirection: this.batchForm.eqDirection,
        lane: val,
      };
      this.selectLane(param);
    },
  },
  computed: {
    defaultOption() {
      return {
        step: 0.2, // 数值越大速度滚动越快
        limitMoveNum: 2, // 开始无缝滚动的数据量 this.dataList.length
        hoverStop: true, // 是否开启鼠标悬停stop
        direction: 1, // 0向下 1向上 2向左 3向右
        openWatch: true, // 开启数据实时监控刷新dom
        singleHeight: 0, // 单步运动停止的高度(默认值0是无缝不停止的滚动) direction => 0/1
        singleWidth: 0, // 单步运动停止的宽度(默认值0是无缝不停止的滚动) direction => 2/3
        waitTime: 1000, // 单步运动停止的时间(默认值1000ms)
      };
    },

    navigationHeight() {
      this.topNav = this.$store.state.settings.topNav;
      const needTagsView = this.$store.state.settings.tagsView;
      let h = 0;
      h += 72;
      return h;
    },
    ...mapState({
      radarDataList: (state) => state.websocket.radarDataList,
      // sdEventList: (state) => state.websocket.sdEventList,
      // sdSvgEventList: (state) => state.websocket.sdSvgEventList,
    }),
    sideTheme: {
      get() {
        return this.$store.state.settings.sideTheme;
      },
    },
  },
  mounted() {
    // 获取指定元素
    // const scrollview = this.$refs['divRoller']
    // 添加滚动监听，该滚动监听了拖拽滚动条
    // 尾部的 true 最好加上，我这边测试没加 true ，拖拽滚动条无法监听到滚动，加上则可以监听到拖拽滚动条滚动回调
    window.addEventListener("scroll", this.mouseSrollAuto);

    window.addEventListener("click", this.otherClose);
    $(document).on("click", function (e) {
      let dom = $(".treebox")[0]; // 自定义div的class
      if (dom && that.treeShow) {
        // 如果点击的区域不在自定义dom范围
        if (!dom.contains(e.target) && that.treeShow == true) {
          that.treeShow = false;
        }
      }
    });

    let that = this;
    window.onresize = () => {
      return (() => {
        this.windowHeight = document.documentElement.clientHeight;
      })();
    };

    // 隧道调取数据两秒一次
    this.timer = setInterval(() => {
      setTimeout(this.getRealTimeData, 0);
    }, 1000 * 5);
    document.addEventListener("click", this.bodyCloseMenus);
    document.addEventListener("click", this.bodyCloseMenus1);
    document.addEventListener("click", this.bodyCloseMenus2);
    document.addEventListener("click", this.bodyCloseMenus3);
  },

  methods: {
    // // 演示用测控执行器
    // openActuatorCKDialog(){
    //   let param = {
    //     eqId:"JQ-JiNan-WenZuBei-MJY-HMC-083",
    //     eqType:47,
    //   }
    //   this.openStateSwitch(this.actuatorCKItem)
    // },
    // 关闭级联选择器时 把打开的二级菜单折叠
    elCascaderOnClick(f) {
      if (!f) {
        ++this.refresh;
      }
    },
    mouseSrollAuto(e) {
      console.log(e.target.scrollLeft, "e.target.scrollLeft");
      if (e.target.scrollLeft > 0) {
        this.resetCanvasFlag = true;
      } else {
        this.resetCanvasFlag = false;
      }
    },
    // 管理站级联回显选中效果
    cascaderHandleChange() {
      // console.log(1);
      // console.log(this.siteList, "siteList");
      let handleText = "";
      for (let item of this.siteList) {
        if (this.tunnelQueryParams.deptId == item.id) {
          handleText = item.label;
        } else {
          for (let itm of item.children) {
            if (this.tunnelQueryParams.deptId == itm.id) {
              handleText = itm.label;
            }
          }
        }
      }

      // console.log(handleText, "handleText");
      // 事件监听实现懒加载选择任意一级
      this.$nextTick(() => {
        //获取label
        const labelDoms = document.querySelectorAll(
          ".el-cascader-node .el-cascader-node__label"
        );
        // console.log(labelDoms, "labelDoms");

        //获取radio 级联带单选框时使用
        // const radioDoms = document.querySelectorAll('.el-cascader-node .el-radio')
        //由于label是被radio覆盖，所以循环raidoDoms，反之循环labelDoms
        labelDoms.forEach((item, index) => {
          item.removeEventListener("click", function () {
            const labelDom = labelDoms[index];
            labelDom.click();
          });
          item.addEventListener("click", function () {
            const labelDom = labelDoms[index];
            labelDom.click();
          });
        });
      });
    },
    // 保存选中的数据id,row-key就是要指定一个key标识这一行的数据
    getRowKey1(row) {
      return row.infoId;
    },
    getRowKey2(row) {
      return row.id;
    },
    isDrawer() {
      this.buttonsDeawer = !this.buttonsDeawer;
    },
    //拆分拼接数据
    splitData(item) {
      // console.log(item,"item")
      item = item.replace(/\s*/g, "");
      let ago = item.substring(0, item.indexOf("右"));
      let after = item.substring(item.indexOf("右"), item.length);
      // console.log((ago + "<br/>" + after),"hahahahhahah")
      return ago + "<br/>" + after;
    },
    srollSwitchChange() {
      if (this.srollSwitch) {
        //调取滚动条
        this.mouseleaveImage();
      } else {
        this.mouseoversImage();
      }
    },
    async destroyedDelete() {
      await carSwitchType("destroyed", 1).then((res) => {});
    },
    pollFormat(row) {
      return this.selectDictLabel(this.loginStatusOptions, row);
    },
    // 参数timer是过去的n个小时
    getPastTime() {
      //获取当天0点时间
      const lastTime = new Date(new Date().setHours(0, 0, 0, 0)).getTime();
      const startTime = this.timeFormat(lastTime);
      // 当天24点时间
      let time = new Date(
        new Date().setHours(0, 0, 0, 0) + 24 * 60 * 60 * 1000 - 1
      ).getTime();
      const endTime = this.timeFormat(time);
      return [startTime, endTime];
    },

    //时间生成并处理
    timeFormat(time) {
      // 对应的方法
      const timeType = [
        "getFullYear",
        "getMonth",
        "getDate",
        "getHours",
        "getMinutes",
        "getSeconds",
      ];
      // 分隔符
      const separator = {
        getFullYear: "-",
        getMonth: "-",
        getDate: " ",
        getHours: ":",
        getMinutes: ":",
        getSeconds: "",
      };
      let resStr = "";
      for (let i = 0; i < timeType.length; i++) {
        const element = timeType[i];
        let resTime = new Date(time)[element]();
        // 获取月份的要+1
        resTime = element == "getMonth" ? resTime + 1 : resTime;
        // 小于10，前面加0
        resTime = resTime > 9 ? resTime : "0" + resTime;
        resStr = resStr + resTime + separator[element];
      }
      return resStr;
    },
    //翻页时不刷新序号
    indexMethod(index) {
      return (
        index +
        (this.operationParam_xt.pageNum - 1) * this.operationParam_xt.pageSize +
        1
      );
    },
    //翻页时不刷新序号
    indexMethod2(index) {
      return (
        index +
        (this.operationParam.pageNum - 1) * this.operationParam.pageSize +
        1
      );
    },
    //翻页时不刷新序号
    indexMethod3(index) {
      return (
        index + (this.queryParams.pageNum - 1) * this.queryParams.pageSize + 1
      );
    },
    bodyCloseMenus(e) {
      let self = this;
      if (self.syxt_boxShow == true) {
        self.$nextTick(() => {
          if (
            !self.$refs.main.contains(e.target) &&
            !self.$refs.cc.contains(e.target)
          ) {
            if (self.syxt_boxShow == true) {
              self.syxt_boxShow = false;
            }
          }
        });
      }
    },
    bodyCloseMenus1(e) {
      let self = this;
      if (self.sycz_boxShow1 == true) {
        self.$nextTick(() => {
          if (
            !self.$refs.main1.contains(e.target) &&
            !self.$refs.cc1.contains(e.target) &&
            !self.$refs.cc2.contains(e.target)
          ) {
            if (self.sycz_boxShow1 == true) {
              self.sycz_boxShow1 = false;
            }
          }
        });
      }
    },
    bodyCloseMenus2(e) {
      let self = this;
      if (self.syxt_boxShow2 == true) {
        self.$nextTick(() => {
          if (
            !self.$refs.main2.contains(e.target) &&
            !self.$refs.cc2.contains(e.target)
          ) {
            if (self.syxt_boxShow2 == true) {
              self.syxt_boxShow2 = false;
            }
          }
        });
      }
    },
    bodyCloseMenus3(e) {
      let self = this;
      if (self.sycz_boxShow3 == true) {
        self.$nextTick(() => {
          if (
            !self.$refs.main3.contains(e.target) &&
            !self.$refs.cc3.contains(e.target)
          ) {
            if (self.sycz_boxShow3 == true) {
              self.sycz_boxShow3 = false;
            }
          }
        });
      }
    },
    otherClose(e) {
      if (this.treeShow == true) {
        if (!this.$refs.treeBox.contains(e.target)) {
          this.treeShow = false;
          // 点击输入框 折叠之前打开的树形菜单
          const nodes = this.$refs.tree.store._getAllNodes();
          nodes.forEach((item) => {
            item.expanded = false;
          });
        }
      }
    },
    treeClear() {
      // this.resetCanvas();
      for (var item of this.selectedIconList) {
        if (item.eqName.indexOf(this.screenEqName) > -1) {
          item.click = false;
        }
      }
    },
    // 模糊查询
    treeClick() {
      console.log("模糊查询");
      // // 点击输入框 折叠之前打开的树形菜单
      // const nodes = this.$refs.tree.store._getAllNodes();
      // nodes.forEach((item) => {
      //   item.expanded = false;
      // });
      if (this.resetCanvasFlag && this.treeShow) {
        setTimeout(() => {
          this.treeShow = false;
        }, 50);
      } else {
        this.treeShow = !this.treeShow;
      }
    },
    //点击树状图获取值
    handleNodeClick(data) {
      // console.log(data, "data");
      // 如果存在children，则代表是父级
      if (data.children) {
        // 点击父级业务
      } else {
        this.treeShow = false;
        this.screenEqName = data.label;
        this.screenEqNameButton("treeNodeClick");
      }
    },
    changeStrategyState(row) {
      let data = { strategyId: row.id, change: row.strategyState };
      updateState(data).then((result) => {
        if (row.strategyState == 0) {
          this.$modal.msgSuccess("开启成功");
        } else if (row.strategyState == 1) {
          this.$modal.msgSuccess("关闭成功");
        }
      });
    },
    async richangUpdate(row) {
      let params = row;
      const loading = this.$loading({
        lock: true,
        text: "Loading",
        spinner: "el-icon-loading",
        background: "rgba(0, 0, 0, 0.7)",
      });
      await listRl({ strategyId: params.id }).then((response) => {
        // console.log(response, "设备数据");
        params.manualControl = response.rows;
        params.manualControl.equipmentTypeId = params.manualControl.eqTypeId;
        for (let i = 0; i < response.rows.length; i++) {
          let attr = response.rows[i];
          let manualControl = params.manualControl[i];
          this.$set(
            params.manualControl[i],
            "value",
            params.manualControl[i].equipments.split(",")
          );
          // console.log(params.manualControl[i].value, "选择的设备");
          params.manualControl[i].state = attr.state;
          params.manualControl[i].stateNum = attr.stateNum;

          params.manualControl[i].manualControlStateList = attr.eqStateList;

          params.manualControl[i].equipmentTypeId = String(attr.eqTypeId);
          // 情报板设备
          if (
            params.manualControl[i].equipmentTypeId == 16 ||
            params.manualControl[i].equipmentTypeId == 36
          ) {
            // 改变数据类型
            params.manualControl[i].state = +attr.state;
          }

          //基本照明限制 最低亮度为 30
          if (params.manualControl[i].equipmentTypeId == 9) {
            this.$set(params.manualControl[i], "limitMin", 30);
          }
        }
      });
      await manualControlInfo(params)
        .then((res) => {
          loading.close();
          if (res.code == 200) {
            this.$modal.msgSuccess("执行成功");
          }
        })
        .catch(() => {
          loading.close();
        });
    },
    richanghandleUpdate(row) {
      let that = this;
      this.$confirm("是否确认执行控制?", "警告", {
        confirmButtonText: "确定",
        cancelButtonText: "取消",
        type: "warning",
      }).then(function () {
        that.richangUpdate(row);
      });
    },
    directionFormat(row, column) {
      return this.selectDictLabel(this.directionList, row.direction);
    },
    // 策略类型字典翻译
    strategyTypeFormat(row, column) {
      return this.selectDictLabel(this.strategyTypeOptions, row.strategyType);
    },
    // 预警字典值翻译
    strategyTypeFormatEvent(row, column) {
      return this.selectDictLabel(this.strategyTypeEvent, row.strategyType);
    },
    // 点击侧边栏文件列表下拉框
    clickFileNames(direction) {
      const params = {
        tunnelId: this.currentTunnel.id,
        direction: direction,
      };
      getAudioFileList(params).then((res) => {
        this.fileNamesList = res.data;
      });
    },

    getBoardStyle(id, type, eqType) {
      if (this.boardObj[id]) {
        if (JSON.parse(this.boardObj[id]).content) {
          let content = JSON.parse(this.boardObj[id]).content;
          let devicePixel = JSON.parse(this.boardObj[id]).devicePixel;
          if (type == "width") {
            if (eqType && eqType == 16) {
              return devicePixel.split("*")[1] / 2;
            } else if (eqType && eqType == 36) {
              return devicePixel.split("*")[1] / 4;
            }
          } else if (type == "height") {
            if (eqType && eqType == 16) {
              return devicePixel.split("*")[0] / 2;
            } else if (eqType && eqType == 36) {
              return devicePixel.split("*")[0] / 4;
            }
          }
          let array = [];
          let arr = "";
          let fontS = "";
          for (let i = 0; i < content.length; i++) {
            var itemId = "ITEM" + this.formatNum(i, 3);
            var con = content[i][itemId][0];
            con.CONTENT = con.CONTENT.replace("<br>", " ").replace(
              "&nbsp",
              " "
            );
            array.push(con);
            arr += con.CONTENT.replace("<br>", " ").replace("&nbsp", " ");
            arr += " ";
            fontS = Number(con.FONT_SIZE.substring(0, 2));
          }

          if (type == "content") {
            return arr;
          } else if (type == "fontSize") {
            if (eqType && eqType == 16) {
              return fontS / 2;
            } else if (eqType && eqType == 36) {
              return fontS / 4;
            }
          } else if (type == "array") {
            return array;
          }
        } else {
          let devicePixel = JSON.parse(this.boardObj[id]).devicePixel;
          if (type == "width") {
            if (eqType && eqType == 16) {
              return devicePixel.split("*")[1] / 2;
            } else if (eqType && eqType == 36) {
              return devicePixel.split("*")[1] / 4;
            }
          } else if (type == "height") {
            if (eqType && eqType == 16) {
              return devicePixel.split("*")[0] / 2;
            } else if (eqType && eqType == 36) {
              return devicePixel.split("*")[0] / 4;
            }
          } else if (type == "content") {
            return "山东高速欢迎您";
          } else if (type == "fontSize") {
            return 15;
          } else if (type == "array") {
            let array = [{ CONTENT: "山东高速欢迎您", COLOR: "黄色" }];
            return array;
          }
        }
      } else {
        if (type == "width") {
          return 24;
        } else if (type == "height") {
          return 72;
        } else if (type == "content") {
          return "山东高速欢迎您";
        } else if (type == "array") {
          let array = [{ CONTENT: "山东高速欢迎您", COLOR: "黄色" }];
          return array;
        } else if (type == "content") {
          return "山东高速欢迎您";
        }
      }
    },
    formatNum(num, length) {
      return (Array(length).join("0") + parseInt(num)).slice(-length);
    },
    // 转颜色
    getColorStyle(font) {
      if (font == "黄色") {
        return "yellow";
      } else if (font == "红色") {
        return "red";
      } else if (font == "绿色") {
        return "#00FF00";
      } else if (font == "蓝色") {
        return "blue";
      } else {
        return font;
      }
    },

    // 操作日志 搜索
    handleQueryOperationParam() {
      this.operationList2 = [];
      this.syxt_boxShow = false;
      this.sycz_boxShow1 = false;
      this.operationParam.pageNum = 1;
      this.operationParam_xt.pageNum = 1;
      this.getOperationList(this.operationActive);
    },
    getOperationList(inx) {
      this.operationList2 = [];
      if (this.manageStation == "1") {
        this.operationParam.tunnelId = this.$cache.local.get(
          "manageStationSelect"
        );
      }
      this.loading = true;
      if (inx == "xitong") {
        list(this.addDateRange(this.operationParam_xt, this.dateRange)).then(
          (response) => {
            console.log(response, "系统日志");
            this.operationList1 = response.rows;
            this.total1 = response.total;
            this.loading = false;
          }
        );
      } else if (inx == "caozuo") {
        this.operationParam.tunnelId = this.currentTunnel.id;
        listLog(this.addDateRange(this.operationParam, this.dateRange1)).then(
          (response) => {
            console.log(response, "操作日志");
            this.operationList2 = response.rows;
            this.total2 = response.total;
            this.loading = false;
          }
        );
      }
    },

    // 获取设备图片
    getTypePic(item) {
      if (item.eqId.substring(item.eqId.length - 2) == "-1") {
        return item.url[0];
      } else if (item.eqId.substring(item.eqId.length - 2) == "-2") {
        return item.url[1];
      }
    },
    // 批量操作弹窗获取方向
    getDirection(num) {
      for (var item of this.directionList) {
        if (item.dictValue == num) {
          return item.dictLabel;
        }
      }
    },
    // 批量操作 弹窗确定
    batchManageOK() {
      if (
        this.batchManageForm.brightness < 30 &&
        this.batchManageForm.state == 1 &&
        this.itemEqType == 9
      ) {
        this.$modal.msgWarning("基本照明亮度不得低于30");
        return;
      } else {
        const loading = this.$loading({
          lock: true,
          text: "Loading",
          spinner: "el-icon-loading",
          background: "rgba(0, 0, 0, 0.7)",
        });
        const param = {
          eqId: this.itemEqId.toString(),
          eqDirection: this.batchManageForm.eqDirection,
          state: this.batchManageForm.state,
          brightness: this.batchManageForm.brightness,
          eqType: this.itemEqType,
          frequency: this.batchManageForm.frequency,
        };
        batchControlDevice(param)
          .then((res) => {
            if (res.data == 0) {
              this.$modal.msgError("控制失败");
            } else if (res.data == 1) {
              this.$modal.msgSuccess("控制成功");
            }
            loading.close();
            this.batchManageDialog = false;
            this.closeBatchManageDialog();
          })
          .catch(() => {
            loading.close();
          });
      }
    },
    // 新版批量操作 点击变俩按钮
    batchManage() {
      this.batchManageType = 2;
      this.batchManageList = [];
      this.addBatchManage = true;
      this.screenEqName = "";
    },
    // 批量操作 执行
    implementBatchManage() {
      var that = this;
      this.title = "批量操作";
      this.eqTypeStateList2 = [];
      this.batchManageList = [];
      let eqType = "";
      for (var item of this.selectedIconList) {
        if (item.click) {
          this.batchManageList.push(item);
          eqType = item.eqType;
        }
      }
      if (this.batchManageList.length == 0) {
        this.$modal.msgWarning("请选择至少一个设备进行控制！");
        return;
      }
      this.batchManageForm.state = "";
      this.batchManageForm.brightness = 0;
      this.batchManageForm.frequency = 0;
      this.batchManageDialog = true;
      let list = [];
      const param = {
        stateTypeId: eqType,
        isControl: 1,
      };
      getStateByData(param).then((response) => {
        console.log(response, "查询设备状态图标");
        list = response.rows;
        for (let i = 0; i < list.length; i++) {
          let iconUrl = [];
          if (list[i].iFileList != null) {
            for (let j = 0; j < list[i].iFileList.length; j++) {
              let img = list[i].iFileList[j].url;
              iconUrl.push(img);
            }
          }
          that.eqTypeStateList2.push({
            stateType: list[i].stateType,
            type: list[i].stateTypeId,
            state: list[i].deviceState,
            name: list[i].stateName,
            control: list[i].isControl,
            url: iconUrl,
          });
        }
      });
    },
    /** 加强照明提交按钮 */
    submitLightingForm() {
      this.$refs["form"].validate((valid) => {
        if (valid) {
          if (this.lightingForm.id != null) {
            updateConfig(this.lightingForm).then((response) => {
              if (response.code == 200) {
                this.$modal.msgSuccess("修改成功");
                this.lightingVisible = false;
                this.$refs.tableFile.clearSelection();
              } else {
                this.$modal.msgError(response.msg);
              }
            });
          } else {
            addConfig(this.lightingForm).then((response) => {
              if (response.code == 200) {
                this.$modal.msgSuccess("新增成功");
                this.lightingVisible = false;
              } else {
                this.$modal.msgError(response.msg);
              }
            });
          }
        }
      });
    },
    // 关闭批量操作弹窗 / 批量操作取消
    closeBatchManageDialog() {
      this.batchManageDialog = false;
      this.batchManageType = 1;
      this.batchManageForm.state = null;
      this.itemEqId = [];
      if (this.itemEqType == 7 || this.itemEqType == 9) {
        this.batchManageForm.brightness = 0;
        this.min = 0;
      }
      this.itemEqType = "";
      this.addBatchManage = false;
      for (var item of this.selectedIconList) {
        item.click = false;
      }
      this.$forceUpdate();
    },
    // 筛选设备名称
    screenEqNameButton(treeNodeClick) {
      console.log("筛选设备名称");
      let that = this;
      if (this.screenEqName) {
        let bigType = "";
        let param = document.getElementsByClassName("vehicleLane");
        for (var i = 0; i < this.selectedIconList.length; i++) {
          let item = this.selectedIconList[i];
          if (item.eqName == this.screenEqName) {
            // console.log(item.eqName,"item.eqName")
            bigType = item.bigType;
            this.showTooltipIndex = i;
            this.showScreenEqName = true;
            setTimeout(() => {
              this.showTooltipIndex = 9999;
              this.showScreenEqName = false;
            }, 2000);
            if (
              this.currentTunnel.lane.width - item.position.left > 864 &&
              item.position.left > 864
            ) {
              // 中间
              param[0].scrollLeft =
                ((item.position.left - 864) / 100) * this.zoom;
            } else if (item.position.left < 864) {
              param[0].scrollLeft = 0;
            } else if (
              this.currentTunnel.lane.width - item.position.left <
              864
            ) {
              // 右边
              param[0].scrollLeft =
                (this.currentTunnel.lane.width - 1728) *
                ((this.zoom / 100) * 2);
              // console.log(param[0].scrollLeft,"param[0].scrollLeft")
            }
            if (this.zoom != 100) {
              if (item.position.top < 300) {
                param[0].scrollTop = 0;
              } else {
                param[0].scrollTop = 580;
              }
            }
            if (
              item.position.left <= this.currentTunnel.lane.width - 100 &&
              item.position.top <= 450
            ) {
              item.tooltipType = 1;
            } else if (
              item.position.left > this.currentTunnel.lane.width - 100 &&
              item.position.top <= 450
            ) {
              item.tooltipType = 2;
            } else if (
              item.position.left <= this.currentTunnel.lane.width - 100 &&
              item.position.top > 450
            ) {
              item.tooltipType = 3;
            } else {
              item.tooltipType = 4;
            }
            // this.$refs.dragImgDom.style.top = 290 - item.position.top + "px";
            item.click = true;
          } else {
            item.click = false;
          }
          if (param[0].scrollLeft != 0) {
            this.resetCanvasFlag = true;
          }
        }
        if (bigType.includes("0")) {
          this.displayControl(0, "全部设备");
        } else {
          for (let itm of this.dictList) {
            if (bigType == itm.value) {
              this.displayControl(bigType, item.label);
            }
          }
        }
      } else {
        for (var item of this.selectedIconList) {
          item.click = false;
        }
      }
      this.$forceUpdate();
    },
    filterNode(value, data) {
      if (!value) {
        // 点击输入框 折叠之前打开的树形菜单
        const nodes = this.$refs.tree.store._getAllNodes();
        nodes.forEach((item) => {
          item.expanded = false;
        });
        return true;
      }
      if (data.children && data.children.length > 0) {
        for (let item of data.children) {
          if (item.label.indexOf(value) !== -1) {
            return true;
          }
        }
      } else {
        return data.label.indexOf(value) !== -1;
      }
      // if(data.label.indexOf(value) !== -1){
      //   console.log(value, data)
      // }
      // return data.label.indexOf(value) !== -1;
    },

    // 预警事件点击跳转应急调度
    // jumpYingJi(e) {
    //   const item = e.target.closest(".listRow");
    //   if (item) {
    //     // 是否是滚动组件的某一行/列
    //     const { index } = item.dataset;
    //     let id = JSON.parse(index).id;
    //     setTimeout(() => {
    //       bus.$emit("getPicId", id);
    //     }, 200);
    //     bus.$emit("openPicDialog");
    //   }
    // },
    // 关闭弹窗子组件
    dialogClose() {
      this.mouseoversImplement = true;
      this.$refs.videoRef.handleClosee();
      this.$refs.lightRef.handleClosee();
      this.$refs.coviRef.handleClosee();
      this.$refs.dataRef.handleClosee();
      this.$refs.windRef.handleClosee();
      this.$refs.pressureRef.handleClosee();
      this.$refs.vehicleDetecRef.handleClosee();
      this.$refs.callPoliceRef.handleClosee();
      this.$refs.brightRef.handleClosee();
      this.$refs.youdaoRef.handleClosee();
      this.$refs.boardRef.handleClosee();
      this.$refs.radioRef.handleClosee();
      this.$refs.kzqRef.handleClosee();
      this.$refs.xfpRef.handleClosee();

      this.robotIframeShow = false;
    },

    // 滚动条动画
    srollAuto() {
      if (this.mouseoversImplement == false) {
        return;
      }
      var parent = document.getElementsByClassName("vehicleLane");
      clearInterval(this.imageTimer);
      this.imageTimer = setInterval(() => {
        // 判断元素是否滚动到底部(可视高度+距离顶部=整个高度)
        if (
          Math.round(parent[0].scrollLeft) + parent[0].clientWidth ===
          parent[0].scrollWidth
        ) {
          setTimeout(() => {
            clearInterval(this.imageTimer);
            this.imageTimer = setInterval(() => {
              parent[0].scrollLeft--;
              if (
                Math.round(parent[0].scrollLeft) + parent[0].clientWidth ===
                parent[0].clientWidth
              ) {
                this.srollAuto();
              }
            }, 20);
          }, 2000);
        } else {
          setTimeout(() => {
            parent[0].scrollLeft++;
          }, 2000);
        }
      }, 20);
    },

    mouseoversImage() {
      window.clearInterval(this.imageTimer);
      // this.srollSwitch = false
      this.imageTimer = null;
    },
    mouseleaveImage() {
      if (this.srollSwitch) {
        this.srollAuto();
      }
      // this.srollSwitch = true
    },

    zoomSwitchChange(val) {
      // console.log(val, "val");
      if (val == false) {
        this.handleTableWheelSwithch = false;
      } else {
        this.handleTableWheelSwithch = true;
      }
    },

    /** 设备类型 */
    getEqType() {
      getCategoryTree().then((response) => {
        this.eqTypeData = response.data;
      });
    },
    /** 所属隧道 */
    getTunnel() {
      listTunnels().then((response) => {
        this.eqTunnelData = response.rows;
      });
    },

    /*控制策略关闭*/
    strategyResetQuery() {
      this.resetQuery();
    },
    strategResetQuery() {
      this.strategyLoading = true;
      this.queryParams.pageSize = 10;
      this.queryParams.pageNum = 1;
      this.queryParams.direction = "";
      this.queryParams.strategyName = "";
      this.getStrategyQuery(this.dictCode);
      // this.handleQueryOperationParam();
      this.handlestrategyQuery();
    },
    /** 重置按钮操作 */
    resetQuery() {
      this.eqTypeData = [];
      this.getEqType();
      this.dateRange = this.getPastTime();
      this.dateRange1 = this.getPastTime();
      this.resetForm("queryForm");
      this.resetForm("operationParam1");
      this.queryParams.strategyName = "";
      this.queryParams.tunnelId = "";
      this.queryParams.direction = null;
      this.queryParams.strategyType = "";
      this.operationParam.ipaddr = "";
      this.operationParam.status = null;
      this.operationParam.operIp = "";
      this.operationParam.eqTypeId = null;
      this.operationParam.tunnelId = null;
      this.operationParam.controlType = null;
      this.operationParam.pageSize = 10;
      this.operationParam_xt.status = null;
      this.operationParam_xt.operIp = "";
      this.operationParam_xt.ipaddr = "";
      this.operationParam_xt.pageSize = 10;
      this.queryParams.pageSize = 10;
      this.queryParams.pageNum = 1;
      this.handleQueryOperationParam();
      this.handlestrategyQuery();
    },
    // 控制方式   3：手动 1：时间控制 2：光强控制字典翻译
    controlTypeFormat(row, column) {
      return this.selectDictLabel(this.controlTypeOptions, row.controlType);
    },
    //操作是否成功 0：成功 1：失败
    stateFormat(row, column) {
      return this.selectDictLabel(this.operationStateOptions, row.state);
    },
    openTooltip(item, index) {
      document.addEventListener("mousemove", function (event) {
        let mouseX = event.clientX;
        let mouseY = event.clientY;
        if (mouseX < 1650 && mouseY < 620) {
          item.tooltipType = 1;
        } else if (mouseX > 1650 && mouseY < 620) {
          item.tooltipType = 2;
        } else if (mouseX < 1650 && mouseY > 620) {
          item.tooltipType = 3;
        } else {
          item.tooltipType = 4;
        }
      });
      this.$forceUpdate();
      if (!this.showScreenEqName) {
        this.showTooltipIndex = index;
      }
      // this.sensorDisabled(item);
    },
    closeTooltip(item) {
      if (!this.showScreenEqName) {
        this.showTooltipIndex = 9999;
      }
    },
    openTooltip2(item, index) {
      this.actuatorTooltip = true;
    },
    closeTooltip2(item) {
      this.actuatorTooltip = false;
    },
    getDeptList() {
      var userDeptId = this.userDeptId;
      const params = { status: 0 };
      getTreeByDeptId(params)
        .then((response) => {
          console.log(response.data, "级联");
          const options = response.data;
          let childs = [];
          function a(list) {
            list.forEach((item) => {
              if (item.id == userDeptId) {
                childs = item.children || [];
              } else {
                item.children && a(item.children);
              }
            });
          }
          a(options);
          if (childs.length == 0) {
            this.siteList = options[0].children;
          } else {
            this.siteList = childs;
          }
          let arr = [];
          this.checkData(this.siteList[0], arr);
        })
        .then(() => {
          if (this.manageStation == "1") {
            // console.log("this.deptId3333");
            let arr = ["YG118", "YG11801", "YG1180103"];
            this.changeSite(arr);
          }
        });
    },

    checkData(obj, arr) {
      // console.log(arr, "arr");
      if (obj.children && obj.children.length > 0) {
        arr.push(obj.id);
        this.checkData(obj.children[0], arr);
      } else {
        arr.push(obj.id);
        // arr.shift();
        this.changeSite(arr);
        this.$forceUpdate();
      }
    },

    // 改变站点
    changeSite(index) {
      console.log(index, "index");
      if (index) {
        // 判断是否有缓存的管理站id
        // 1. get不到管理站id this.tunnelQueryParams.deptId为空 是第一次进入 正常赋值
        // 2. get不到管理站id this.tunnelQueryParams.deptId有 是切换隧道 set到缓存 并赋值
        // 3. get到管理站id this.tunnelQueryParams.deptId为空 是刷新 get管理站id 并赋值
        // 4. get到管理站id this.tunnelQueryParams.deptId有 是切换隧道 set到缓存 并赋值
        if (!this.$cache.local.get("deptId")) {
          if (!this.tunnelQueryParams.deptId) {
            this.tunnelQueryParams.deptId = index[index.length - 1];
          } else {
            this.tunnelQueryParams.deptId = index[index.length - 1];
            this.$cache.local.set("deptId", this.tunnelQueryParams.deptId);
          }
        } else {
          if (!this.tunnelQueryParams.deptId) {
            this.tunnelQueryParams.deptId = this.$cache.local.get("deptId");
          } else {
            this.tunnelQueryParams.deptId = index[index.length - 1];
            this.$cache.local.set("deptId", index[index.length - 1]);
          }
        }
        this.$forceUpdate();
        this.getTunnelList();
      }
    },

    // 机器人状态记录图表初始化
    // robotEchartInit() {
    //   this.robotStateData || (this.robotStateData = [0, 1, 2]);
    //   this.robotXData || (this.robotXData = ["8:30", "10:30", "11:30"]);
    //   this.robotChartDom ||
    //     (this.robotChartDom = echarts.init(
    //       document.getElementById("robotEchart")
    //     ));
    //   this.robotEchart();
    //   this.robotChartDom.resize();
    // },
    // robotEchart() {
    //   this.robotOption = {
    //     tooltip: {
    //       trigger: "axis",
    //       formatter: function (value) {
    //         for (var j = 0; j < value.length; j++) {
    //           if (value[j].value == 0) {
    //             return (
    //               value[j].name + "<br/> " + value[j].seriesName + ": 正常"
    //             );
    //           } else if (value[j].value == 1) {
    //             return (
    //               value[j].name + "<br/> " + value[j].seriesName + ": 离线"
    //             );
    //           } else if (value[j].value == 2) {
    //             return (
    //               value[j].name + "<br/> " + value[j].seriesName + ": 故障"
    //             );
    //           }
    //         }
    //       },
    //       textStyle: {
    //         color: "powderblue",
    //       },
    //       backgroundColor: "rgba(0,0,0,0.5)",
    //       extraCssText: "box-shadow: 0px 0px 10px rgb(104 181 255);",
    //     },
    //     grid: {
    //       left: "3%",
    //       right: "4%",
    //       bottom: "3%",
    //       top: "3%",
    //       containLabel: true,
    //     },
    //     xAxis: {
    //       type: "category",
    //       boundaryGap: true,
    //       data: this.robotXData,
    //       axisLine: {
    //         lineStyle: {
    //           color: "#fff",
    //         },
    //       },
    //     },
    //     yAxis: {
    //       type: "category",
    //       axisLine: {
    //         lineStyle: {
    //           color: "#fff",
    //         },
    //       },
    //       data: [
    //         {
    //           value: "正常",
    //           textStyle: {
    //             fontSize: 20,
    //             color: "yellow",
    //           },
    //         },
    //         {
    //           value: "离线",
    //           textStyle: {
    //             fontSize: 20,
    //             color: "#2c5ea2",
    //           },
    //         },
    //         {
    //           value: "故障",
    //           textStyle: {
    //             fontSize: 20,
    //             color: "red",
    //           },
    //         },
    //       ],
    //       axisLine: {
    //         show: true,
    //       },
    //       textStyle: {
    //         color: "#fff",
    //       },
    //     },
    //     series: [
    //       {
    //         name: "运行状态",
    //         type: "line",
    //         step: "end",
    //         data: this.robotStateData,
    //       },
    //     ],
    //   };
    //   this.robotOption && this.robotChartDom.setOption(this.robotOption);
    // },

    // 初始化echart图
    // initEharts() {
    //   var that = this;
    //   proportionOfEquipment({
    //     tunnelId: that.currentTunnel.id,
    //   }).then((res) => {
    //   });
    // },
    // 获取最近七天数组
    dateFormat(dateData) {
      var now = new Date(dateData),
        m = now.getMonth() + 1, //月份
        d = now.getDate(); //日期
      return (m < 10 ? "0" + m : m) + "." + (d < 10 ? "0" + d : d);
    },

    // 情报板编辑
    IntelligenceBoardEdit(item) {
      // console.log(item);
      this.dialogVisible = true;
      this.$refs.contentBatchEdit.vmsSize = "1024*768"; //item.vmsSize
      this.$refs.vmsContentUpdate.init();
    },
    // 火灾报警弹窗
    // HZhandleClose() {
    //   this.HZdialogVisible = false;
    // },
    // handleClosee() {
    //   this.cameraVisible = false;
    // },

    showA() {
      this.carShow = !this.carShow;
    },
    showB() {
      this.carShowTwo = !this.carShowTwo;
    },
    // 跑车
    carMapSportCar() {
      clearInterval(this.timerCat);
      const car = this.$refs["sportCar"];
      // item.position['left']  当前隧道灯的距离出口的距离
      // car.style.left    当前距离隧道出口的距离
      let speed = 200;
      this.timerCat = setInterval(() => {
        if (parseInt(car.style.left) <= 30) {
          // 车辆停止运动
          clearInterval(this.timerCat);
          for (let i = 0; i < this.selectedIconList.length; i++) {
            let item = this.selectedIconList[i];
            if (
              (item.eqType == 7 && item.eqDirection == 1) ||
              (item.eqType == 8 && item.eqDirection == 1) ||
              (item.eqType == 9 && item.eqDirection == 1)
            ) {
              item.url[0] = this.dark;
            }
          }
          this.carShow = false;
        } else {
          for (let i = 0; i < this.selectedIconList.length; i++) {
            let item = this.selectedIconList[i];
            let item_1 = this.selectedIconList[i - 1];
            // 取到所有的隧道灯
            if (
              (item.eqType == 7 && item.eqDirection == 1) ||
              (item.eqType == 8 && item.eqDirection == 1) ||
              (item.eqType == 9 && item.eqDirection == 1)
            ) {
              if (car.style.left == "100px") {
                this.carShow = false;
              }
              if (parseInt(car.style.left) - item.position["left"] <= 150) {
                item.url[0] = this.light;
              }
              if (item_1.position.top == 156) {
                if (parseInt(car.style.left) - item.position["left"] <= -150) {
                  item_1.url[0] = this.dark;
                }
              }
            }
          }
          car.style.left = parseInt(car.style.left) - 20 + "px";
        }
      }, speed);
      this.$forceUpdate();
    },
    // 下行车道
    carMapLeft() {
      clearInterval(this.timerCat);
      const car = this.$refs["carLeft"];
      let speed = 210;
      this.timer = setInterval(() => {
        if (parseInt(car.style.left) >= 1130) {
          // 车辆停止运动
          clearInterval(this.timerCat);
          for (let i = 0; i < this.selectedIconList.length; i++) {
            let item = this.selectedIconList[i];
            if (
              (item.eqType == 7 && item.eqDirection == 0) ||
              (item.eqType == 8 && item.eqDirection == 0) ||
              (item.eqType == 9 && item.eqDirection == 0)
            ) {
              item.url[0] = this.dark;
            }
          }
        } else {
          for (let i = 0; i < this.selectedIconList.length; i++) {
            let item = this.selectedIconList[i];
            let item_1 = this.selectedIconList[i - 1];
            // 取到所有的隧道灯
            if (
              (item.eqType == 7 && item.eqDirection == 0) ||
              (item.eqType == 8 && item.eqDirection == 0) ||
              (item.eqType == 9 && item.eqDirection == 0)
            ) {
              // 到达终点隐藏
              if (car.style.left == "1130px") {
                this.carShow = false;
                return false;
              }
              // 如果车辆当前位置和路灯位置相差小于100，则亮灯
              if (parseInt(car.style.left) - item.position["left"] <= -100) {
                item.url[0] = this.light;
              }
              if (item_1.position.top != 0) {
                // 如果车辆位置 - 当前路灯位置 大于等于 100 则代表车辆已经离开当前路灯区域，则灭灯
                if (parseInt(car.style.left) - item.position["left"] >= 100) {
                  item_1.url[0] = this.dark;
                }
              }
            }
          }
          car.style.left = parseInt(car.style.left) + 24 + "px";
        }
      }, speed);
      this.$forceUpdate();
    },
    // 上行车道
    carMapRight() {
      clearInterval(this.timerCat);
      const car = this.$refs["carRight"];
      // item.position['left']  当前隧道灯的距离出口的距离
      // car.style.left    当前距离隧道出口的距离
      let speed = 200;
      this.timerCat = setInterval(() => {
        if (parseInt(car.style.left) <= 30) {
          // 车辆停止运动
          clearInterval(this.timerCat);
          for (let i = 0; i < this.selectedIconList.length; i++) {
            let item = this.selectedIconList[i];
            if (
              (item.eqType == 7 && item.eqDirection == 1) ||
              (item.eqType == 8 && item.eqDirection == 1) ||
              (item.eqType == 9 && item.eqDirection == 1)
            ) {
              item.url[0] = this.dark;
            }
          }
          this.carShow = false;
        } else {
          for (let i = 0; i < this.selectedIconList.length; i++) {
            let item = this.selectedIconList[i];
            let item_1 = this.selectedIconList[i - 1];
            // 取到所有的隧道灯
            if (
              (item.eqType == 7 && item.eqDirection == 1) ||
              (item.eqType == 8 && item.eqDirection == 1) ||
              (item.eqType == 9 && item.eqDirection == 1)
            ) {
              if (car.style.left == "100px") {
                this.carShow = false;
              }
              if (parseInt(car.style.left) - item.position["left"] <= 150) {
                item.url[0] = this.light;
              }
              if (item_1.position.top == 156) {
                if (parseInt(car.style.left) - item.position["left"] <= -150) {
                  item_1.url[0] = this.dark;
                }
              }
            }
          }
          car.style.left = parseInt(car.style.left) - 20 + "px";
        }
      }, speed);
      this.$forceUpdate();
    },
    getUserDept() {
      getUserDeptId(this.userQueryParams).then((response) => {
        // console.log(response, "管理站级联");
        this.userDeptId = response.rows[0].deptId;
        this.getDeptList();
      });
    },
    //地图复位
    resetCanvas() {
      console.log("地图复位");
      setTimeout(() => {
        this.resetCanvasFlag = false;
      }, 50);
      let param = document.getElementsByClassName("vehicleLane");
      param[0].scrollLeft = 0;
      // this.$refs.dragImgDom.style.left = "0px";
      // this.$refs.dragImgDom.style.top = "0px";
    },
    //右键拖动
    dragImg(e) {
      console.log("右键拖动");
      let scrollContainer = document.querySelector(".vehicleLane");
      let dragContainer = document.querySelector(".content");
      let mouseDownScrollPosition = {
        scrollLeft: scrollContainer.scrollLeft,
        scrollTop: scrollContainer.scrollTop,
      };
      //鼠标按下的位置坐标
      let mouseDownPoint = {
        x: e.clientX,
        y: e.clientY,
      };
      dragContainer.onmousemove = (e) => {
        //鼠标滑动的实时距离
        let dragMoveDiff = {
          x: mouseDownPoint.x - e.clientX,
          y: mouseDownPoint.y - e.clientY,
        };

        scrollContainer.scrollLeft =
          mouseDownScrollPosition.scrollLeft + dragMoveDiff.x;
        scrollContainer.scrollTop =
          mouseDownScrollPosition.scrollTop + dragMoveDiff.y;
        if (scrollContainer.scrollLeft > 0 || scrollContainer.scrollLeft > 0) {
          this.resetCanvasFlag = true;
        }
      };
      document.onmouseup = (e) => {
        dragContainer.onmousemove = null;
        document.onmouseup = null;
      };
    },
    lightSwitchFunc() {
      this.getConfigKey("lightSwitch").then((response) => {
        this.lightSwitch = response.msg;
      });
    },

    /* -------------------鼠标拖动-------------------*/
    /* 鼠标点击*/
    // dian(event) {
    //   if (event.button != 0) {
    //     return;
    //   }
    //   // clientX 和 clientY 是起点
    //   let parentObj = document.getElementById("eq-wrapper");
    //   wrapperClientX = parentObj.getBoundingClientRect().left;
    //   wrapperClientY = parentObj.getBoundingClientRect().top;
    //   this.px =
    //     event.clientX + event.clientX * this.moveTop - wrapperClientX - 30;
    //   this.py = event.clientY + event.clientY * this.moveTop - wrapperClientY;
    //   boxEqList = [];
    //   this.batchForm = {
    //     eqType: "",
    //     eqList: [],
    //     state: "",
    //   };
    // },
    /*鼠标移动*/
    // yi(event) {
    //   // console.log(event)
    //   if (this.px == "" || this.py == "") {
    //     return;
    //   }
    //   let px1 = this.px;
    //   let px2 = this.py;
    //   this.left = event.clientX + event.clientX * this.moveTop - wrapperClientX;
    //   this.top = event.clientY + event.clientY * this.moveTop - wrapperClientY;

    //   this.h = this.top - this.py;
    //   this.w = this.left - this.px;
    //   let hc = -this.h;
    //   let wc = -this.w;
    //   this.len = 1.5;
    //   this.back = "#1E90FF";
    //   if (this.h < 0 && this.w >= 0) {
    //     this.h = hc;
    //     this.left = px1;
    //   } else if (this.h >= 0 && this.w < 0) {
    //     this.w = wc;
    //     this.top = px2;
    //   } else if (this.h < 0 && this.w < 0) {
    //     this.h = hc;
    //     this.w = wc;
    //   } else {
    //     this.left = this.px;
    //     this.top = this.py;
    //   }
    //   if (this.w < 0) {
    //     this.w = 0 - this.w;
    //   }
    //   if (this.h < 0) {
    //     this.h = 0 - this.h;
    //   }
    // },
    /* 鼠标离开*/
    // li() {
    //   this.move = false;
    //   let str = [108, 110, 18, 21, 13, 14, 15, 16, 5, 6, 7, 8, 9];
    //   let list = this.selectedIconList;
    //   for (let i = 0; i < list.length; i++) {
    //     // 传入每个设备并判断是否在范围之内
    //     let inRange = this.inRange(list[i]);
    //     if (inRange == true) {
    //       //判断当前圈选设备的remark字段中是否为null，且是否包含“hjpz”，如果不包含，则返回-1，证明是正常设备，则可以显示圈选效果
    //       const remark = this.selectedIconList[i].remark;
    //       if (remark != null && remark.indexOf("hjpz") == -1) {
    //         this.selectedIconList[i].isfocus = true;
    //       }
    //       // debugger
    //       // this.selectedIconList[i].isfocus = true;
    //       if (boxEqList.length > 0) {
    //         let index = -1;
    //         for (let k = 0; k < boxEqList.length; k++) {
    //           if (list[i].eqType == boxEqList[k].typeId) {
    //             index = k;
    //             break;
    //           }
    //         }
    //         if (index > -1) {
    //           boxEqList[index].eqlist.push(list[i]);
    //         } else {
    //           if (!str.includes(parseInt(list[i].eqType))) {
    //             boxEqList.push({
    //               typeId: list[i].eqType,
    //               eqlist: [list[i]],
    //             });
    //             this.boxType(list[i].eqType);
    //           }
    //         }
    //       } else {
    //         if (!str.includes(parseInt(list[i].eqType))) {
    //           boxEqList.push({
    //             typeId: list[i].eqType,
    //             eqlist: [list[i]],
    //           });
    //           this.boxType(list[i].eqType);
    //         }
    //       }
    //     } else {
    //       // console.log('bu在范围内')
    //     }
    //   }
    //   if (boxEqList.length > 0 && this.boxTypeList.length > 0) {
    //     if (boxEqList.length == 1 && boxEqList[0].eqlist.length == 1) {
    //       //单个配置
    //       this.openStateSwitch(boxEqList[0].eqlist[0]);
    //     } else {
    //       //超过1个设备进行批量配置
    //       this.batchForm.eqType = this.boxTypeList[0].typeId;
    //       console.log(this.batchForm.eqType, "批量操作设备类型");
    //       let exist = true; //假设获取到所有信息
    //       boxEqList = boxEqList.filter((e) => e.typeId != undefined);
    //       for (let b = 0; b < boxEqList.length; b++) {
    //         for (let bl = 0; bl < boxEqList[b].eqlist.length; bl++) {
    //           if (
    //             boxEqList[b].eqlist[bl].eqDirection == undefined ||
    //             boxEqList[b].eqlist[bl].eqDirection == null ||
    //             boxEqList[b].eqlist[bl].typeName == undefined
    //           ) {
    //             exist = false; //取不到设备信息，不可配置
    //             this.$message({
    //               message: "未能获取所有设备信息,请重新配置！",
    //               type: "warning",
    //               customClass: "workbench-msg",
    //             });
    //             this.cleanUp();
    //             this.empty();
    //             break;
    //           }
    //           if (exist == false) {
    //             break;
    //           }
    //         }
    //       }
    //       if (exist == true) {
    //         mode = "boxSelection";
    //         this.title = "批量操作";
    //         if (this.$refs["batchForm"]) {
    //           this.$refs["batchForm"].resetFields();
    //         }
    //         this.devicesList = this.changeDirection(boxEqList[0].eqlist);
    //         let param = {
    //           eqTunnelId: this.currentTunnel.id,
    //           eqType: this.devicesList[0].eqType,
    //           lane: this.batchForm.eqlane,
    //           eqDirection: this.batchForm.eqDirection,
    //         };
    //         this.selectDirection(param);
    //         this.batchVisible = true;
    //       }
    //     }
    //   }
    //   this.empty();
    // },
    boxType(type) {
      for (let i = 0; i < this.eqTypeList.length; i++) {
        if (type == this.eqTypeList[i].typeId || type == 100) {
          this.boxTypeList.push({
            typeId: type,
            typeName: this.eqTypeList[i].typeName,
          });
        }
      }
    },
    // 获取风机状态
    getFjDisabled(item, state) {
      // 主机
      if (item.eqType == "10") {
        // item.state是当前状态 选择状态
        if (item.fjState == "1" && state == "2") {
          return true;
        }
        //
        else if (item.fjState == "2" && state == "1") {
          return true;
        }
        //
        else {
          return false;
        }
      } else {
        return false;
      }
    },
    /* 是否在范围内*/
    inRange(eqIcon) {
      let inRange = false;
      if (eqIcon.display == true) {
        let maxX = Math.max(this.left + this.w, eqIcon.position.left + 60);
        let maxY = Math.max(this.top + this.h, eqIcon.position.top - 100 + 30);
        let minX = Math.min(this.left, eqIcon.position.left);
        let minY = Math.min(this.top, eqIcon.position.top - 100);
        if (maxX - minX <= this.w + 10 && maxY - minY <= this.h + 20) {
          inRange = true;
        } else {
          inRange = false;
        }
      }
      return inRange;
    },
    // empty() {
    //   this.px = "";
    //   this.py = "";
    //   this.h = "";
    //   this.w = "";
    //   this.top = "";
    //   this.left = "";
    //   this.len = 0;
    //   this.back = "";
    // },
    /* 关闭窗口，清空框选*/
    // cleanUp() {
    //   this.empty();
    //   this.boxTypeList = [];
    //   // this.move = false;
    //   mode = "";
    //   //清除聚焦
    //   let list = this.selectedIconList;
    //   for (let i = 0; i < list.length; i++) {
    //     if (list[i].hasOwnProperty("isfocus")) {
    //       delete this.selectedIconList[i].isfocus;
    //     }
    //   }
    // },
    // onmousemove(e) {
    //   let et = e || window.event;
    //   et.preventDefault(); // 阻止默认事件发生
    // },
    /* -------------------鼠标拖动end------------------*/

    /* 查询隧道列表 */
    getTunnelList() {
      // debugger
      listTunnels(this.tunnelQueryParams).then((response) => {
        // console.log(response, "查询隧道列表");
        if (!response.rows[0]) {
          this.tunnelList = [];
          return false;
        }
        this.currentTunnel.id = response.rows[0].tunnelId;
        var newDict = this.dict.type.sd_sys_name;
        if (this.currentTunnel.id != "JQ-JiNan-WenZuBei-MJY") {
          this.dictList = newDict.slice(0, 8);
        } else if (this.currentTunnel.id == "JQ-JiNan-WenZuBei-MJY") {
          this.dictList = this.dict.type.sd_sys_name;
        }
        // console.log(this.dictList,"this.dictList")
        for (let i = 0; i < this.dictList.length; i++) {
          if (this.dictList[i].label == "火灾报警") {
            this.dictList[i].labelClass = "huozaibaojing";
          } else if (this.dictList[i].label == "紧急电话") {
            this.dictList[i].labelClass = "jinjidianhua";
          }
        }
        this.checkboxTunnel = [];
        let list = response.rows;
        if (list.length > 0) {
          for (let i = 0; i < list.length; i++) {
            if (list[i].tunnelLength == null || list[i].tunnelLength == "") {
              let num = 0;
              list[i].tunnelLength = num.toString();
            }
          }
          if (this.manageStation == "0") {
            this.tunnelList = [];
            this.tunnelList = list;
            this.checkboxTunnel.push(list[0]);
            this.selectEquipmentType(this.currentTunnel.id);
            this.setTunnel(list[0], 0);
          } else {
            for (let i = 0; i < list.length; i++) {
              if (
                list[i].tunnelId == this.$cache.local.get("manageStationSelect")
              ) {
                this.tunnelList = [];
                this.tunnelList.push(list[i]);
                this.checkboxTunnel.push(list[i]);
                this.setTunnel(list[i], 0);
              }
            }
          }
        }
      });
    },
    /* 查询设备类型*/
    selectEquipmentType(currentTunnelId) {
      this.eqTypeList = [];
      listHasType(currentTunnelId).then((response) => {
        let typeList = response.rows;
        this.eqTypeList = typeList;
        groupByBigType().then((response) => {
          var typeList = response.rows;
        });
      });
    },
    // 查询方向
    selectDirection(param) {
      listDevices(param).then((response) => {
        this.allDirection = this.changeDirection(response.rows);
        for (let i = 0; i < this.allDirection.length; i++) {
          for (let j = i + 1; j < this.allDirection.length; j++) {
            if (
              this.allDirection[i].eqDirection ==
              this.allDirection[j].eqDirection
            ) {
              this.allDirection.splice(j, 1); //splice会改变原数组
              j--;
            }
          }
        }
      });
    },
    // 查询车道
    selectLane(param) {
      listDevices(param).then((response) => {
        this.allLane = this.changeDirection(response.rows);
        for (let i = 0; i < this.allLane.length; i++) {
          for (let j = i + 1; j < this.allLane.length; j++) {
            if (this.allLane[i].lane == this.allLane[j].lane) {
              this.allLane.splice(j, 1);
              j--;
            }
          }
        }
        this.allLane.forEach((item) => {
          switch (Number(item.lane)) {
            case 1:
              item.laneName = "第一车道";
              break;
            case 2:
              item.laneName = "第二车道";
              break;
            case 3:
              item.laneName = "第三车道";
              break;
            case 0:
              item.laneName = "其它";
              break;
          }
        });
      });
    },
    /* 查询设备*/
    selectEquipment(param) {
      let that = this;
      listDevices(param).then((response) => {
        that.devicesList = that.changeDirection(response.rows);
      });
    },
    changeDirection(list) {
      for (let i = 0; i < list.length; i++) {
        if (list[i].eqDirection == "1") {
          list[i].eqDirectionName = this.leftDirection + "方向";
        } else if (list[i].eqDirection == "0") {
          list[i].eqDirectionName = this.rightDirection + "方向";
        } else {
          list[i].eqDirectionName = "";
        }
      }
      return list;
    },
    /* 查询设备状态图标*/
    async getEqTypeStateIcon() {
      let that = this;
      let queryParams = {
        stateTypeId: null,
        deviceState: null,
        stateName: null,
      };
      await listEqTypeState(queryParams).then((response) => {
        // console.log(response.rows,"response.rows111")
        let list = response.rows;
        that.getEqUrl(list);
      });
    },
    async getEqUrl(list) {
      let that = this;
      that.eqTypeStateList = [];
      for (let i = 0; i < list.length; i++) {
        let iconUrl = [];
        if (list[i].iFileList != null) {
          for (let j = 0; j < list[i].iFileList.length; j++) {
            let img = list[i].iFileList[j].url;
            iconUrl.push(img);
          }
        }
        that.eqTypeStateList.push({
          stateType: list[i].stateType,
          type: list[i].stateTypeId,
          state: list[i].deviceState,
          name: list[i].stateName,
          control: list[i].isControl,
          url: iconUrl,
          id: list[i].id,
        });
      }
      console.log(that.eqTypeStateList, "设备图标eqTypeStateList");
      // for(let item of that.eqTypeStateList){
      //   if(item.type == '23'){
      //     console.log(item,"222222222222222222")
      //   }
      // }
    },
    /* 请求图片base64地址*/
    picture(fileUrl) {
      return new Promise((resolve, reject) => {
        loadPicture({
          url: fileUrl,
        }).then((response) => {
          if (response.code == 200) {
            let base64 = response.msg;
            resolve(base64); //不可缺少
          }
        });
      });
      return resolve(base64);
    },
    /* 视频 */
    // changeLoading() {
    //   this.loading = false;
    //   this.cameraErrorInfo = "抱歉！视频信号丢失！";
    // },
    /* 获取隧道配置信息*/
    getTunnelData(tunnelId) {
      let that = this;
      that.upList = [];
      that.downList = [];
      const params = {
        tunnelId: tunnelId,
      };
      this.carchange(tunnelId);
      getTunnels(tunnelId).then((res1) => {
        that.loading = false;
        let res = res1.data.storeConfigure;
        //存在配置内容
        if (res != null && res != "" && res != undefined) {
          res = JSON.parse(res);
          // console.log(res,"获取隧道配置信息")
          listType("")
            .then((response) => {
              // console.log(response,"response888")
              for (let i = 0; i < res.eqList.length; i++) {
                res.eqList[i].focus = false;
                if (res.eqList[i].eqType == 29) {
                  this.robotId = res.eqList[i].eqId;
                }
                for (let j = 0; j < response.rows.length; j++) {
                  if (response.rows[j].typeId == res.eqList[i].eqType) {
                    let iconWidth = Number(response.rows[j].iconWidth);
                    let iconHeight = Number(response.rows[j].iconHeight);
                    res.eqList[i].iconWidth = iconWidth;
                    res.eqList[i].iconHeight = iconHeight;
                    res.eqList[i].bigType = response.rows[j].bigType;
                    break;
                  }
                }
              }
              that.selectedIconList = res.eqList; //设备zxczczxc
              // setInterval(() => {
              //   this.getRobot();
              // }, 2000);
              // 匹配设备方向
              listDevices().then((data) => {
                // console.log(data, "设备表");
                for (let item of that.selectedIconList) {
                  for (let itm of data.rows) {
                    if (item.eqId == itm.eqId) {
                      item.eqDirection = itm.eqDirection;
                    }
                  }
                }
              });
              // 匹配设备是否可控
              listType().then((response) => {
                // console.log(response.rows, "设备图标 是否可控");
                for (let item of that.selectedIconList) {
                  for (let itm of response.rows) {
                    if (item.eqType == itm.typeId) {
                      item.isControl = itm.isControl;
                    }
                  }
                }
              });
              that.getRealTimeData();

              console.log(
                that.selectedIconList,
                "所有设备图标selectedIconList"
              );
              for (var item of that.selectedIconList) {
                if (this.currentTunnel.id == "JQ-JiNan-WenZuBei-MJY") {
                  this.robotShow = true;
                } else {
                  this.robotShow = false;
                }
              }
            })
            .then(() => {
              // 切换隧道配置信息时，联动大类查询
              that.displayControl(
                that.selectBigType.index.toString(),
                that.selectBigType.bigType.toString()
              );
            });

          if (res.upList != undefined) {
            that.upList = res.upList;
          }
          if (res.downList != undefined) {
            that.downList = res.downList;
          }
          if (res.leftDirection != undefined && res.leftDirection != "") {
            that.leftDirection = res.leftDirection;
          }
          if (res.rightDirection != undefined && res.leftDirection != "") {
            that.rightDirection = res.rightDirection;
          }

          let id = res.lane;
          for (let i = 0; i < that.laneUrlList.length; i++) {
            if (that.laneUrlList[i].id == id) {
              that.currentTunnel.lane = that.laneUrlList[i];
            }
          }
        } else {
          console.log("不存在");
          //不存在
          that.selectedIconList = [];
          //工作台默认背景图
          that.upList = [];
          that.downList = [];
          that.leftDirection = "";
          that.rightDirection = "";
        }
      });
      // 树状搜索
      getCategoryDeviceTree(tunnelId).then((res) => {
        // console.log(res.data, "res.data");
        this.treeData = res.data;
      });
    },

    /* 根据车道数获取车道图*/
    // getLanUrl(num) {
    //   let lane = this.laneUrlList[0];
    //   for (let i = 0; i < this.laneUrlList.length; i++) {
    //     if (this.laneUrlList[i].num == num) {
    //       lane = this.laneUrlList[i];
    //       break;
    //     }
    //   }
    //   return lane;
    // },
    async getRobot() {
      const param = {
        deviceId: this.robotId,
      };
      await getWorkRobot(param).then((res) => {
        // console.log(res, "机器人");
      });
    },
    /* 获取照明设备数据*/
    getLiPowerDevice() {
      getLiPowerDevices().then((response) => {
        let res = response.data;
        if (res.state == 0) {
          this.lightState = "正常";
        } else if (res.state == -2) {
          this.lightState = "异常";
        }
        // 照明设备
        for (let i = 0; i < res.list.length; i++) {
          // 图标
          for (let j = 0; j < this.selectedIconList.length; j++) {
            // 设备id如果相等
            if (res.list[i].eqId == this.selectedIconList[j].eqId) {
              // 设备状态
              for (let k = 0; k < this.eqTypeStateList.length; k++) {
                // 设备状态相同且设备类型相同
                if (
                  this.selectedIconList[j].eqType ==
                    this.eqTypeStateList[k].type &&
                  res.list[i].switchStatus == this.eqTypeStateList[k].state
                ) {
                  // 改变图标
                  this.selectedIconList[j].url = this.eqTypeStateList[k].url;
                  this.selectedIconList[j].lightValue = res.list[i].lightValue;
                }
              }
            }
          }
        }
      });
    },
    /* 获取实时数据PLC*/
    // 模拟定时
    getRealTimeData() {
      getDeviceData({
        tunnelId: this.currentTunnel.id,
      }).then((response) => {
        for (let j = 0; j < this.selectedIconList.length; j++) {
          var eqId = this.selectedIconList[j].eqId;
          var deviceData = response.data[eqId];
          // console.log(deviceData)
          if (deviceData) {
            // 需要换光标的
            for (let k = 0; k < this.eqTypeStateList.length; k++) {
              if (
                this.selectedIconList[j].eqType == this.eqTypeStateList[k].type
              ) {
                //无法控制设备状态的设备类型，比如PLC、摄像机
                // if(deviceData.eqType == 23 && arr.includes(deviceData.eqType)){
                //   console.log(deviceData,"deviceData")
                // }
                let arr = [
                  "5",
                  "14",
                  "17",
                  "18",
                  "19",
                  "20",
                  "21",
                  "23",
                  "24",
                  "25",
                  "28",
                  "29",
                  "32",
                  "33",
                  "35",
                  "22",
                  "40",
                  "39",
                  "48",
                  "41",
                  "47",
                ];

                if (arr.includes(deviceData.eqType)) {
                  if (
                    // 摄像机之类的只有在线 离线 故障图标
                    this.eqTypeStateList[k].stateType == "1" &&
                    this.eqTypeStateList[k].state == deviceData.eqStatus
                  ) {
                    // if(deviceData.eqType == '23'){
                    //   console.log(deviceData,"deviceData11111111111")
                    // }
                    //取设备监测状态图标
                    this.selectedIconList[j].url = this.eqTypeStateList[k].url;

                    if (deviceData.eqStatus == 1) {
                      if (deviceData.eqType == 19) {
                        if (deviceData.CO && deviceData.VI) {
                          this.selectedIconList[j].num =
                            "CO:" +
                            parseFloat(deviceData.CO).toFixed(2) +
                            "/PPM  VI:" +
                            parseFloat(deviceData.VI).toFixed(2) +
                            "M";
                        }
                      } else if (deviceData.eqType == 17) {
                        if (deviceData.FS && deviceData.FX) {
                          this.selectedIconList[j].num =
                            parseFloat(deviceData.FS).toFixed(2) +
                            "m/s " +
                            deviceData.FX;
                        }
                      } else if (deviceData.eqType == 5) {
                        if (deviceData.DWLD) {
                          this.selectedIconList[j].num =
                            parseFloat(deviceData.DWLD).toFixed(2) + "lux";
                        }
                      } else if (deviceData.eqType == 18) {
                        if (deviceData.DNLD) {
                          this.selectedIconList[j].num =
                            parseFloat(deviceData.DNLD).toFixed(2) + "lux";
                        }
                      } else if (deviceData.eqType == 7) {
                        if (deviceData.DNLD) {
                          this.selectedIconList[j].num =
                            parseFloat(deviceData.DNLD).toFixed(2) + "lux";
                        }
                      }
                    }
                  }
                } else {
                  //可以控制设备状态的设备类型，比如车指

                  if (deviceData.eqStatus == "1") {
                    // 在线
                    if (
                      // 车指之类的包括正红反绿之类的图标 == 2
                      this.eqTypeStateList[k].stateType == "2"
                    ) {
                      if (this.eqTypeStateList[k].state == deviceData.state) {
                        // 照明图标后加数据
                        if (deviceData.eqType == 7 || deviceData.eqType == 9) {
                          // console.log(deviceData, "deviceData");
                          this.selectedIconList[j].num = deviceData.brightness;
                          this.selectedIconList[j].electricity =
                            deviceData.electricity;
                        } else if (deviceData.eqType == 10) {
                          this.selectedIconList[j].electricity =
                            deviceData.electricity;
                        }
                        //取设备运行状态图标
                        let url = this.eqTypeStateList[k].url;
                        this.selectedIconList[j].eqDirection =
                          deviceData.eqDirection;
                        if (deviceData.eqDirection == "1") {
                          //上行车道
                          if (url.length > 1) {
                            this.selectedIconList[j].url = [url[1], url[0]];
                          } else {
                            this.selectedIconList[j].url = url;
                          }
                        } else {
                          this.selectedIconList[j].url =
                            this.eqTypeStateList[k].url;
                        }
                      }
                    }
                  } else {
                    //如果是离线、故障等状态
                    if (
                      this.eqTypeStateList[k].stateType == "1" &&
                      this.eqTypeStateList[k].state == deviceData.eqStatus
                    ) {
                      //取设备监测状态图标
                      this.selectedIconList[j].url =
                        this.eqTypeStateList[k].url;
                    }
                  }
                }
              }
            }
          }
        }
      });
      if (this.currentTunnel.id != null && this.currentTunnel.id != "") {
        addBoardContent(this.currentTunnel.id).then((res) => {
          // console.log(res,"情报板显示内容查询");
          this.boardObj = res;
        });
      }
    },

    /* 选择隧道*/
    setTunnel(item, index) {
      this.dialogClose();
      this.$refs.footerRef.changeActive();
      this.resetCanvas();
      const loading = this.$loading({
        lock: true,
        text: "Loading",
        spinner: "el-icon-loading",
        background: "rgba(0, 0, 0, 0.7)",
      });
      this.tunnelItem = item; //勿动
      this.closeBatchManageDialog();
      this.screenEqName = "";
      let obj = {
        tunnelName: item.tunnelName,
        tunnelId: item.tunnelId,
        lane: item.lane,
        index: index,
      };
      // 判断是否有缓存的currentTunnel对象
      // 1. get不到currentTunnel对象 this.currentTunnel.name为空 是第一次进入 默认在第一个隧道 正常赋值
      // 2. get不到currentTunnel对象 this.currentTunnel.name有 是切换隧道 set到缓存 并赋值
      // 3. get到currentTunnel对象 this.currentTunnel.name为空 是刷新 get管理站id 并赋值
      // 4. get到currentTunnel对象 this.currentTunnel.name有 是切换隧道 set到缓存 并赋值
      if (!this.$cache.local.get("currentTunnel")) {
        //if (this.currentTunnel.name) {
        this.$cache.local.set("currentTunnel", JSON.stringify(obj));
        //}
        this.$refs.deawerRef.init(item.tunnelId, item.lane);
        this.$refs.footerRef.init(item.tunnelId);
        this.currentTunnel.id = item.tunnelId;
        this.currentTunnel.name = item.tunnelName;
        this.buttonIndex = index;
      } else {
        if (!this.currentTunnel.name) {
          let aa = JSON.parse(this.$cache.local.get("currentTunnel"));
          this.$refs.deawerRef.init(aa.tunnelId, aa.lane);
          this.$refs.footerRef.init(aa.tunnelId);
          this.currentTunnel.id = aa.tunnelId;
          this.currentTunnel.name = aa.tunnelName;
          this.buttonIndex = aa.index;
        } else {
          this.$cache.local.set("currentTunnel", JSON.stringify(obj));
          this.$refs.deawerRef.init(item.tunnelId, item.lane);
          this.$refs.footerRef.init(item.tunnelId);
          this.currentTunnel.id = item.tunnelId;
          this.currentTunnel.name = item.tunnelName;
          this.buttonIndex = index;
        }
      }
      this.getTunnelData(this.currentTunnel.id);
      //小车显示控制
      carSwitchType(item.tunnelId, this.carShow ? 0 : 1).then((res) => {});
      //先删除
      this.carList = [];
      this.carList = new Map();
      loading.close();
    },
    onActivated(key) {},
    onDragging(key) {},
    onDropped(key) {},
    monitorWebsocket() {},

    /*点击设备类型*/
    displayControl(value, lable) {
      // console.log(value, lable,"value, lable")
      // carShow
      if (this.currentTunnel.id == "JQ-JiNan-WenZuBei-MJY") {
        this.robotShow = true;
      } else {
        this.robotShow = false;
      }
      $(".leftButtonS")
        .eq(value)
        .addClass("leftButton_hover")
        .siblings()
        .removeClass("leftButton_hover");
      this.selectBigType = {
        bigType: lable,
        index: value,
      };
      // console.log(this.selectBigType,"this.selectBigType")
      let data = this.eqBigTypeList;

      var val = value.toString();
      hasListByBigType(val).then((response) => {
        // console.log(response.rows,"response.rows")
        let typelist = response.rows;
        let typeIndex = [];
        if (typelist.length > 0) {
          for (let y = 0; y < typelist.length; y++) {
            for (let i = 0; i < this.selectedIconList.length; i++) {
              if (typelist[y].typeId == this.selectedIconList[i].eqType) {
                typeIndex.push(i);
              }
              this.selectedIconList[i].display = false;

              // 没有eqType属性的图片依旧显示 例如：隧道名称
              if (
                this.selectedIconList[i].eqType == null ||
                this.selectedIconList[i].eqType == undefined
              ) {
                this.selectedIconList[i].display = true;
              }
            }
          }
          for (let i = 0; i < typeIndex.length; i++) {
            this.selectedIconList[typeIndex[i]].display = true;
          }
        } else {
          for (let i = 0; i < this.selectedIconList.length; i++) {
            this.selectedIconList[i].display = false;
          }
        }
      });
    },
    /* 传感器设备提示框 */
    sensorContent(item) {
      let sensorDevice = [5, 17, 19];
      if (sensorDevice.indexOf(item.eqType) == -1) {
        return "";
      } else {
        let deviceName = "设备名称：" + item.eqName; // 设备名称
        let deviceStake = " 桩号：" + item.pile; // 桩号
        let state = " 检测值：" + (item.value || "无"); // 检测值
        return (deviceName + deviceStake + state).toString();
      }
    },
    sensorDisabled(item) {
      this.showTooltip = true;
    },
    sensorDisabledTwo(item) {
      let sensorDevice = [];
      if (sensorDevice.indexOf(item.eqType) == -1) {
        return true;
      } else {
        return false;
      }
    },
    clickRobot() {
      this.eqInfo.clickEqType = 29;
      for (var item of this.selectedIconList) {
        if (item.eqType == 29) {
          console.log(item, "机器人");
        }
      }
    },
    //================================================单个配置开始==================================
    /* 打开配置界面*/
    async openStateSwitch(item) {
      console.log(item, "item");
      if (this.addBatchManage == true) {
        // 判断设备是否可控 不可控的不弹批量弹窗
        if (item.isControl == "1" && ![16, 22, 36, 29].includes(item.eqType)) {
          // 判断是否有选中项 有的话 判断本次点击和上次点击 设备类型是否一样
          // 要求每次点击选中的设备类型相同
          if (this.itemEqType) {
            // 第二次点击时
            for (var itm of this.selectedIconList) {
              //  多选 选择的设备类型相同时
              if (itm.eqId == item.eqId && this.itemEqType == item.eqType) {
                // 比对id 如果曾点过 取消选框
                const result = this.itemEqId.findIndex(
                  (item) => item == itm.eqId
                );
                if (result === -1) {
                  itm.click = true;
                  // setTimeout(()=>{

                  // },2000)
                  this.itemEqId.push(itm.eqId);
                  this.$forceUpdate();
                } else {
                  this.itemEqId.splice(result, 1);
                  itm.click = false;
                  this.$forceUpdate();
                  if (this.itemEqId.length == 0) {
                    this.itemEqType = "";
                    this.batchManageForm.eqType = "";
                    this.batchManageForm.eqDirection = "";
                    // this.addBatchManage = false;
                    this.$forceUpdate();
                  }
                }
              }
              // 多选 选择的设备类型不同时 提示红字
              else if (
                itm.eqId == item.eqId &&
                this.itemEqType != item.eqType
              ) {
                this.$modal.msgWarning("请选择同种设备");
              }
            }
          } else {
            // 第一次点击时
            for (let itm of this.selectedIconList) {
              // console.log(itm);
              if (itm.eqId == item.eqId) {
                itm.click = true;
                this.itemEqId.push(itm.eqId);
                this.itemEqType = itm.eqType;
                this.batchManageForm.eqType = itm.eqType;
                this.batchManageForm.eqDirection = itm.eqDirection;
                this.$forceUpdate();
                getType(itm.eqType).then((res) => {
                  // console.log(res, "查询设备图标宽高");
                  this.iconWidth = res.data.iconWidth;
                  this.iconHeight = res.data.iconHeight;
                });
              }
            }
          }
        } else if (
          item.isControl == "0" ||
          [16, 22, 29, 33, 36].includes(item.eqType)
        ) {
          // 可控设备里 情报板 消防炮 巡检机器人 广播 也不可批量控制
          this.$modal.msgWarning("请选择可控设备");
        }
      } else if (this.addBatchManage == false) {
        this.mouseoversImplement = false;
        this.eqInfo = {
          clickEqType: item.eqType,
          equipmentId: item.eqId,
        };

        if (this.dialogEqType && this.dialogEqType != item.eqType) {
          this.dialogEqType = item.eqType;
          this.dialogClose();
        } else {
          this.dialogEqType = item.eqType;
        }
        this.$nextTick(() => {
          if ([21, 23, 24, 25, 32, 39, 40].includes(item.eqType)) {
            this.$refs.videoRef.init(
              this.eqInfo,
              this.brandList,
              this.directionList,
              this.eqTypeDialogList
            );
          } else if (
            [1, 2, 3, 4, 6, 7, 8, 9, 10, 12, 13, 30, 31, 45, 49].includes(
              item.eqType
            )
          ) {
            this.$refs.lightRef.init(
              this.eqInfo,
              this.brandList,
              this.directionList,
              this.eqTypeDialogList
            );
          } else if (item.eqType == 19) {
            this.$refs.coviRef.init(
              this.eqInfo,
              this.brandList,
              this.directionList,
              this.eqTypeDialogList
            );
          } else if ([14, 15, 35, 41, 42, 48].includes(item.eqType)) {
            this.$refs.dataRef.init(
              this.eqInfo,
              this.brandList,
              this.directionList,
              this.eqTypeDialogList
            );
          } else if (item.eqType == 17) {
            this.$refs.windRef.init(
              this.eqInfo,
              this.brandList,
              this.directionList,
              this.eqTypeDialogList
            );
          } else if (item.eqType == 28) {
            this.$refs.pressureRef.init(
              this.eqInfo,
              this.brandList,
              this.directionList,
              this.eqTypeDialogList
            );
          } else if (item.eqType == 20) {
            this.$refs.vehicleDetecRef.init(
              this.eqInfo,
              this.brandList,
              this.directionList,
              this.eqTypeDialogList
            );
          } else if (item.eqType == 34) {
            this.$refs.callPoliceRef.init(
              this.eqInfo,
              this.brandList,
              this.directionList,
              this.eqTypeDialogList
            );
          } else if (item.eqType == 5 || item.eqType == 18) {
            this.$refs.brightRef.init(
              this.eqInfo,
              this.brandList,
              this.directionList,
              this.eqTypeDialogList
            );
          } else if (item.eqType == 16 || item.eqType == 36) {
            this.$refs.boardRef.init(
              this.eqInfo,
              this.brandList,
              this.directionList,
              this.eqTypeDialogList
            );
          } else if (item.eqType == 22) {
            this.$refs.radioRef.init(
              this.eqInfo,
              this.brandList,
              this.directionList,
              this.eqTypeDialogList
            );
          } else if (item.eqType == 1067) {
            // 鸿蒙控制器
            this.$refs.kzqRef.init(
              this.eqInfo,
              this.brandList,
              this.directionList,
              this.eqTypeDialogList
            );
          } else if (item.eqType == 29) {
            // 巡检机器人
            this.robotIframeShow = true;
          } else if (item.eqType == 33 || item.eqType == 47) {
            // 智能消防炮
            this.$refs.xfpRef.init(
              this.eqInfo,
              this.brandList,
              this.directionList,
              this.eqTypeDialogList
            );
          }
        });
      }
    },
    sendAnalogCommand(param) {
      sendAnalogCom(param).then((response) => {
        if (response.code == 200) {
          this.$modal.msgSuccess("配置成功");
        }
      });
    },

    //正式方法
    async sendDirective(param) {
      const res = await deviceApi.sendDirective(param);
      return new Promise((resolve, reject) => {
        resolve(true);
      });
    },
    async getTypeFlag(param) {
      let type = param.devType;
      let hostId = param.hostId;
      const response = await getHosts(hostId);
      let plcControlType = response.data.plcControlType;
      return new Promise((resolve, reject) => {
        if (plcControlType == "CIO") {
          resolve(true);
        } else {
          // 加强、基本、
          if (type == 7 || type == 8 || type == 9 || type == 21) {
            resolve(false);
          } else {
            resolve(true);
          }
        }
      });
    },

    /* 提交配置*/
    setConfigData(param) {
      setConfigData(param)
        .then((response) => {
          console.log("记录成功");
        })
        .catch((err) => {
          console.log("记录失败,后台报错：" + err);
        });
    },
    // setWebsocket(param) {
    //   let actions = "";
    //   // 发送指令
    //   if (param.devType == 21) {
    //     actions = "Light LightValue " + param.devId + " ";
    //     actions = actions + this.stateForm.lightValue;
    //   } else {
    //     let state = "";
    //     if (param.state == 1) {
    //       state = 1;
    //     } else if (param.state == 2) {
    //       state = 0;
    //     }
    //     actions = "Device PowerSet " + param.devId + " " + state;
    //   }

    //   this.websocketsend(actions);
    // },

    /* 诱导确认配置（单项）*/
    // submitCorLight() {
    //   if (this.stateForm.corModel == null) {
    //     this.$modal.msgError("请选择控制模式后重试！");
    //     return;
    //   }
    //   let param = {
    //     hostIP: this.stateForm.eqFeedbackAddress1,
    //     corModel: this.stateForm.corModel,
    //     Zlane: this.stateForm.Zlane,
    //     Ylane: this.stateForm.Ylane,
    //     whiteLight: this.stateForm.whiteLight,
    //     yellowLight: this.stateForm.yellowLight,
    //     twinkleModel: this.stateForm.twinkleModel,
    //     twinkleFrequency: this.stateForm.twinkleFrequency,
    //     lightTime: this.stateForm.lightTime,
    //   };
    //   this.setCorLight(param)
    //     .then((response) => {
    //       this.$modal.msgSuccess("控制成功");
    //       this.youdaoVisible = false;
    //     })
    //     .catch(() => {
    //       this.$modal.msgError("控制失败，请检查设备或稍后重试！");
    //     });
    // },
    setCorLight(param) {
      setCorLight(param)
        .then((response) => {})
        .catch((err) => {});
    },

    /* 批量选择后*/
    handleSelectionChange(val) {
      this.ids = val.map((item) => item.id);
      this.single = val.length !== 1;
      this.multiple = !val.length;
      this.batchForm.eqList = [];
      // this.batchFormDirection = 1
      for (let i = 0; i < val.length; i++) {
        if (val[i + 1] != undefined) {
          if (
            val[i].typeName.typeName.indexOf("车道指示器") != -1 &&
            val[i].eqDirection != val[i + 1].eqDirection
          ) {
            this.$message({
              message: "请选择相同方向的设备进行配置！",
              type: "warning",
              customClass: "workbench-msg",
            });
            this.$refs.multipleTable.clearSelection();
            this.batchForm.eqList = [];
            break;
          } else {
            this.batchFormDirection = val[i].eqDirection;
            this.batchForm.eqList.push(val[i]);
          }
        } else {
          this.batchFormDirection = val[i].eqDirection;
          this.batchForm.eqList.push(val[i]);
        }
      }
    },
    everyCheck(number) {
      return number != 100;
    },

    // 点击某一行，将其选中
    handleRowClick(row, i, a) {
      this.$refs.multipleTable.toggleRowSelection(row);
    },
    //========================================批量配置结束================================================
    //========================================控制策略开始================================================
    /* 跳至策略页面*/
    strategyPage() {
      //this.$router.push('/strategy/index')
      this.queryParams.strategyName = "";
      this.strategyVisible = true;
      this.strategyActive = "richang";
      this.title = "控制策略";
      this.queryParams.pageNum = 1;
      this.getStrategyQuery(0);
    },
    strategyPage1() {
      // this.timingTaskShow = !this.timingTaskShow
      // this.$refs.timingTask.getEchartsData(this.tunnelList,this.tunnelItem)
    },
    strategyPage2() {
      this.jointControlShow = !this.jointControlShow;
      // this.$refs.jointControlStrategy.getEchartsData(this.tunnelList,this.tunnelItem,true)
    },
    handleClick(tab, event) {
      this.dictCode = tab.index;
      this.strategResetQuery();
      // this.queryParams.strategyGroup = Number(tab.index) + Number(1);
      this.handleQueryOperationParam();
      this.handlestrategyQuery(this.dictCode);
    },
    //系统日志操作日志tab切换
    handleTabClick(tab, event) {
      if (tab.name == "xitong") {
        // 系统日志
        this.dateRange = this.getPastTime();
        this.getOperationList("xitong");
      } else {
        // 操作日志
        this.dateRange1 = this.getPastTime();
        this.getOperationList("caozuo");
      }
    },
    // 关闭控制策略对话框
    strategyCancel() {
      this.strategyVisible = false;
    },
    handlestrategyQuery(tabIndex) {
      this.syxt_boxShow2 = false;
      this.sycz_boxShow3 = false;
      this.$refs.multipleTable.bodyWrapper.scrollTop = 0;
      this.getStrategyQuery(tabIndex);
    },
    getStrategyQuery(tabIndex) {
      this.strategyLoading = true;
      this.loading = true;
      // console.log(this.queryParams);
      // let tunnelItems = "";
      // if (!!this.tunnelItem) {
      //   tunnelItems = this.tunnelItem;
      // } else {
      //   tunnelItems = this.tunnelList[0];
      // }
      this.queryParams.tunnelId = this.currentTunnel.id;

      if (tabIndex == 0) {
        this.queryParams.strategyGroup = Number(1);
        this.queryParams.strategyType = "0";
      } else if (tabIndex == 1) {
        this.queryParams.strategyGroup = Number(1);
        this.queryParams.strategyType = "1";
      } else if (tabIndex == 2) {
        this.queryParams.strategyGroup = Number(1);
        this.queryParams.strategyType = "2";
      }
      // console.log(this.queryParams);
      listStrategy(this.queryParams).then((response) => {
        this.strategyList = response.rows;
        this.total = response.total;
        this.strategyLoading = false;
        this.loading = false;
      });
    },
    // 发送控制指令
    handleController(row) {
      this.$modal.msgSuccess("手动控制中.......");
      handleStrategy(row.id);
    },
    // 查看策略，表格的行样式
    tableRowClassName({ row, rowIndex }) {
      if (rowIndex % 2 == 0) {
        return "tableEvenRow";
      } else {
        return "tableOddRow";
      }
    },
    //========================================控制策略结束================================================
    /* 跳至操作日志页面*/
    operationLogPage() {
      this.dateRange = this.getPastTime();
      this.dateRange1 = this.getPastTime();
      this.title = "操作日志";
      this.operationActive = "caozuo";
      this.operationLogDialog = true;
      this.operationParam_xt.ipaddr = "";
      this.operationParam.operIp = "";
      this.getOperationList("caozuo");
    },

    /* 打开图标说明对话框*/
    iconExplain() {
      this.explainVisible = true;
      this.title = "图标含义";
    },
    /* 打开照明配置选项 */
    iconLighting() {
      //获取照明配置信息
      let param = { tunnelId: this.currentTunnel.id };
      getLightingConfigByParam(param).then((response) => {
        this.lightingVisible = true;
        this.title = "照明配置";
        if (response.data == null) {
          this.lightingForm = { tunnelId: this.currentTunnel.id, modeType: 0 };
        } else {
          this.lightingForm = response.data;
        }
      });
    },
    /* 关闭所有对话框*/
    cancel() {
      this.operationParam.pageNum = 1;
      this.operationParam_xt.pageNum = 1;
      this.operationLogDialog = false;
      this.explainVisible = false;
      this.lightingVisible = false;
      this.batchVisible = false;
      // this.shuibengVisible = false;
      // this.lumianVisible = false;
      // this.weiboVisible = false;
      // this.cameraVisible = false;
      // this.daolujiebingVisible = false;
      // this.lightControlDialog = false;
      // this.youdaoVisible = false;
      // this.cameraErrorInfo = "";
      this.batchForm = {
        eqType: "",
        eqList: [],
        state: "",
      };
      // this.stateForm = {};
    },
    handleTableWheel(event) {
      let obj = this.$refs.divRoller;
      if (this.handleTableWheelSwithch == true) {
        this.tableZoom(obj, event);
      }
    },
    tableZoom(obj, event) {
      // 一开始默认是100%
      let zoom = parseInt(obj.style.zoom, 10) || 100;
      // 滚轮滚一下wheelDelta的值增加或减少120
      zoom += event.wheelDelta / (Math.abs(event.wheelDelta) / 10);
      zoom < 60 ? (zoom = 60) : "";
      zoom > 140 ? (zoom = 140) : "";
      this.zoom = zoom;
      this.setMoveTop(zoom);
      if (zoom > 0) {
        obj.style.zoom = zoom + "%";
      }
      // 按鼠标位置缩放 不好用 先隐藏 以后研究
      // this.fnWheel(obj, event, zoom);
      return false;
    },
    setMoveTop(zoom) {
      var ii = 0;
      switch (zoom) {
        case 110:
          ii = 1;
          break;
        case 120:
          ii = 3.5;
          break;
        case 130:
          ii = 7;
          break;
        case 140:
          ii = 11;
          break;
        default:
          ii = 0;
          break;
      }
      if (zoom == 90) {
        ii = 1; //0.11
      } else if (zoom == 80) {
        ii = 5; //0.25
      } else if (zoom == 70) {
        ii = 13; //0.43
      } else if (zoom == 60) {
        ii = 26; //0.66
      } else if (zoom == 50) {
        ii = 50; //1
      } else if (zoom == 40) {
        ii = 90; //1.5
      } else if (zoom == 30) {
        ii = 164; //2.34
      } else if (zoom == 20) {
        ii = 320; //4
      } else if (zoom == 10 || zoom == 0) {
        ii = 800; //9
      }
      this.moveTop = (100 - zoom + ii) / 100;
    },
    fnWheel(obj, e, zoom) {
      // 思路：以鼠标为中心实现滚动的话，那么将会鼠标在背景图片（注意我这里是用背景图片的，不是img的）中滚动的时候的位置比率是不会变的
      if (e.wheelDelta > 0) {
        this.wheelFlag = true;
      } else {
        this.wheelFlag = false;
      }
      // console.log(this.$refs.divRoller, "this.$refs.divRoller");
      this.oldWidth = this.$refs.divRoller.offsetWidth;
      this.oldHeight = this.$refs.divRoller.offsetHeight;
      this.mouseLeft = e.clientX - this.$refs.divRoller.offsetLeft;
      this.mouseTop = e.clientY - this.$refs.divRoller.offsetTop;
      // 分别计算出scaleX,scaleY的倍数
      this.scaleX = this.mouseLeft / this.oldWidth;
      this.scaleY = this.mouseTop / this.oldHeight;

      obj.style.zoom = zoom + "%";
      // 鼠标为中心的开始点,如果去掉这个将会以左上角开始滚动图片
      this.newWidth = this.$refs.divCanvas.offsetWidth;
      this.newHeight = this.$refs.divCanvas.offsetHeight;
      obj.style.left = zoom + "%";
      obj.style.top =
        this.$refs.divRoller.offsetTop -
        this.scaleY * (this.newHeight - this.oldHeight) +
        "px";
    },

    // 模拟量曲线图
    // alarmsCharts(type) {
    //   let units = "";
    //   if (type == 14) units = "ppm"; // CO
    //   // if(type == 13) units = 'ppm' // 风向
    //   if (type == 5) units = "cd/m2"; // 光强
    //   if (type == 15) units = "ppm"; // 能见度
    //   if (type == 16) units = "m/s"; // 能见度
    //   var xData = [];
    //   for (let i = 2; i <= 24; i += 2) {
    //     xData.push(i + ":00");
    //   }
    //   var monthCharts = echarts.init(document.getElementById("analogQuantity"));
    //   let yData = [0, 1, 1, 2, 0, 1, 1, 1, 0, 1, 1, 0];

    //   var option = {
    //     tooltip: {
    //       trigger: "axis",
    //       axisPointer: {
    //         type: "cross",
    //         label: {
    //           backgroundColor: "#6a7985",
    //           fontSize: 12,
    //         },
    //       },
    //       textStyle: {
    //         fontSize: "100%",
    //       },
    //       formatter: (v) => {
    //         return `
    //                 <div class='u-p-2'>
    //                   <div class='fz-10'>时间：${v[0].axisValue}</div>
    //                   <div class='fz-10 u-mt-2'>模拟量：${v[0].value}${units}</div>
    //                 </div>
    //               `;
    //       },
    //     },
    //     grid: {
    //       top: "20%",
    //       left: "10%",
    //       bottom: "15%",
    //     },
    //     xAxis: {
    //       type: "category",
    //       boundaryGap: false, // 两边留白
    //       axisLabel: {
    //         textStyle: {
    //           color: "#fff",
    //           fontSize: 14,
    //         },
    //       },
    //       data: xData,
    //       axisLine: {
    //         lineStyle: {
    //           color: "#000",
    //           width: 1,
    //         },
    //       },
    //       splitLine: {
    //         lineStyle: {
    //           type: "dashed",
    //           color: "rgba(255,255,255,.2)",
    //           width: 1,
    //         },
    //         show: false,
    //       },
    //     },
    //     yAxis: {
    //       name: units,
    //       type: "value",
    //       scale: true,
    //       nameTextStyle: {
    //         color: "#fff",
    //         align: "left",
    //         padding: [0, 10, 0, 0],
    //         fontSize: "100%",
    //       },
    //       axisLabel: {
    //         textStyle: {
    //           color: "#fff",
    //           fontSize: "100%",
    //         },
    //         margin: 8,
    //       },
    //       axisLine: {
    //         lineStyle: {
    //           color: "#000",
    //           width: 1,
    //         },
    //       },
    //       splitLine: {
    //         lineStyle: {
    //           type: "solid",
    //           color: "rgba(255,255,255,.2)",
    //           width: 1,
    //         },
    //         show: false,
    //       },
    //     },
    //     series: {
    //       name: "",
    //       type: "line",
    //       stack: "",
    //       // 修改的是线下区域的颜色
    //       areaStyle: {
    //         color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
    //           {
    //             offset: 0,
    //             color: "rgba(236, 99, 123, .5)",
    //           },
    //           {
    //             offset: 1,
    //             color: "rgba(102, 212, 250,.0)",
    //           },
    //         ]),
    //       },
    //       // 修改的是线的颜色
    //       lineStyle: {
    //         color: {
    //           type: "linear",
    //           x: 0,
    //           y: 1,
    //           x2: 0,
    //           y2: 0,
    //           // 0% 处的颜色                           // 100% 处的颜色
    //           colorStops: [
    //             {
    //               offset: 0,
    //               color: "#3a76f6",
    //             },
    //             {
    //               offset: 0.25,
    //               color: "#66d4fa",
    //             },
    //             {
    //               offset: 0.75,
    //               color: "#f8d470",
    //             },
    //             {
    //               offset: 1,
    //               color: "#ec637b",
    //             },
    //           ],
    //           global: false, // 缺省为 false
    //         },
    //         width: 2,
    //       },
    //       //图例样式，默认空心圆，设为none是实心，还有'circle', 'rect', 'roundRect', 'triangle', 'diamond', 'pin', 'arrow', 'none'
    //       symbol: "none",
    //       data: yData,
    //     },
    //   };
    //   // 使用刚指定的配置项和数据显示图表。
    //   monthCharts.setOption(option);
    // },
    // 跳转页面

    // 监听缩放比例变化
    zoomChange(val) {
      val < 70 ? (val = this.zoom) : "";
      val > 130 ? (val = this.zoom) : "";
      if (val) {
        this.$refs.divRoller.style.zoom = val + "%";
        this.setMoveTop(val);
      }
    },
    pCatClick(e) {
      // debugger
    },
  },
  //实例销毁前清除定时器
  beforeDestroy() {
    //修改小车redis状态
    this.destroyedDelete();
    // 每次离开当前界面时，小车清除定时器
    clearInterval(this.timerCat);
    this.timerCat = null;
    clearInterval(this.timer);
    this.timer = null;
    clearInterval(this.imageTimer);
    this.imageTimer = null;
    window.removeEventListener("click", this.otherClose);

    document.removeEventListener("click", this.bodyCloseMenus);
    document.removeEventListener("click", this.bodyCloseMenus1);
    document.removeEventListener("click", this.bodyCloseMenus2);
    document.removeEventListener("click", this.bodyCloseMenus3);
    // // 获取指定元素
    // const scrollview = this.$refs['divRoller']
    // // 移除监听
    // scrollview.removeEventListener('scroll', this.mouseSrollAuto, true)
  },
  beforeRouteLeave(to, form, next) {
    // 离开路由移除滚动事件
    window.removeEventListener("scroll", this.mouseSrollAuto, true);
    next();
  },
};
</script>

<style lang="scss" scoped>
.buttons {
  padding: 0;
  width: 110px !important;
  height: 28px !important;
  overflow: hidden;
  span {
    img {
      width: 13px;
      margin-right: 5px;
      display: inline;
      transform: translateY(2px);
    }
    span {
      line-height: 16px;
    }
  }
}
::v-deep .el-drawer {
  pointer-events: auto !important;
}
.buttonsDeawer {
  width: 1.6vw;
  height: 4.2vh;
  // background: linear-gradient(
  //   90deg,
  //   rgba(0, 172, 237, 0.8),
  //   rgba(0, 121, 219, 0.8)
  // );
  transform: translateY(-1px);
  display: flex;
  justify-content: center;
  align-items: center;
  position: absolute;
  right: 0;
  top: 10px;
  img {
    width: 1vw;
    height: 1.6vh;
  }
}
.drawerBox {
  width: 100%;
  right: 38px;
  height: 100%;
  top: 81px;
  left: unset;
  ::v-deep .el-drawer.rtl {
    width: 22.6% !important;
    height: 12vh;
    color: #fff;
    .el-drawer__header {
      font-size: 14px;
      margin-bottom: 0px !important;
      height: 36px;
      line-height: 40px;
      color: #fff;
      margin-bottom: 0px;
    }
    .drawerItem {
      display: flex;
      padding-left: 10px;
      line-height: 34px;
      .el-switch {
        height: 34px;
        line-height: 34px;
      }
    }
  }
}
::v-deep .zoomClass .el-input__suffix {
  transform: translate(-30px, -4px) !important;
}
.closeRobot {
  position: absolute;
  top: 12px;
  left: 68%;
  z-index: 96659;
  cursor: pointer;
  width: 13px;
}
::v-deep .el-tabs__header {
  margin: 0 0 10px !important;
}
.searchTable {
  padding: 15px;
  margin: 0px;
  width: 100% !important;
  height: 30px !important;
}
.robotHtmlBox {
  width: 770px;
  height: 90% !important;
  position: absolute;
  left: 30%;
  z-index: 96659;
  // background: #071727;
  pointer-events: auto;
  // border-left: 1px solid rgba(1, 152, 255, 0.8);
  // border-right: 1px solid rgba(1, 152, 255, 0.8);
  // border-bottom: 2px solid rgba(1, 152, 255, 0.8);
}
.batchManageButton {
  width: 120px;
  display: flex;
  justify-content: space-around;
  padding: 0 5px;
  color: #e1feff;
  background: linear-gradient(2deg, #00070d, #005aa8) !important;
  border: 1px solid #00c8ff;
  font-size: 12px;
  height: 32px;
  align-items: center;
  margin-right: 10px;
  border-radius: 3px;
  color: white;
  text-align: center;
  > div {
    width: 50px;
    height: 20px;
    border-radius: 13px;
    line-height: 20px;
    cursor: pointer;
  }
  > div:nth-of-type(1) {
    background: #c8c8c8;
  }
  > div:nth-of-type(2) {
    background: #00b0ff;
  }
}
.screenEqNameClass {
  border: solid 2px #09c3fc;
  border-radius: 4px;
}
.screenEqNameBox {
  width: 120px;
  // height: 40px;
  position: absolute;
  // top: -42px;
  // left: 10px;
  line-height: 1;
  text-align: center;
  padding: 10px;
  // padding-bottom: 22px;
  font-size: 10px;
  // background-image: url(../../../assets/cloudControl/screenEqName.png);
  // background-repeat: no-repeat;
  // background-size: 100% 100%;
  color: #07c3fc;
  z-index: 10;
  background: #fff;
  border-radius: 10px;
  max-height: 42px;
  border: solid 1px #07c3fc;
}
.textFalseBox {
  width: 120px;
  height: 28px;
  position: absolute;
  line-height: 28px;
  text-align: center;
  font-size: 10px;
  color: #da4a64;
  opacity: 1;
  // animation: fadenum 2s;
  z-index: 100;
  background: #fff;
  border-radius: 10px;
  border: solid 1px #da4a64;
}
@keyframes fadenum {
  0% {
    opacity: 1;
  }
  99% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}
.eqTypeListClass {
  float: left;
  width: 6%;
  height: 68%;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  z-index: 8;
  position: absolute;
  top: 6%;
}

//车道控制
.indicatorLight {
  width: 100%;
  height: 33%;
  // background: linear-gradient(
  //   90deg,
  //   rgba($color: #00aced, $alpha: 0.8),
  //   rgba($color: #0079db, $alpha: 0.8)
  // );
  color: white;
  writing-mode: vertical-lr;
  letter-spacing: 5px;
  font-size: 0.75vw;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}

//照明控制
.brightnessControl {
  width: 100%;
  height: 33%;
  // background: linear-gradient(
  //   90deg,
  //   rgba($color: #00aced, $alpha: 0.8),
  //   rgba($color: #0079db, $alpha: 0.8)
  // );
  color: white;
  //垂直向下
  writing-mode: vertical-lr;
  text-align: center;
  //文字间隔
  letter-spacing: 5px;
  font-size: 0.75vw;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}

.el-icon-close:before {
  content: "\e6d9" !important;
}
// }
// 触发控制模块
.triggerControl {
  width: 100%;
  height: 33%;
  // background: linear-gradient(
  //   90deg,
  //   rgba($color: #00aced, $alpha: 0.8),
  //   rgba($color: #0079db, $alpha: 0.8)
  // );
  color: white;
  //垂直向下
  writing-mode: vertical-lr;
  text-align: center;
  //文字间隔
  letter-spacing: 5px;
  font-size: 0.75vw;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}

//多选框选中样式
::v-deep .el-checkbox__input.is-checked .el-checkbox__inner {
  background-color: white;
  width: 14px;
  height: 14px;
}

::v-deep .el-checkbox__input.is-checked .el-checkbox__inner::after {
  height: 9px;
  width: 6px;
  border: 2px solid #dcad76; // 是改这里的颜色
  border-left: 0;
  border-top: 0;
  top: 0px;
  left: 2px;
}

::v-deep .el-date-editor.el-input,
.el-date-editor.el-input__inner {
  width: 100%;
}

.vehicleLane {
  height: 68%;
  align-items: center;
  width: 90%;
  display: flex;
  position: absolute;
  top: 6%;
  left: 7.35%;
  overflow-x: auto;
  overflow-y: hidden;
}
.contentTopNav {
  width: 85%;
  left: 0px;
}

// #vehicle,
// #energyConsumption,
// #focusCar {
//   width: 100%;
//   height: calc(100% - 2vw);
//   margin-top: 5px;
// }

.el-input-number {
  width: 5.4vw;
  line-height: 28px;
}
.leftButtonSone {
}
.leftButtonS {
  position: relative;
  left: 0px;
  font-size: 0.75vw;
  width: 90%;
  height: 5vh;
  line-height: 5vh;
  font-weight: 500;
  caret-color: rgba(0, 0, 0, 0);
  text-align: center;
  margin-left: 1vw;
  border-radius: 2px;
  cursor: pointer;
  img {
    width: 20px;
    height: 100%;
    object-fit: contain;
    margin-left: 8px;
    margin-right: 20px;
  }
}
.topNavRightDeawer {
  right: 0;
  position: absolute;
  height: 68%;
  z-index: 8;
  width: 1.6vw;
  top: 6%;
}
::v-deep .menu-b .el-select-dropdown {
  background-color: #03192e !important;
  color: white;
  border: solid 1px #e1feff;
  z-index: 100;
}

::v-deep .menu-b .el-select .el-input .el-select__caret {
  color: #e1feff;
}

::v-deep .menu-b .el-select > .el-input {
  margin-top: 5px;
}
.menu-b .el-button-group > .el-button + .el-button {
  margin-left: 3px;
}

// 火灾报警弹窗
// ::v-deep .temperatureDialog .el-dialog {
//   margin-top: 15vw !important;
//   border: solid 4px #9f0000;
//   background-color: rgba($color: #9d0000, $alpha: 0.5);
//   border-radius: 4px;

//   .el-dialog__body {
//     display: flex;
//     font-size: 20px;
//     text-align: center;
//     padding: 0%;

//     > div {
//       width: 50%;
//       color: white;
//       margin-bottom: 10%;

//       > div:first-of-type {
//         color: #c9c9c9;
//         line-height: 50px;
//       }
//     }

//     > div:nth-of-type(1) {
//       border-right: solid 1px rgba(255, 255, 255, 0.5);
//       z-index: 10;
//     }

//     > div:nth-of-type(2) {
//       z-index: 10;
//     }

//     .HZdialogBg {
//       width: 100%;
//       height: calc(100% - 54px);
//       position: absolute;
//       background: url(../../../assets/image/fire_bg.png) no-repeat;
//       opacity: 0.3;
//       background-size: 85% 200%;
//       background-position: 130px -20px;
//     }
//   }
// }

// 隧道温度
// .temperature {
//   font-size: 16px;
//   font-weight: bold;
//   position: absolute;

//   img {
//     width: 25px;
//     height: 25px;
//   }
// }

// 字幕滚动
// .seamless-warp2 {
//   background-image: url("../../../assets/image/scroll_bg.png");
//   // transform: rotate(-90deg);
//   // height: 25px;
//   // width: 100px;
//   overflow: hidden;
//   position: absolute;
//   top: 32%;
//   right: 20%;
//   background-size: 100% 100%;

//   .item {
//     padding-left: 0px;
//     width: 400px;

//     li {
//       list-style: none;
//       float: left;
//       margin-right: 20px;
//       letter-spacing: 2px;
//       color: white;
//       width: 30px;
//       height: 150px;
//     }
//   }
// }

.item {
  margin: 4px;
  background-color: transparent;
}

.left .el-tooltip__popper,
.right .el-tooltip__popper {
  padding: 8px 10px;
  background-color: #0000ff;
}
.el-tooltip__popper.is-dark {
  line-height: 20px;
}
.app-container {
  padding: 0px !important;
}

.header {
  // color: #ced8e4;
  width: 100%;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;
}

.workbench-header {
  // padding-right: 20px;
  height: 3vh;
  margin-top: 1vh;
  display: flex;
  justify-content: space-between;
}
.buttonsBox {
  z-index: 8;
  margin-right: 32px;
}
.flex-row {
  display: flex;
  // flex-direction: row;
  height: 3vh;
  align-items: center;
  padding: 0 1vw;
  font-size: 0.6vw;
  > span {
    display: flex;
  }
}

.my-back {
  height: 100%;
  background-repeat: no-repeat;
  background-attachment: fixed;
  background-size: cover;
  -webkit-background-size: cover;
  /* 兼容Webkit内核浏览器如Chrome和Safari */
  -o-background-size: cover;
  /* 兼容Opera */
  zoom: 1;
  width: 100%;
  float: left;
  display: flex;
  flex-direction: column;
  position: relative;
}

.menu {
  width: 100%;
  float: left;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.workbench-menu {
  padding: 5px 20px 10px 10px;
}

/* 隧道选项*/
.menu-button {
  float: left;
  width: 100%;
  white-space: nowrap;
  overflow: hidden;
  display: flex;
  flex-direction: row;
  // flex-wrap: wrap;
  align-items: center;
}
.tunnel-checkbox {
  margin: 10px 0 10px 10px;
  color: #c0ccda;
}

/* 显示编号*/
.display-box {
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
  align-items: center;
  padding-right: 0.8vw;
  height: 3vh;
  .switchStyle {
    font-size: 0.75vw;
    line-height: 2vh;
    height: 2vh;
  }
}

.menu-title {
  width: 110px;
  color: #ced8e4;
  font-size: 15px;
  margin-bottom: 0px;
  margin-left: 30px;
  line-height: 40px;
}

.system-state-normal {
  color: #00aa00;
  font-size: 15px;
  margin-bottom: 0px;
}

.system-state-abnormal {
  color: #ff0000;
  font-size: 15px;
  margin-bottom: 0px;
}

.menu-button-group {
  width: 90%;
  display: inline-block;
  height: 3vh;
  .el-button {
    margin: 0 5px;
  }
}

/* 图片区域*/
.content {
  clear: both;
  text-align: center;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  zoom: 100%;
  display: inline-block;
  margin: 0 auto;
  position: relative;
}

.workbench-content {
  height: 580px;
  position: absolute;
}

.wb-direction-img {
  margin-bottom: 10px;
  padding-right: 20px;
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
  align-items: center;

  img {
    height: 10px;
    width: 70px;
  }
}

.details-row {
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
  height: 45px;
  z-index: 3;
  margin-left: 90px;
}

.icon-box {
  position: absolute;
  display: flex;
  flex-direction: column;
  // align-items: center;
  width: 0px !important;
}

// 鼠标经过盒子
.mouseHover {
  &:hover {
    z-index: 10;

    input {
      cursor: pointer;
      background-color: #eee;
      color: #000;
    }
  }
}

/* 被选择后*/
.focus {
  border: 1.3px dashed #1890ff;
  border-radius: 4px;
  margin-bottom: 2px;
}

/* 详情信息*/
.input-box {
  width: 140px;
  height: 45px;
  border-radius: 4px;
  background-color: #192348;
  text-align: center;
  color: rgb(191, 203, 217);
  /*  padding: 10px 10px; */
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  display: inline-block;
  position: absolute;
}

/* 风速等输入框*/
.details-input {
  background-color: #192348;
  border-color: #192348;
  color: #6ea2ec;
  width: 45px;
  padding: 0;
  border-radius: 2px;
}

/* 编号等输入框*/
.config-img-input {
  width: 80px;
  padding: 0px 0 2px 0;
  border: 0;
  margin: -5px;
  border-radius: 2px;
}

.s-config-img-input {
  width: 80px;
  padding: 0px 0 2px 0;
  border: 0;
  margin: -7px;
  border-radius: 2px;
}

.el-input--small {
  font-size: 14px;
}

.small-title {
  margin: 0;
  color: #6ea2ec;
}

.param-name {
  width: 140px;
  color: #afafb0;
  font-size: 12px;
  margin-right: 0;
}

/* 车道图片*/
.lane-img {
  margin: 10px 10px 0 10px;
  width: 200px;
  height: 90px;
}

.dialog-content {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
}

.lane-img-box {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: 10px 0 0 5px;
}

.lane-radio {
  margin-top: 10px;
}

.equipment-img-box {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100px;
  width: 100px;
  margin: 10px;
}

/* 画布区域*/
.config-img-area {
  height: 100%;
  width: 100%;
  background-size: cover;
  // 工作台加滚动条 居中后左侧超出部分会溢出 加下面三行
  // position: absolute;
  inset: 0px;
  margin: 0px auto;
}

.back-img {
  height: 100%;
  position: absolute;
  display: block;
}

.equipment-img {
  max-height: 150px;
  max-width: 150px;
}

.s-equipment-img {
  height: 20px;
  width: 22px;
}

.wrapper {
  height: 580px;
  width: 100%;
  border-radius: 10px;
  position: relative;
  z-index: 1;
}

input {
  width: 200px;
  padding: 20px 30px;
  border-radius: 10px;
  border: 1px solid #ccc;
  font-size: 12px;
  text-align: center;
}

/* 右键菜单 */
.contextmenu {
  margin: 0;
  background: #fff;
  z-index: 3000;
  position: absolute;
  list-style-type: none;
  padding: 0 5px;
  border-radius: 4px;
  font-size: 10px;
  font-weight: 400;
  color: #333;
  box-shadow: 2px 2px 3px 0 rgba(0, 0, 0, 0.3);
  display: flex;
  flex-direction: row;
  align-items: center;

  i {
    margin-right: 5px;
  }

  li {
    margin: 0;
    padding: 5px 5px;
    cursor: pointer;

    &:hover {
      background: #eee;
    }
  }
}

// 自动换行
::v-deep .wrap {
  word-wrap: break-word;
  word-break: normal;
  width: 100%;
}

.form-direction {
  width: 60px;
  justify-content: space-around;
}

.el-radio__input.is-checked + .el-radio__label {
  color: #c0ccda !important;
  font-weight: bold;
}
::v-deep .siteClassDisabled {
  pointer-events: none;
  margin-left: 16px;
  .el-input__suffix-inner {
    pointer-events: none !important;
  }
}
// 机器人图片盒子
.robotBox {
  position: absolute;
  right: 0;
  top: 0;
  background-color: transparent;

  .el-image {
    width: 200px;
    height: 200px;
    vertical-align: middle;

    .el-image__error {
      background-color: lightslategray;
    }
  }

  .switchIcon {
    position: absolute;
    display: none;
    left: 50%;
    top: 35%;
    font-size: 20px;
    cursor: pointer;
    color: #fff;
    background-color: rgba(0, 0, 0, 0.5);
    border-radius: 50%;
    transform: translateX(-50%) rotate(90deg);
    z-index: 1;

    &:hover {
      border-color: rgb(104, 181, 255);
      box-shadow: rgb(104 181 255) 0px 0px 10px;
      color: black;
      background-color: powderblue !important;
    }
  }

  &:hover {
    .switchIcon {
      display: inline-block;
    }
  }
}

.robotTabs {
  ::v-deep .el-tabs__header {
    .el-tabs__nav {
      border: none;

      .el-tabs__item {
        border: none;
        // color: #fff;
      }

      .el-tabs__item.is-active {
        color: cornflowerblue;
      }

      .el-tabs__item:hover {
        color: skyblue;
      }

      .el-tabs__active-bar {
        background-color: blueviolet;
      }
    }
  }

  .el-tab-pane {
    div {
      margin: 5px 0;
    }
  }
}

#robotEchart {
  width: 100%;
  height: 15rem;
}
.eventDiglog,
.operationDiglog {
  ::v-deep .el-input-group__append {
    padding: 0;
    width: 60px;
    border-left: none !important;
    .el-button {
      height: 32px;
      border-top-right-radius: 3px !important;
      border-bottom-right-radius: 3px !important;
      border-top-left-radius: 0px !important;
      border-bottom-left-radius: 0px !important;
      // transform: translateX(20px);
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
  }
  .el-dialog .el-form {
    // padding: 15px !important;
    .el-form-item__content .el-button {
      width: 88px;
      height: 22px;
      border: none;
    }
    .el-form-item__content .el-button--mini {
      padding: 2px 15px !important;
    }
  }
  .el-dialog__body {
    padding: 0 15px !important;
    .el-col {
      padding: 0 !important;
    }
  }
  .el-table {
    margin-bottom: 20px;
  }
}
::v-deep .eventDiglog .el-button--medium {
  height: 22px !important;
  line-height: 22px !important;
  padding: 0px !important;
}
.eventDiglog .el-table {
  padding: 15px;
  padding-top: 0;
  background-color: transparent !important;
  margin-bottom: 65px;
}
.el-table .fixed-width .el-button--mini {
  padding-left: 7px;
  padding-right: 10px;
  width: inherit;
  color: white;
}

.el-button-group > .el-button:last-child {
  border-top-left-radius: 4px !important;
  border-bottom-left-radius: 4px !important;
}

.el-button-group > .el-button:first-child {
  border-top-right-radius: 4px !important;
  border-bottom-right-radius: 4px !important;
}

.el-button-group > .el-button:not(:first-child):not(:last-child) {
  border-radius: 4px !important;
}

::v-deep .app-main {
  height: calc(100vh - 52px) !important;
}
::v-deep .EqType31 .radioEqType31 .el-form-item__content {
  margin-left: 0px !important;
}
::v-deep .EqType31 .radioEqType31 .el-radio {
  padding: 0px 20px !important;
  height: 40px;
  line-height: 40px;
}
.reservePlan {
  cursor: pointer;
  width: 190px;
  border-radius: 5px;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}
.reservePlan:hover {
  background: #00bbf5;
  width: 220px;
}
.paginationWorkbench {
  position: static;
  // bottom: 250px !important;
  height: 60px;
}
.labelClass {
  font-size: 0.6vw;
  position: absolute;
  padding-left: 5px;
  text-align: left;
  transform: translate(25px, 8px);
  text-decoration: underline;
  z-index: 4;
  white-space: nowrap;
  font-weight: bold;
}
.labelClass7 {
  transform: translate(60px, -2px) !important;
}
.labelClass9 {
  transform: translate(32px, -2px) !important;
}
</style>
<style lang="scss">
.vehicle-dialog,
.icon-dialog {
  .el-dialog {
    pointer-events: auto !important;
    .el-radio {
      height: 40px !important;
      width: 240px;
    }
  }
}
.popper-class-site {
  .el-cascader-menu__wrap {
    max-width: 245px;
  }
  .el-cascader-node__postfix {
    right: 18px !important;
  }
}
.tipCase.el-tooltip__popper[x-placement^="left"] .popper__arrow:after {
  display: none !important;
}

.tipCase.el-tooltip__popper[x-placement^="left"] .popper__arrow {
  display: none !important;
}

.tipCase.el-tooltip__popper[x-placement^="right"] .popper__arrow:after {
  display: none !important;
}

.tipCase.el-tooltip__popper[x-placement^="right"] .popper__arrow {
  display: none !important;
}

.tipCase {
  background: #cdedfa !important;
  border: solid 1px #1d58a9;
  color: #1d58a9 !important;
  padding: 0 !important;
  // transform:translateX(10px);
  span {
    padding: 10px !important;
    line-height: 24px !important;
  }
  // span:first-of-type{
  //   padding-bottom: 0 !important;
  // }
  // span:last-of-type{
  //   padding-top: 5px !important;
  // }
  // transform: translateX(15px);
}
.workbench-msg {
  background-color: #1890ff;
  border-color: #1890ff;

  .el-message__content {
    color: #ffffff;
  }
}

/* 文字提示*/
.wb-tip.el-tooltip__popper {
  background-color: #153051;
  color: #fff;
}

/*左右方向*/
.wb-direction-input {
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
  padding-right: 10px;

  .el-input {
    width: 100px;

    .el-input__inner {
      background-color: transparent;
      border-color: transparent;
      color: #ced8e4;
      font-size: 15px;
      width: 95px;
      text-align: right;
    }
  }
}
.comClass {
  position: absolute;
  top: 0;
  left: 0;
  pointer-events: none;
}
.chezhiDrawerDirection {
  width: 100%;
  height: 30px;
  padding-left: 10px;
  line-height: 30px;
}
.phoneBox1 {
  width: 100%;
  height: 40px;
  padding: 0 10px 0 5px;
  display: flex;
  align-items: center;
  .phoneCheckBox {
    margin-left: 10px;
    width: 100px;
  }
  .chezhiName {
    width: 80px;
    margin-left: 5px;
  }
  .chezhiControlButton {
    width: 50px;
    height: 27px;
    padding: 0;
    // border:solid 1px #A3B7CF;
    border-radius: 2px;
    margin-left: 8px;
    text-align: center;
    line-height: 27px;
    cursor: pointer;
    color: white;
  }
  .chezhiControlButton:hover {
    color: white;
  }
}
.chezhiDrawerInfo {
  width: 100%;
  height: 40px;
  padding: 0 10px 0 5px;
  display: flex;
  align-items: center;
  margin: 10px 0;
  .chezhiName {
    width: 40px;
    margin-left: 5px;
  }
  .chezhiLaneSelect {
    width: 160px;
  }
  .chezhiStateSelect {
    width: 100px;
  }
  .chezhiControlButton {
    width: 50px;
    height: 27px;
    padding: 0;
    // border:solid 1px #A3B7CF;
    border-radius: 2px;
    margin-left: 8px;
    text-align: center;
    line-height: 27px;
    cursor: pointer;
    color: white;
  }
  .chezhiControlButton:hover {
    color: white;
  }
}
/*单个设备配置框 */
.workbench-dialog {
  .el-dialog__body {
    padding: 0;
  }

  .el-dialog__footer {
    padding-top: 0;
  }
  .form-item-img {
    width: 25px;
    height: 25px;
    margin-left: 10px;
    margin-right: 10px;
  }

  .el-radio {
    padding: 5px 150px 5px 20px;
    margin: 2px 0px;
    color: #c0ccda;
    border-radius: 4px;

    &:hover {
      background-color: #455d79;
    }
  }

  .el-radio-selcted {
    margin: 2px 0px;
    color: #c0ccda;
    border-radius: 4px;
    background-color: #455d79;
  }

  /*select选择框的背景颜色*/
  .el-input__inner {
    background-color: #304156;
    color: #c0ccda;
  }

  /* 按钮*/
  .el-button {
    background-color: #455d79;
  }

  .el-icon-close:before {
    content: "\e79d";
    font-size: 20px;
  }
}
.realTimeTable {
  width: 100%;
  height: calc(100% - 50px);
  li {
    display: flex;
    justify-content: space-around;
    font-size: 12px;
    transform: translateX(-20px);
  }
}
/* 批量管理中的table*/
.batch-table {
  //去掉边框
  .el-table__row > td {
    border: none;
  }

  .el-table th.is-leaf {
    border-bottom: none !important;
  }

  .el-table::before {
    height: 0;
  }
  /*table滚动条的宽度 */
  .el-table__body-wrapper::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }

  /* table滚动条的滑块*/
  .el-table__body-wrapper::-webkit-scrollbar-thumb {
    border-radius: 3px;
  }
}

/* 设备含义中的table*/
.explain-table {
  // .el-table .el-table__header-wrapper th {
  //   background-color: #304156;
  // }

  .el-table::before {
    height: 0;
  }

  .el-table--mini td {
    padding: 2px 0;
  }

  .el-table .cell.el-tooltip {
    padding-top: 5px;
  }

  .el-table__body-wrapper {
    // background-color: #304156;
  }

  /*table滚动条的宽度 */
  .el-table__body-wrapper::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }

  /* table滚动条的滑块*/
  .el-table__body-wrapper::-webkit-scrollbar-thumb {
    background-color: #455d79;
    border-radius: 3px;
  }
  .el-radio {
    width: 240px;
    height: 40px;
    line-height: 40px;
  }
}

.movableItem {
  height: 100%;
}

.strategyClass {
  .el-table .cell {
    min-height: 38px;
    white-space: nowrap;
    line-height: 38px;
  }
}

.clickShowDrag {
  width: 40px;
  height: 40px;

  margin-left: 40px;
  margin-top: 100px;
  z-index: 960619;
}

#analogQuantity {
  width: 100%;
  height: 11rem;
}

.el-checkbox {
  color: #c0ccda;
}

.carContentRight,
.carContentLeft {
  overflow: hidden;
  width: 100%;
}

.runingCarRight {
  position: absolute;
  transition: 1.6s;
}

.runingCarLeft {
  position: absolute;
}

// 跑车
.sportCarBox {
  width: 100%;
}

.sportCar {
  height: 80px;
  position: absolute;
  transition: 1.6s;
}

.item-title {
  font-size: 16px;
}

.oldContent,
.newContent {
  .el-input__inner {
    background: #000000;
    border: unset;
    text-align: center;
    height: 80px;
    line-height: 80px;
    font-size: 20px;
  }
}

.fromTitle span {
  font-size: 18px;
  font-weight: bold;
}

.offline,
.online {
  .el-button {
    background-color: unset;
    border: unset;
    padding: 0px;
    color: white;
  }
}

.offline {
  .el-button {
    span {
      i {
        color: red;
      }
    }
  }
}

.online {
  .el-button {
    span {
      i {
        color: #1de31d;
      }
    }
  }
}

.iconList {
  .el-row {
    .el-col-4,
    .el-col-5 {
      .el-button {
        background-color: unset;
        border: unset;
        padding: 0px;
        color: white;
      }
    }

    i {
      color: white;
      font-size: 16px;
    }
  }
}
.icon-dialog {
  .el-dialog__body {
    max-height: 70vh;
    overflow-y: auto;
    overflow-x: hidden;
  }
}
.youdaoDialog {
  .el-dialog {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
  }
}

.el-table .odd-row {
  background: #304156;
  color: #fff;
}

.el-table .even-row {
  background: slategrey;
  color: #fff;
}
.actuatorCKTooltipBox {
  position: absolute;
  top: 135px;
  left: 50px;
  padding: 10px 20px;
  white-space: nowrap;
  border-radius: 4px;
  font-size: 12px;
  background: #cdedfa !important;
  border: solid 1px #1d58a9;
  color: #1d58a9 !important;
  padding: 0 !important;
  z-index: 96659;
  text-align: left;
  // transform:translateX(10px);
  span {
    padding: 10px !important;
    line-height: 24px !important;
  }
}
.tooltipBox {
  position: absolute;
  padding: 10px 20px;
  white-space: nowrap;
  border-radius: 4px;
  font-size: 12px;
  background: #cdedfa !important;
  border: solid 1px #1d58a9;
  color: #1d58a9 !important;
  padding: 0 !important;
  z-index: 96659;
  text-align: left;
  // transform:translateX(10px);
  span {
    padding: 10px !important;
    line-height: 24px !important;
  }
}

.tooltip::before {
  content: "";
  position: relative;
  width: 0;
  height: 0;
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-bottom: 10px solid #999999;
  top: -39px;
  left: 45%;
}

.robotAnimation {
  width: 20px;
  height: 20px;
  transform: translateY(-12px);
  // animation: mymove 60s infinite linear;
  float: left;
  z-index: 10;
  cursor: pointer;
}

@keyframes mymove {
  0% {
    transform: translateX(0px);
  }

  50% {
    transform: translateX(1290px);
  }

  100% {
    transform: translateX(0px);
  }
}

.el-image__error {
  display: none;
}
.carBox {
}
.carBox div {
  display: block;
  width: 20px;
  height: 20px;
  position: absolute;
}

.accident svg {
  display: block;
  width: 40px;
  height: 40px;
  position: absolute;
}

.phoneBox1 .sliderClass {
  width: 150px;
  .el-slider__runway {
    width: 100%;
    // background-color: #006784;
    margin: 12px 0;
  }
  .el-slider__bar {
    background: linear-gradient(90deg, #00aded 0%, #007cdd 100%);
  }
  .el-slider__button {
    width: 10px;
    height: 10px;
    border: solid 1px #fff;
    background-color: #ff9300;
  }
}
.boardBox1 {
  position: absolute;
  overflow: hidden;
  writing-mode: tb-rl;
  white-space: nowrap;
  text-align: center;
  padding: 2px;
  border: solid 1.5px #f9b554;
  display: flex;
  align-items: center;
  border-radius: 2px;
  background: black;
  box-shadow: 0px 0px 2px #946f3b inset, 0px 0px 4px #946f3b inset;
}
.boardBox1 span {
  display: inline-block;
  /*inline样式不能使用动画*/
  // animation: boardBox1 10s linear infinite; /*滚动动画*/
}
@keyframes boardBox1 {
  from {
    transform: translateY(72px); /*div多宽就写多宽*/
  }

  to {
    transform: translateY(-100%);
  }
}
.boardBox2 {
  position: absolute;
  overflow: hidden;
  writing-mode: tb-rl;
  white-space: nowrap;
  text-align: center;
  padding: 4px;
  border: solid 1.5px #f9b554;
  display: flex;
  align-items: center;
  border-radius: 2px;
  background: black;
  box-shadow: 0px 0px 2px #946f3b inset, 0px 0px 4px #946f3b inset;
}
.boardBox2 span {
  display: inline-block;
  /*inline样式不能使用动画*/
  // animation: boardBox2 15s linear infinite; /*滚动动画*/
}
@keyframes boardBox2 {
  from {
    transform: translateY(190px); /*div多宽就写多宽*/
  }

  to {
    transform: translateY(-100%);
  }
}
.treeBox {
  position: absolute;
  z-index: 960619;
  top: 5%;
  width: 13.5%;
  height: 60vh;
  overflow-x: hidden;
  overflow-y: auto;
}
// .treeBox::-webkit-scrollbar {
//   display: none;
// }
</style>

<style lang="scss" scoped>
.lineBT {
  width: 100%;
  margin: 2px 0px auto;
  display: flex;
  > div:nth-of-type(1) {
    width: 3%;
    border-bottom: #2dbaf5 solid 1px;
  }
  > div:nth-of-type(2) {
    width: 94%;
    border-bottom: 1px solid rgba($color: #00b0ff, $alpha: 0.2);
  }
  > div:nth-of-type(3) {
    width: 3%;
    border-bottom: #2dbaf5 solid 1px;
  }
}
.syxt_searchBox {
  position: absolute;
  top: 140px;
  right: 14px;
  width: 41%;
  z-index: 1996;
  background-color: #00335a;
  padding: 20px;
  box-sizing: border-box;
  ::v-deep .el-form-item {
    width: 100%;
    .el-form-item__content {
      width: 78%;
      .el-select {
        width: 100%;
      }
    }
  }
  .bottomBox {
    width: 100%;
    ::v-deep .el-form-item__content {
      display: flex;
      justify-content: center;
      align-items: center;
      width: 100% !important;
    }
  }
}
.accidentClass {
  float: left;
  width: 30%;
  padding: 10px;
  height: 160px;
}
.clear-float {
  clear: both;
}
.my-div {
  cursor: pointer;
}
.jinjidianhua {
  animation: blink 1s infinite;
}
@keyframes blink {
  0% {
    background-color: red;
  }
  50% {
    background-color: transparent;
  }
  100% {
    background-color: red;
  }
}
.actuatorCK {
  position: absolute;
  top: 100px;
  left: 50px;
  cursor: pointer;
  img {
    width: 20px;
    height: 20px;
  }
}
</style>
